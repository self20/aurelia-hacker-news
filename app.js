webpackJsonp([0],[,,,,,,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(18),s="https://hacker-news.firebaseio.com",c="/v0";t.STORIES_PER_PAGE=25;var l=function(){function e(){this.db=a.initializeApp({databaseURL:s}).database().ref(c)}return e.prototype.fetchItemsOnPage=function(e,n){var r=(n-1)*t.STORIES_PER_PAGE,i=n*t.STORIES_PER_PAGE;return this.fetchItems(e.slice(r,i))},e.prototype.fetchItems=function(e){var t=this;return e.length<1?Promise.resolve([]):Promise.all(e.map(function(e){return t.fetchItem(e)}))},e.prototype.fetchItem=function(e){return this.fetch("item/"+e)},e.prototype.fetch=function(e){var t=this;return new Promise(function(n,r){t.db.child(e).once("value",function(e){n(e.val())},r)})},e}();l=r([o.autoinject(),i("design:paramtypes",[])],l),t.HackerNewsApi=l},,,,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},s=n(0),c=n(6),l=function(){function e(e,t,n){this.allStories=[],this.api=e,this.router=t,this.route=n}return e.prototype.determineActivationStrategy=function(){return"replace"},e.prototype.activate=function(e){return o(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return t=this,[4,this.api.fetch(this.route)];case 1:return t.allStories=r.sent(),this.totalPages=Math.ceil(this.allStories.length/c.STORIES_PER_PAGE),void 0===e.page||isNaN(e.page)||e.page<1?(this.router.navigateToRoute(this.route,{page:1}),[3,5]):[3,2];case 2:return e.page>this.totalPages?(this.router.navigateToRoute(this.route,{page:this.totalPages}),[3,5]):[3,3];case 3:return this.currentPage=Number(e.page),n=this,[4,this.api.fetchItemsOnPage(this.allStories,this.currentPage)];case 4:n.stories=r.sent(),r.label=5;case 5:return window.scrollTo(0,0),[2]}})})},e.prototype.currentPageChanged=function(e,t){e!==t&&(this.offset=c.STORIES_PER_PAGE*(e-1))},e}();r([s.observable(),i("design:type",Number)],l.prototype,"currentPage",void 0),t.StoryList=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){e.use.standardConfiguration().feature("components").feature("converters"),i.configure({trickleSpeed:100,template:'\n          <div class="loader">                                \n            <div class="loader__bar" role="bar">\n              <div class="loader__peg"></div>\n            </div>\n            <div class="loader__spinner" role="spinner">\n              <div class="loader__spinner-icon"></div>\n            </div>\n          </div>\n        '}),e.start().then(function(){return e.setRoot("app")})}n(85);var i=n(16);t.configure=r},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=n(15),s=n(16),c=50,l=function(){function e(e){this.events=e}return e.prototype.activate=function(){var e=this;this.processingSubscription=this.events.subscribe("router:navigation:processing",function(){setTimeout(function(){e.router.isNavigating&&s.start()},c)}),this.completeSubscription=this.events.subscribe("router:navigation:complete",function(){s.done()})},e.prototype.deactivate=function(){this.processingSubscription.dispose(),this.completeSubscription.dispose()},e.prototype.configureRouter=function(e,t){this.router=t,e.title="Aurelia HN",e.mapRoute({route:"",redirect:"news"}).mapRoute({route:"news",moduleId:"./pages/news",name:"topstories"}).mapRoute({route:"newest",moduleId:"./pages/newest",name:"newstories",nav:!0,title:"New"}).mapRoute({route:"best",moduleId:"./pages/best",name:"beststories",nav:!0,title:"Best"}).mapRoute({route:"show",moduleId:"./pages/show",name:"showstories",nav:!0,title:"Show"}).mapRoute({route:"ask",moduleId:"./pages/ask",name:"askstories",nav:!0,title:"Ask"}).mapRoute({route:"jobs",moduleId:"./pages/jobs",name:"jobstories",nav:!0,title:"Jobs"}).mapRoute({route:"item/:id",moduleId:"./pages/item",name:"item"}).mapRoute({route:"user/:id",moduleId:"./pages/user",name:"user"}).mapUnknownRoutes({route:"",redirect:"news"})},e}();l=r([o.inject(a.EventAggregator),i("design:paramtypes",[a.EventAggregator])],l),t.App=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},s=n(0),c=n(6),l=function(){function e(e){this.MAX_DEPTH=8,this.expanded=!0,this.api=e}return e.prototype.bind=function(){return o(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return void 0===this.comment.kids||this.comment.kids.length<1?[2]:(e=this,[4,this.api.fetchItems(this.comment.kids)]);case 1:return e.replies=t.sent(),[2]}})})},e.prototype.toggle=function(){this.expanded=!this.expanded},e.prototype.text=function(){var e=this.comment.text,t=new RegExp('<a href="https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item\\?id=(\\d+)" rel="nofollow">https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item\\?id=\\d+</a>',"g"),n=t.exec(e);if(null===n)return e;var r='<a\n          href="https://michaelbull.github.io/aurelia-hacker-news/#/item/'+n[1]+'" \n          rel="nofollow">#'+n[1]+"</a>";return e.replace(t,r)},e}();r([s.bindable(),i("design:type",Object)],l.prototype,"comment",void 0),r([s.bindable(),i("design:type",Number)],l.prototype,"depth",void 0),l=r([s.customElement("hn-comment"),s.inject(c.HackerNewsApi),i("design:paramtypes",[c.HackerNewsApi])],l),t.Comment=l},function(e,t,n){"use strict";function r(e){e.globalResources(["./comment","./item-preview","./nav-bar","./paginator","./story-list","./user-profile"])}t.configure=r},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=function(){function e(){}return e}();r([o.bindable(),i("design:type",Object)],a.prototype,"item",void 0),a=r([o.customElement("hn-item-preview")],a),t.ItemPreview=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=function(){function e(){}return e}();r([o.bindable(),i("design:type",Array)],a.prototype,"navigation",void 0),a=r([o.customElement("hn-nav-bar")],a),t.NavBar=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=function(){function e(){}return e}();r([o.bindable(),i("design:type",Number)],a.prototype,"current",void 0),r([o.bindable(),i("design:type",Number)],a.prototype,"total",void 0),r([o.bindable(),i("design:type",String)],a.prototype,"route",void 0),a=r([o.customElement("hn-paginator")],a),t.Paginator=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=function(){function e(){}return e}();r([o.bindable(),i("design:type",Array)],a.prototype,"stories",void 0),r([o.bindable(),i("design:type",Number)],a.prototype,"offset",void 0),a=r([o.customElement("hn-story-list")],a),t.StoryList=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),a=function(){function e(){}return e}();r([o.bindable(),i("design:type",Object)],a.prototype,"user",void 0),a=r([o.customElement("hn-user-profile")],a),t.UserProfile=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=n(0),o=function(){function e(){this.anchor=document.createElement("a")}return e.prototype.toView=function(e){if(this.anchor.href=e,this.anchor.hostname!==location.hostname)return"("+this.anchor.hostname.replace("www.","")+")"},e}();o=r([i.valueConverter("hostname")],o),t.HostnameValueConverter=o},function(e,t,n){"use strict";function r(e){e.globalResources(["./hostname","./pluralise","./timeago"])}t.configure=r},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=n(0),o=function(){function e(){}return e.prototype.toView=function(e,t){return e>1?t+"s":t},e}();o=r([i.valueConverter("pluralise")],o),t.PluraliseValueConverter=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=n(0),o=n(19),a=function(){function e(){}return e.prototype.toView=function(e){return(new o).format(1e3*e)},e}();a=r([i.valueConverter("timeago")],a),t.TimeagoValueConverter=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=n(0),s=n(5),c=n(6),l=n(10),u=function(e){function t(t,n){return e.call(this,t,n,"askstories")||this}return r(t,e),t}(l.StoryList);u=i([a.inject(c.HackerNewsApi,s.Router),a.useView("./story-list.html"),o("design:paramtypes",[c.HackerNewsApi,s.Router])],u),t.AskStories=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=n(0),s=n(5),c=n(6),l=n(10),u=function(e){function t(t,n){return e.call(this,t,n,"beststories")||this}return r(t,e),t}(l.StoryList);u=i([a.inject(c.HackerNewsApi,s.Router),a.useView("./story-list.html"),o("design:paramtypes",[c.HackerNewsApi,s.Router])],u),t.BestStories=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},s=n(0),c=n(5),l=n(6),u=function(){function e(e,t){this.router=e,this.api=t}return e.prototype.activate=function(e){return o(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return void 0===e.id||isNaN(e.id)||e.id<0?(this.router.navigateToRoute("news"),[2]):(this.comments=[],t=this,[4,this.api.fetchItem(e.id)]);case 1:return t.item=r.sent(),void 0!==this.item.kids&&this.item.kids.length>=1?(n=this,[4,this.api.fetchItems(this.item.kids)]):[3,3];case 2:n.comments=r.sent(),r.label=3;case 3:return window.scrollTo(0,0),[2]}})})},e}();u=r([s.inject(c.Router,l.HackerNewsApi),i("design:paramtypes",[c.Router,l.HackerNewsApi])],u),t.Item=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=n(0),s=n(5),c=n(6),l=n(10),u=function(e){function t(t,n){return e.call(this,t,n,"jobstories")||this}return r(t,e),t}(l.StoryList);u=i([a.inject(c.HackerNewsApi,s.Router),a.useView("./story-list.html"),o("design:paramtypes",[c.HackerNewsApi,s.Router])],u),t.JobStories=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=n(0),s=n(5),c=n(6),l=n(10),u=function(e){function t(t,n){return e.call(this,t,n,"newstories")||this}return r(t,e),t}(l.StoryList);u=i([a.inject(c.HackerNewsApi,s.Router),a.useView("./story-list.html"),o("design:paramtypes",[c.HackerNewsApi,s.Router])],u),t.NewStories=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=n(0),s=n(5),c=n(6),l=n(10),u=function(e){function t(t,n){return e.call(this,t,n,"topstories")||this}return r(t,e),t}(l.StoryList);u=i([a.inject(c.HackerNewsApi,s.Router),a.useView("./story-list.html"),o("design:paramtypes",[c.HackerNewsApi,s.Router])],u),t.TopStories=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=n(0),s=n(5),c=n(6),l=n(10),u=function(e){function t(t,n){return e.call(this,t,n,"showstories")||this}return r(t,e),t}(l.StoryList);u=i([a.inject(c.HackerNewsApi,s.Router),a.useView("./story-list.html"),o("design:paramtypes",[c.HackerNewsApi,s.Router])],u),t.ShowStories=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return{next:n(0),throw:n(1),return:n(2)}},s=n(0),c=n(5),l=n(6),u=function(){function e(e,t){this.router=e,this.api=t}return e.prototype.activate=function(e){return o(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return void 0===e.id?(this.router.navigateToRoute("news"),[2]):(t=this,[4,this.api.fetch("user/"+e.id)]);case 1:return t.user=n.sent(),[2]}})})},e}();u=r([s.inject(c.Router,l.HackerNewsApi),i("design:paramtypes",[c.Router,l.HackerNewsApi])],u),t.User=u},function(e,t){},function(e,t,n){e.exports=n.p+"images/aurelia-logo.png"},,,,,function(e,t){e.exports='<template>\n  <main>\n    <header>\n      <hn-nav-bar navigation.bind="router.navigation"></hn-nav-bar>\n    </header>\n\n    <router-view></router-view>\n  </main>\n</template>\n'},function(e,t){e.exports='<template>\n  <li class="comment" if.bind="!comment.deleted">\n    <p class="comment__author">\n      <span click.delegate="toggle()" class="comment__toggle">\n        [${expanded ? \'-\' : \'+\' + replies.length}]\n      </span>\n\n      <a class="comment__author-link" route-href="route: user; params.bind: { id: comment.by }">\n        ${comment.by}\n      </a>\n\n      <a class="comment__link" route-href="route: item; params.bind: { id: comment.id}">\n        ${comment.time | timeago}\n      </a>\n    </p>\n\n    <p class="comment__text" innerhtml.one-way="text()" if.bind="expanded"></p>\n  </li>\n\n  <template if.bind="depth === MAX_DEPTH">\n    <a class="comment__more-link" route-href="route: item; params.bind: { id: comment.id}">\n      View more replies…\n    </a>\n  </template>\n\n  <template if.bind="depth < MAX_DEPTH">\n    <ul class="comment__reply" repeat.for="reply of replies" if.bind="expanded">\n      <hn-comment comment.bind="reply" depth.bind="depth + 1"></hn-comment>\n    </ul>\n  </template>\n</template>\n'},function(e,t){e.exports='<template>\n  <div class="item-preview item-preview--${item.type}">\n    <h1 class="item-preview__title" if.bind="item.url">\n      <a class="item-preview__link" href.bind="item.url" target="_blank">\n        ${item.title}\n      </a>\n    </h1>\n\n    <h1 class="item-preview__title" if.bind="!item.url">\n      <a class="item-preview__link" route-href="route: item; params.bind: { id: item.id}">\n        ${item.title}\n      </a>\n    </h1>\n\n    <a class="item-preview__site-link">${item.url | hostname}</a>\n\n    <p class="item-preview__info">\n      <template if.bind="item.score">\n        ${item.score} ${item.score | pluralise: \'point\'} by\n      </template>\n\n      <a class="item-preview__author-link" route-href="route: user; params.bind: { id: item.by }">\n        ${item.by}\n      </a>\n\n      ${item.time | timeago}\n\n      <template if.bind="item.type === \'story\'">\n        |\n\n        <a class="item-preview__comments-link"\n           route-href="route: item; params.bind: { id: item.id}"\n           if.bind="item.descendants">\n          ${item.descendants} ${item.descendants | pluralise: \'comment\'}\n        </a>\n\n        <a class="item-preview__comments-link"\n           route-href="route: item; params.bind: { id: item.id}"\n           if.bind="!item.descendants">\n          discuss\n        </a>\n      </template>\n    </p>\n  </div>\n</template>\n'},function(e,t,n){e.exports='<template>\n  <nav class="nav-bar">\n    <a href="#"><img class="nav-bar__logo"\n                     src="'+n(86)+'"\n                     alt="Aurelia Hacker News Clone"\n                     width="50" height="50" /></a>\n\n    <div class="nav-bar__left">\n      <a class="nav-bar__title" href="#">Aurelia HN</a>\n\n      <div class="nav-bar__links">\n        <a repeat.for="nav of navigation"\n           href.bind="nav.href"\n           class="nav-bar__link ${nav.isActive ? \'nav-bar__link--active\' : \'\'}">${nav.title}</a>\n      </div>\n    </div>\n\n    <div class="nav-bar__right">\n      Built with <a class="nav-bar__url" href="http://aurelia.io/" target="_blank"> Aurelia</a> |\n      Made with <span class="nav-bar__author-heart">♥</span>\n      by <a class="nav-bar__url" href="https://www.michael-bull.com/" target="_blank">Mike</a> |\n      <a class="nav-bar__url" href="https://github.com/michaelbull/aurelia-hacker-news" target="_blank">Source</a>\n    </div>\n  </nav>\n</template>\n'},function(e,t){e.exports='<template>\n  <div class="paginator">\n    <a class="paginator__selector ${current > 1 ? \'\' : \'paginator__selector--disabled\'}"\n       route-href="route.bind: route; params.bind: { page: current > 1 ? current - 1 : 1 }">\n      &laquo;</a>\n\n    <div class="paginator__current">Page ${current} of ${total}</div>\n\n    <a class="paginator__selector ${current < total ? \'\' : \'paginator__selector--disabled\'}"\n       route-href="route.bind: route; params.bind: { page: current < total ? current + 1 : total }">\n      &raquo;</a>\n  </div>\n</template>\n'},function(e,t){e.exports='<template>\n  <div class="story-list">\n    <p class="story-list__loading" if.bind="!stories">Loading...</p>\n\n    <div class="story-list__item" repeat.for="story of stories">\n      <span class="story-list__index">\n        ${$index + offset + 1}.\n      </span>\n\n      <hn-item-preview item.bind="story"></hn-item-preview>\n    </div>\n  </div>\n</template>\n'},function(e,t){e.exports='<template>\n  <table class="user-profile">\n    <tr>\n      <td>user:</td>\n      <td>${user.id}</td>\n    </tr>\n    <tr>\n      <td>created:</td>\n      <td>${user.created | timeago}</td>\n    </tr>\n    <tr>\n      <td>karma:</td>\n      <td>${user.karma}</td>\n    </tr>\n  </table>\n</template>\n'},function(e,t){e.exports='<template>\n  <p class="news-item__deleted" if.bind="item.deleted">\n    Item ${item.id} has been deleted.\n  </p>\n\n  <div class="news-item" if.bind="!item.deleted">\n    <a class="news-item__parent" route-href="route: item; params.bind: { id: item.parent}" if.bind="item.parent">\n      View Parent &raquo;\n    </a>\n\n    <hn-item-preview item.bind="item"></hn-item-preview>\n\n    <p class="news-item__text" if.bind="item.text" innerhtml.one-way="item.text"></p>\n\n    <p class="news-item__no-comments" if.bind="item.type === \'story\' && comments.length < 1">\n      No comments yet.\n    </p>\n\n    <ul class="news-item__comments" if.bind="comments.length > 0">\n      <template repeat.for="comment of comments">\n        <hn-comment comment.bind="comment" depth.bind="1"></hn-comment>\n      </template>\n    </ul>\n  </div>\n</template>\n'},function(e,t){e.exports='<template>\n  <hn-story-list\n    stories.bind="stories"\n    offset.bind="offset">\n  </hn-story-list>\n\n  <hn-paginator\n    if.bind="stories"\n    current.bind="currentPage"\n    total.bind="totalPages"\n    route.bind="route">\n  </hn-paginator>\n</template>\n';
},function(e,t){e.exports='<template>\n  <hn-user-profile user.bind="user"></hn-user-profile>\n</template>\n'},,,,function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./app":65,"./app.html":91,"./aurelia-bootstrapper-webpack":38,"./aurelia-event-aggregator":15,"./aurelia-framework":0,"./aurelia-history-browser":39,"./aurelia-http-client":40,"./aurelia-logging-console":41,"./aurelia-templating-binding":42,"./aurelia-templating-resources":43,"./aurelia-templating-resources/attr-binding-behavior":20,"./aurelia-templating-resources/attr-binding-behavior.js":20,"./aurelia-templating-resources/binding-mode-behaviors":22,"./aurelia-templating-resources/binding-mode-behaviors.js":22,"./aurelia-templating-resources/compose":23,"./aurelia-templating-resources/compose.js":23,"./aurelia-templating-resources/debounce-binding-behavior":24,"./aurelia-templating-resources/debounce-binding-behavior.js":24,"./aurelia-templating-resources/focus":25,"./aurelia-templating-resources/focus.js":25,"./aurelia-templating-resources/hide":26,"./aurelia-templating-resources/hide.js":26,"./aurelia-templating-resources/if":27,"./aurelia-templating-resources/if.js":27,"./aurelia-templating-resources/repeat":28,"./aurelia-templating-resources/repeat.js":28,"./aurelia-templating-resources/replaceable":29,"./aurelia-templating-resources/replaceable.js":29,"./aurelia-templating-resources/sanitize-html":30,"./aurelia-templating-resources/sanitize-html.js":30,"./aurelia-templating-resources/show":31,"./aurelia-templating-resources/show.js":31,"./aurelia-templating-resources/signal-binding-behavior":32,"./aurelia-templating-resources/signal-binding-behavior.js":32,"./aurelia-templating-resources/throttle-binding-behavior":33,"./aurelia-templating-resources/throttle-binding-behavior.js":33,"./aurelia-templating-resources/update-trigger-binding-behavior":34,"./aurelia-templating-resources/update-trigger-binding-behavior.js":34,"./aurelia-templating-resources/with":35,"./aurelia-templating-resources/with.js":35,"./aurelia-templating-router":44,"./aurelia-templating-router/route-href":36,"./aurelia-templating-router/route-href.js":36,"./aurelia-templating-router/router-view":37,"./aurelia-templating-router/router-view.js":37,"./components/comment":66,"./components/comment.html":92,"./components/index":67,"./components/item-preview":68,"./components/item-preview.html":93,"./components/nav-bar":69,"./components/nav-bar.html":94,"./components/paginator":70,"./components/paginator.html":95,"./components/story-list":71,"./components/story-list.html":96,"./components/user-profile":72,"./components/user-profile.html":97,"./converters/hostname":73,"./converters/index":74,"./converters/pluralise":75,"./converters/timeago":76,"./firebase":18,"./main":45,"./nprogress":16,"./pages/ask":77,"./pages/best":78,"./pages/item":79,"./pages/item.html":98,"./pages/jobs":80,"./pages/newest":81,"./pages/news":82,"./pages/show":83,"./pages/story-list":10,"./pages/story-list.html":99,"./pages/user":84,"./pages/user.html":100,"./services/api":6,"./timeago.js":19};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=104},function(e,t,n){e.exports=n(45)}],[105]);