!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,o,s){for(var a,u,c,l=0,h=[];l<r.length;l++)u=r[l],i[u]&&h.push(i[u][0]),i[u]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);for(n&&n(r,o,s);h.length;)h.shift()();if(s)for(l=0;l<s.length;l++)c=e(e.s=s[l]);return c};var r={},i={1:0};return e.e=function(t){function n(){o.onerror=o.onload=null,clearTimeout(s);var e=i[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),i[t]=void 0)}if(0===i[t])return Promise.resolve();if(i[t])return i[t][2];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.timeout=12e4,e.nc&&o.setAttribute("nonce",e.nc),o.src=e.p+""+t+".js";var s=setTimeout(n,12e4);o.onerror=o.onload=n;var a=new Promise(function(e,n){i[t]=[e,n]});return i[t][2]=a,r.appendChild(o),a},e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=106)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){y.DOM.addEventListener("submit",function(t){var e=t.target,n=e.action;"form"!==e.tagName.toLowerCase()||n||t.preventDefault()})}function o(t,e){var n=void 0,r=function r(){return n=e.shift(),n?Promise.resolve(n(t)).then(r):Promise.resolve()};return r()}function s(t,e,n){function r(r){return e.loadModule(r).then(function(e){return"configure"in e?Promise.resolve(e.configure(t,n.config||{})).then(function(){t.resourcesRelativeTo=null,w.debug("Configured plugin "+n.moduleId+".")}):(t.resourcesRelativeTo=null,void w.debug("Loaded plugin "+n.moduleId+"."))})}w.debug("Loading plugin "+n.moduleId+"."),t.resourcesRelativeTo=n.resourcesRelativeTo;var i=n.moduleId;return n.resourcesRelativeTo.length>1?e.normalize(n.moduleId,n.resourcesRelativeTo[1]).then(function(t){return r(t)}):r(i)}function a(t,e,n){function r(e){var n=e.moduleId,r=u(n);return i(n)&&(n=o(n)),t.loader.normalize(n,e.relativeTo).then(function(t){return{name:e.moduleId,importId:i(e.moduleId)?s(t,r):t}})}function i(t){var e=u(t);return!!e&&(""!==e&&(".js"!==e&&".ts"!==e))}function o(t){return t.replace(x,"")}function s(t,e){return o(t)+"."+e}var a=t.container.get(p.ViewEngine);return Promise.all(Object.keys(e).map(function(t){return r(e[t])})).then(function(t){var e=[],r=[];return t.forEach(function(t){e.push(void 0),r.push(t.importId)}),a.importViewResources(r,e,n)})}function u(t){var e=t.match(x);if(e&&e.length>0)return e[0].split(".")[1]}function c(t){if(t.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}Object.defineProperty(e,"__esModule",{value:!0}),e.LogManager=e.FrameworkConfiguration=e.Aurelia=void 0;var l=n(4);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var h=n(3);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}})});var f=n(7);Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var p=n(2);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var d=n(17);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var v=n(13);Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})});var g=n(9);Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})});var y=n(1);Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})});var m=n(8),b=r(m),w=(e.Aurelia=function(){function t(e,n,r){this.loader=e||new y.PLATFORM.Loader,this.container=n||(new l.Container).makeGlobal(),this.resources=r||new p.ViewResources,this.use=new k(this),this.logger=b.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(t,this),this.use.instance(d.Loader,this.loader),this.use.instance(p.ViewResources,this.resources)}return t.prototype.start=function(){var t=this;return this.started?Promise.resolve(this):(this.started=!0,this.logger.info("Aurelia Starting"),this.use.apply().then(function(){if(i(),!t.container.hasResolver(p.BindingLanguage)){var e="You must configure Aurelia with a BindingLanguage implementation.";throw t.logger.error(e),new Error(e)}t.logger.info("Aurelia Started");var n=y.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return y.DOM.dispatchEvent(n),t}))},t.prototype.enhance=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._configureHost(n||y.DOM.querySelectorAll("body")[0]),new Promise(function(n){var r=t.container.get(p.TemplatingEngine);t.root=r.enhance({container:t.container,element:t.host,resources:t.resources,bindingContext:e}),t.root.attached(),t._onAureliaComposed(),n(t)})},t.prototype.setRoot=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(n);var i=this.container.get(p.TemplatingEngine),o=this.container.get(p.CompositionTransaction);return delete o.initialComposition,e||(e=this.configModuleId?(0,g.relativeToFile)("./app",this.configModuleId):"app"),r.viewModel=e,r.container=r.childContainer=this.container,r.viewSlot=this.hostSlot,r.host=this.host,i.compose(r).then(function(e){return t.root=e,r.viewSlot.attached(),t._onAureliaComposed(),t})},t.prototype._configureHost=function(t){if(!this.hostConfigured){if(t=t||this.host,t&&"string"!=typeof t?this.host=t:this.host=y.DOM.getElementById(t||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new p.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(y.DOM.boundary,this.host)}},t.prototype._onAureliaComposed=function(){var t=y.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(function(){return y.DOM.dispatchEvent(t)},1)},t}(),b.getLogger("aurelia")),x=/\.[^\/.]+$/,k=function(){function t(t){var e=this;this.aurelia=t,this.container=t.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(function(){return t.loader.normalize("aurelia-bootstrapper").then(function(t){return e.bootstrapperName=t})}),this.postTask(function(){return a(t,e.resourcesToLoad,t.resources)})}return t.prototype.instance=function(t,e){return this.container.registerInstance(t,e),this},t.prototype.singleton=function(t,e){return this.container.registerSingleton(t,e),this},t.prototype.transient=function(t,e){return this.container.registerTransient(t,e),this},t.prototype.preTask=function(t){return c(this),this.preTasks.push(t),this},t.prototype.postTask=function(t){return c(this),this.postTasks.push(t),this},t.prototype.feature=function(t,e){return u(t)?this.plugin({moduleId:t,resourcesRelativeTo:[t,""],config:e||{}}):this.plugin({moduleId:t+"/index",resourcesRelativeTo:[t,""],config:e||{}})},t.prototype.globalResources=function(t){c(this);for(var e=Array.isArray(t)?t:arguments,n=void 0,r=this.resourcesRelativeTo||["",""],i=0,o=e.length;i<o;++i){if(n=e[i],"string"!=typeof n)throw new Error("Invalid resource path ["+n+"]. Resources must be specified as relative module IDs.");var s=r[0],a=r[1],u=n;(n.startsWith("./")||n.startsWith("../"))&&""!==s&&(u=(0,g.join)(s,n)),this.resourcesToLoad[u]={moduleId:u,relativeTo:a}}return this},t.prototype.globalName=function(t,e){return c(this),this.resourcesToLoad[t]={moduleId:e,relativeTo:""},this},t.prototype.plugin=function(t,e){return c(this),"string"==typeof t?this.plugin({moduleId:t,resourcesRelativeTo:[t,""],config:e||{}}):(this.info.push(t),this)},t.prototype._addNormalizedPlugin=function(t,e){var n=this,r={moduleId:t,resourcesRelativeTo:[t,""],config:e||{}};return this.plugin(r),this.preTask(function(){var e=[t,n.bootstrapperName];return r.moduleId=t,r.resourcesRelativeTo=e,Promise.resolve()}),this},t.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},t.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},t.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},t.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},t.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},t.prototype.basicConfiguration=function(){return this.defaultBindingLanguage().defaultResources().eventAggregator()},t.prototype.standardConfiguration=function(){return this.basicConfiguration().history().router()},t.prototype.developmentLogging=function(){var t=this;return this.preTask(function(){return t.aurelia.loader.normalize("aurelia-logging-console",t.bootstrapperName).then(function(e){return t.aurelia.loader.loadModule(e).then(function(t){b.addAppender(new t.ConsoleAppender),b.setLevel(b.logLevel.debug)})})}),this},t.prototype.apply=function(){var t=this;return this.processed?Promise.resolve():o(this,this.preTasks).then(function(){var e=t.aurelia.loader,n=t.info,r=void 0,i=function i(){return(r=n.shift())?s(t,e,r).then(i):(t.processed=!0,Promise.resolve())};return i().then(function(){return o(t,t.postTasks)})})},t}();e.FrameworkConfiguration=k;e.LogManager=b},function(t,e,n){"use strict";(function(t){function n(t,e,n){if(e){if(e.innerError&&n)return e;var r="\n------------------------------------------------\n";t+=r+"Inner Error:\n","string"==typeof e?t+="Message: "+e:(t+=e.message?"Message: "+e.message:"Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(e,null,"  "),e.stack&&(t+="\nInner Error Stack:\n"+e.stack,t+="\nEnd Inner Error Stack")),t+=r}var i=new Error(t);return e&&(i.innerError=e),i}function r(t){u||(e.isInitialized=u=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(t,e){for(var n=Object.getOwnPropertyDescriptor(t,e),r=Object.getPrototypeOf(t);"undefined"==typeof n&&null!==r;)n=Object.getOwnPropertyDescriptor(r,e),r=Object.getPrototypeOf(r);return n}),t(s,o,a))}function i(){e.isInitialized=u=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.AggregateError=n,e.initializePAL=r,e.reset=i;var o=e.FEATURE={},s=e.PLATFORM={noop:function(){},eachModule:function(){},moduleName:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return t})};s.global=function(){return"undefined"!=typeof self?self:"undefined"!=typeof t?t:new Function("return this")()}();var a=e.DOM={},u=e.isInitialized=!1}).call(e,n(11))},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return"-"+t.toLowerCase()}function o(t){return(t.charAt(0).toLowerCase()+t.slice(1)).replace(Gt,i)}function s(t){return!(t.auInterpolationTarget||/[^\t\n\r ]/.test(t.textContent))}function a(t){var e=function(t){Lt.metadata.define(Lt.metadata.resource,new Xt,t)};return t?e(t):e}function u(t){throw new Error("BindingLanguage must implement "+t+"().")}function c(t,e,n,r){if(e){var i=t[e];if(i){if(i!==n)throw new Error("Attempted to register "+r+" when one with the same name already exists. Name: "+e+".")}else t[e]=n}}function l(t){if(void 0!==t.animatableElement)return t.animatableElement;for(var e=t.firstChild;e&&1!==e.nodeType;)e=e.nextSibling;return e&&1===e.nodeType?t.animatableElement=e.classList.contains("au-animate")?e:null:t.animatableElement=null}function h(t){if(t===Vt.DOM.Element)return this.element;if(t===me){if(this.boundViewFactory)return this.boundViewFactory;var e=this.instruction.viewFactory,n=this.partReplacements;return n&&(e=n[e.part]||e),this.boundViewFactory=new me(this,e,n),this.boundViewFactory}return t===ve?(void 0===this.viewSlot&&(this.viewSlot=new ve(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):t===Qt?this.elementEvents||(this.elementEvents=new Qt(this.element)):t===Kt?this.compositionTransaction||(this.compositionTransaction=this.parent.get(t)):t===pe?this.viewResources:t===Zt?this.instruction:this.superGet(t)}function f(t,e,n,r,i,o){var s=t.createChild(),a=void 0,u=void 0;for(s.element=e,s.instruction=n,s.children=r,s.viewResources=o,s.partReplacements=i,a=n.providers,u=a.length;u--;)s._resolvers.set(a[u],ye);return s.superGet=s.get,s.get=h,s}function p(t){return this._element.hasAttribute(t)}function d(t){return this._element.getAttribute(t)}function v(t,e){this._element.setAttribute(t,e)}function g(t,e){var n=Vt.DOM.createComment("anchor");if(e){var r=t.firstChild;r&&"AU-CONTENT"===r.tagName&&(n.contentElement=r),n._element=t,n.hasAttribute=p,n.getAttribute=d,n.setAttribute=v}return Vt.DOM.replaceNode(n,t),n}function y(t,e,n,r,i,o,s,a,u){var c=n.behaviorInstructions,l=n.expressions,h=void 0,p=void 0,d=void 0,v=void 0,y=void 0;if(n.contentExpression)return i.push(n.contentExpression.createBinding(e.nextSibling)),e.nextSibling.auInterpolationTarget=!0,void e.parentNode.removeChild(e);if(n.shadowSlot){var m=Vt.DOM.createComment("slot"),b=void 0;return b=n.slotDestination?new le(m,n.slotName,n.slotDestination,n.slotFallbackFactory):new he(m,n.slotName,n.slotFallbackFactory),Vt.DOM.replaceNode(m,e),s[n.slotName]=b,void r.push(b)}if(c.length)for(n.anchorIsContainer||(e=g(e,n.elementInstruction)),t[n.injectorId]=h=f(t[n.parentInjectorId],e,n,o,a,u),p=0,d=c.length;p<d;++p)v=c[p],y=v.type.create(h,v,e,i),r.push(y);for(p=0,d=l.length;p<d;++p)i.push(l[p].createBinding(e))}function m(t,e){var n=t.split(";"),r=void 0,i=void 0,o=void 0,s=void 0,a=void 0;for(e=e||{},i=0;i<n.length;i++)o=n[i],r=o.indexOf(":"),s=o.substring(0,r).trim(),a=o.substring(r+1).trim(),e[s]=a;return e}function b(t){var e="";for(var n in t)e+=n+":"+t[n]+";";return e}function w(t,e,n,r,i,o){var s=n.behaviorInstructions,a=n.expressions,u=n.providers,c=n.values,l=void 0,h=void 0,f=void 0,p=void 0,d=void 0;for(l=u.length;l--;)t._resolvers.set(u[l],ye);for(var v in c)if(d=e.getAttribute(v)){if("class"===v)e.setAttribute("class",d+" "+c[v]);else if("style"===v){var g=m(c[v]);m(d,g),e.setAttribute("style",b(g))}}else e.setAttribute(v,c[v]);if(s.length)for(l=0,h=s.length;l<h;++l)f=s[l],p=f.type.create(t,f,e,i),p.contentView&&o.push(p.contentView),r.push(p);for(l=0,h=a.length;l<h;++l)i.push(a[l].createBinding(e))}function x(){return++we}function k(){return(++xe).toString()}function S(t){var e=t.getAttribute("class"),n=k();return t.setAttribute("class",e?e+" au-target":"au-target"),t.setAttribute("au-target-id",n),n}function C(t,e,n,r,i){var o=Vt.DOM.createElement("au-shadow-slot");Vt.DOM.replaceNode(o,n);var s=S(o),a=Zt.shadowSlot(i);if(a.slotName=n.getAttribute("name")||fe.defaultSlotKey,a.slotDestination=n.getAttribute("slot"),n.innerHTML.trim()){for(var u=Vt.DOM.createDocumentFragment(),c=void 0;c=n.firstChild;)u.appendChild(c);a.slotFallbackFactory=t.compile(u,e)}return r[s]=a,o}function A(t,e){return e instanceof Dt.TemplateRegistryEntry?Promise.resolve(e):t.loadTemplate(e)}function E(t,e,n){var r=e.__observers__;return void 0===r&&(t.isInitialized||t.initialize(Bt.Container.instance||new Bt.Container,e.constructor),r=t.observerLocator.getOrCreateObserversLookup(e),t._ensurePropertiesDefined(e,r)),r[n]}function T(){return++Me}function O(){return!0}function _(){}function R(t,e){return function(n,r,i){var o="string"==typeof r?n.constructor:n,s=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,o);"string"==typeof t&&(t={selector:t,name:r}),i&&(i.writable=!0),t.all=e,s.addChildBinding(new Ne(t))}}function P(t){return R(t,!0)}function M(t){return R(t,!1)}function I(t,e,n){var r=t.get(e);r||(r=[],t.set(e,r)),r.push(n)}function N(t,e){for(var n=e.binders,r=n.length,i=new Map,o=0,s=t.length;o<s;++o){for(var a=t[o],u=a.addedNodes,c=a.removedNodes,l=0,h=c.length;l<h;++l){var f=c[l];if(1===f.nodeType)for(var p=0;p<r;++p){var d=n[p];d.onRemove(f)&&I(i,d,a)}}for(var v=0,g=u.length;v<g;++v){var y=u[v];if(1===y.nodeType)for(var m=0;m<r;++m){var b=n[m];b.onAdd(y)&&I(i,b,a)}}}i.forEach(function(t,e){null!==e.changeHandler&&e.viewModel[e.changeHandler](t)})}function j(t){return t.skipActivation||"function"!=typeof t.viewModel.activate?Promise.resolve():t.viewModel.activate(t.model)||Promise.resolve()}function L(t,e){if(/[A-Z]/.test(t)){var n=o(t);return jt.getLogger("templating").warn("'"+t+"' is not a valid "+e+" name and has been converted to '"+n+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),n}return t}function V(t){return function(e){Lt.metadata.define(Lt.metadata.resource,t,e)}}function F(t){return function(e){if(t instanceof Ie)Lt.metadata.define(Lt.metadata.resource,t,e);else{var n=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,e);Object.assign(n,t)}}}function D(t){return function(e){var n=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,e);n.elementName=L(t,"custom element")}}function B(t,e){return function(n){var r=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,n);r.attributeName=L(t,"custom attribute"),r.attributeDefaultBindingMode=e}}function q(t){var e=function(t){var e=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,t);e.liftsContent=!0};return t?e(t):e}function U(t,e,n){var r=function(e,n,r){var i=n?e.constructor:e,o=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,i),s=void 0;return n&&(t=t||{},t.name=n),s=new Pe(t),s.registerWith(i,o,r)};if(!t)return r;if(e){var i=t;return t=null,r(i,e,n)}return r}function H(t){var e=function(t){var e=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,t);e.hasDynamicOptions=!0};return t?e(t):e}function z(t){var e="function"!=typeof t&&t?t:De,n=function(t){var n=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,t);n.targetShadowDOM=!0,n.shadowDOMOptions=e};return"function"==typeof t?n(t):n}function W(t){return function(e){var n=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,e);n.processAttributes=function(e,n,r,i,o){try{t(e,n,r,i,o)}catch(t){jt.getLogger("templating").error(t)}}}}function K(){return!1}function G(t){return function(e){var n=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,e);n.processContent=t?function(e,n,r,i){try{return t(e,n,r,i)}catch(t){return jt.getLogger("templating").error(t),!1}}:K}}function X(t){var e=function(t){var e=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,t);e.containerless=!0};return t?e(t):e}function Q(t){return function(e){Lt.metadata.define(se.viewStrategyMetadataKey,t,e)}}function $(t){return Q(new ee(t))}function J(t,e,n){return Q(new oe(t,e,n))}function Y(t,e){var n=void 0,r=void 0;"function"==typeof t?n=t:(r=t,n=void 0);var i=function(t){Lt.metadata.define(se.viewStrategyMetadataKey,new re(r,e),t)};return n?i(n):i}function Z(t){var e=function(t){Lt.metadata.define(Lt.metadata.resource,new Fe,t)};return t?e(t):e}function tt(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){Lt.metadata.define(Oe.viewModelRequireMetadataKey,e,t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingEngine=e.ElementConfigResource=e.CompositionEngine=e.HtmlBehaviorResource=e.BindableProperty=e.BehaviorPropertyObserver=e.Controller=e.ViewEngine=e.ModuleAnalyzer=e.ResourceDescription=e.ResourceModule=e.ViewCompiler=e.ViewFactory=e.BoundViewFactory=e.ViewSlot=e.View=e.ViewResources=e.ShadowDOM=e.ShadowSlot=e.PassThroughSlot=e.SlotCustomAttribute=e.BindingLanguage=e.ViewLocator=e.InlineViewStrategy=e.TemplateRegistryViewStrategy=e.NoViewStrategy=e.ConventionalViewStrategy=e.RelativeViewStrategy=e.viewStrategy=e.TargetInstruction=e.BehaviorInstruction=e.ViewCompileInstruction=e.ResourceLoadContext=e.ElementEvents=e.ViewEngineHooksResource=e.CompositionTransaction=e.CompositionTransactionOwnershipToken=e.CompositionTransactionNotifier=e.Animator=e.animationEvent=void 0;var et,nt,rt,it,ot,st,at,ut,ct,lt,ht,ft,pt,dt,vt,gt,yt,mt,bt,wt,xt,kt,St,Ct,At,Et,Tt,Ot,_t,Rt,Pt,Mt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e._hyphenate=o,e._isAllWhitespace=s,e.viewEngineHooks=a,e.children=P,e.child=M,e.resource=V,e.behavior=F,e.customElement=D,e.customAttribute=B,e.templateController=q,e.bindable=U,e.dynamicOptions=H,e.useShadowDOM=z,e.processAttributes=W,e.processContent=G,e.containerless=X,e.useViewStrategy=Q,e.useView=$,e.inlineView=J,e.noView=Y,e.elementConfig=Z,e.viewResources=tt;var Nt=n(8),jt=r(Nt),Lt=n(7),Vt=n(1),Ft=n(9),Dt=n(17),Bt=n(4),qt=n(3),Ut=n(13),Ht=(e.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"},e.Animator=function(){function t(){}return t.prototype.enter=function(t){return Promise.resolve(!1)},t.prototype.leave=function(t){return Promise.resolve(!1)},t.prototype.removeClass=function(t,e){return t.classList.remove(e),Promise.resolve(!1)},t.prototype.addClass=function(t,e){return t.classList.add(e),Promise.resolve(!1)},t.prototype.animate=function(t,e){return Promise.resolve(!1)},t.prototype.runSequence=function(t){},t.prototype.registerEffect=function(t,e){},t.prototype.unregisterEffect=function(t){},t}()),zt=e.CompositionTransactionNotifier=function(){function t(t){this.owner=t,this.owner._compositionCount++}return t.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},t}(),Wt=e.CompositionTransactionOwnershipToken=function(){function t(t){this.owner=t,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return t.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},t.prototype.resolve=function(){this._resolveCallback()},t.prototype._createThenable=function(){var t=this;return new Promise(function(e,n){t._resolveCallback=e})},t}(),Kt=e.CompositionTransaction=function(){function t(){this._ownershipToken=null,this._compositionCount=0}return t.prototype.tryCapture=function(){return null===this._ownershipToken?new Wt(this):null},t.prototype.enlist=function(){return new zt(this)},t.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var t=this._ownershipToken;this._ownershipToken=null,t.resolve()}},t}(),Gt=/([A-Z])/g,Xt=e.ViewEngineHooksResource=function(){function t(){}return t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerViewEngineHooks(this.instance)},t.prototype.load=function(t,e){},t.convention=function(e){if(e.endsWith("ViewEngineHooks"))return new t},t}(),Qt=e.ElementEvents=function(){function t(t){this.element=t,this.subscriptions={}}return t.prototype._enqueueHandler=function(t){this.subscriptions[t.eventName]=this.subscriptions[t.eventName]||[],this.subscriptions[t.eventName].push(t)},t.prototype._dequeueHandler=function(t){var e=void 0,n=this.subscriptions[t.eventName];return n&&(e=n.indexOf(t),e>-1&&n.splice(e,1)),t},t.prototype.publish=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Vt.DOM.createCustomEvent(t,{cancelable:r,bubbles:n,detail:e});this.element.dispatchEvent(i)},t.prototype.subscribe=function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&"function"==typeof e)return e.eventName=t,e.handler=e,e.bubbles=r,e.dispose=function(){n.element.removeEventListener(t,e,r),n._dequeueHandler(e)},this.element.addEventListener(t,e,r),this._enqueueHandler(e),e},t.prototype.subscribeOnce=function(t,e){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&"function"==typeof e){var i=function(){var i=function t(n){e(n),t.dispose()};return{v:n.subscribe(t,i,r)}}();if("object"===("undefined"==typeof i?"undefined":It(i)))return i.v}},t.prototype.dispose=function(t){if(t&&"string"==typeof t){var e=this.subscriptions[t];if(e)for(;e.length;){var n=e.pop();n&&n.dispose()}}else this.disposeAll()},t.prototype.disposeAll=function(){for(var t in this.subscriptions)this.dispose(t)},t}(),$t=e.ResourceLoadContext=function(){function t(){this.dependencies={}}return t.prototype.addDependency=function(t){this.dependencies[t]=!0},t.prototype.hasDependency=function(t){return t in this.dependencies},t}(),Jt=e.ViewCompileInstruction=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.targetShadowDOM=t,this.compileSurrogate=e,this.associatedModuleId=null};Jt.normal=new Jt;var Yt=e.BehaviorInstruction=function(){function t(){this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}return t.enhance=function(){var e=new t;return e.enhance=!0,e},t.unitTest=function(e,n){var r=new t;return r.type=e,r.attributes=n||{},r},t.element=function(e,n){var r=new t;return r.type=n,r.attributes={},r.anchorIsContainer=!(e.hasAttribute("containerless")||n.containerless),r.initiatedByBehavior=!0,r},t.attribute=function(e,n){var r=new t;return r.attrName=e,r.type=n||null,r.attributes={},r},t.dynamic=function(e,n,r){var i=new t;return i.host=e,i.viewModel=n,i.viewFactory=r,i.inheritBindingContext=!0,i},t}();Yt.normal=new Yt;var Zt=e.TargetInstruction=(nt=et=function(){function t(){this.injectorId=null,this.parentInjectorId=null,this.shadowSlot=!1,this.slotName=null,this.slotFallbackFactory=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}return t.shadowSlot=function(e){var n=new t;return n.parentInjectorId=e,n.shadowSlot=!0,n},t.contentExpression=function(e){var n=new t;return n.contentExpression=e,n},t.lifting=function(e,n){var r=new t;return r.parentInjectorId=e,r.expressions=t.noExpressions,r.behaviorInstructions=[n],r.viewFactory=n.viewFactory,r.providers=[n.type.target],r.lifting=!0,r},t.normal=function(e,n,r,i,o,s){var a=new t;return a.injectorId=e,a.parentInjectorId=n,a.providers=r,a.behaviorInstructions=i,a.expressions=o,a.anchorIsContainer=!s||s.anchorIsContainer,a.elementInstruction=s,a},t.surrogate=function(e,n,r,i){var o=new t;return o.expressions=r,o.behaviorInstructions=n,o.providers=e,o.values=i,o},t}(),et.noExpressions=Object.freeze([]),nt),te=e.viewStrategy=Lt.protocol.create("aurelia:view-strategy",{validate:function(t){return"function"==typeof t.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(t){"function"!=typeof t.makeRelativeTo&&(t.makeRelativeTo=Vt.PLATFORM.noop)}}),ee=e.RelativeViewStrategy=(rt=te(),rt(it=function(){function t(t){this.path=t,this.absolutePath=null}return t.prototype.loadViewFactory=function(t,e,n,r){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,Ft.relativeToFile)(this.path,this.moduleId)),e.associatedModuleId=this.moduleId,t.loadViewFactory(this.absolutePath||this.path,e,n,r)},t.prototype.makeRelativeTo=function(t){null===this.absolutePath&&(this.absolutePath=(0,Ft.relativeToFile)(this.path,t))},t}())||it),ne=e.ConventionalViewStrategy=(ot=te(),ot(st=function(){function t(t,e){this.moduleId=e.moduleId,this.viewUrl=t.convertOriginToViewUrl(e)}return t.prototype.loadViewFactory=function(t,e,n,r){return e.associatedModuleId=this.moduleId,t.loadViewFactory(this.viewUrl,e,n,r)},t}())||st),re=e.NoViewStrategy=(at=te(),at(ut=function(){function t(t,e){this.dependencies=t||null,this.dependencyBaseUrl=e||""}return t.prototype.loadViewFactory=function(t,e,n,r){var i=this.entry,o=this.dependencies;if(i&&i.factoryIsReady)return Promise.resolve(null);if(this.entry=i=new Dt.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),i.dependencies=[],i.templateIsLoaded=!0,null!==o)for(var s=0,a=o.length;s<a;++s){var u=o[s];"string"==typeof u||"function"==typeof u?i.addDependency(u):i.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(i,e,n,r)},t}())||ut),ie=e.TemplateRegistryViewStrategy=(ct=te(),ct(lt=function(){function t(t,e){this.moduleId=t,this.entry=e}return t.prototype.loadViewFactory=function(t,e,n,r){var i=this.entry;return i.factoryIsReady?Promise.resolve(i.factory):(e.associatedModuleId=this.moduleId,t.loadViewFactory(i,e,n,r))},t}())||lt),oe=e.InlineViewStrategy=(ht=te(),ht(ft=function(){function t(t,e,n){this.markup=t,this.dependencies=e||null,this.dependencyBaseUrl=n||""}return t.prototype.loadViewFactory=function(t,e,n,r){var i=this.entry,o=this.dependencies;if(i&&i.factoryIsReady)return Promise.resolve(i.factory);if(this.entry=i=new Dt.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),i.template=Vt.DOM.createTemplateFromMarkup(this.markup),null!==o)for(var s=0,a=o.length;s<a;++s){var u=o[s];"string"==typeof u||"function"==typeof u?i.addDependency(u):i.addDependency(u.from,u.as)}return e.associatedModuleId=this.moduleId,t.loadViewFactory(i,e,n,r)},t}())||ft),se=e.ViewLocator=(dt=pt=function(){function t(){}return t.prototype.getViewStrategy=function(e){if(!e)return null;if("object"===("undefined"==typeof e?"undefined":It(e))&&"getViewStrategy"in e){var n=Lt.Origin.get(e.constructor);
return e=e.getViewStrategy(),"string"==typeof e&&(e=new ee(e)),te.assert(e),n.moduleId&&e.makeRelativeTo(n.moduleId),e}if("string"==typeof e&&(e=new ee(e)),te.validate(e))return e;"function"!=typeof e&&(e=e.constructor);var r=Lt.Origin.get(e),i=Lt.metadata.get(t.viewStrategyMetadataKey,e);if(i)r.moduleId&&(i.moduleId=r.moduleId);else{if(!r.moduleId)throw new Error("Cannot determine default view strategy for object.",e);i=this.createFallbackViewStrategy(r)}return i},t.prototype.createFallbackViewStrategy=function(t){return new ne(this,t)},t.prototype.convertOriginToViewUrl=function(t){var e=t.moduleId,n=e.endsWith(".js")||e.endsWith(".ts")?e.substring(0,e.length-3):e;return n+".html"},t}(),pt.viewStrategyMetadataKey="aurelia:view-strategy",dt),ae=e.BindingLanguage=function(){function t(){}return t.prototype.inspectAttribute=function(t,e,n,r){u("inspectAttribute")},t.prototype.createAttributeInstruction=function(t,e,n,r){u("createAttributeInstruction")},t.prototype.inspectTextContent=function(t,e){u("inspectTextContent")},t}(),ue=Object.freeze([]),ce=e.SlotCustomAttribute=(vt=(0,Bt.inject)(Vt.DOM.Element),vt(gt=function(){function t(t){this.element=t,this.element.auSlotAttribute=this}return t.prototype.valueChanged=function(t,e){},t}())||gt),le=e.PassThroughSlot=function(){function t(t,e,n,r){this.anchor=t,this.anchor.viewSlot=this,this.name=e,this.destinationName=n,this.fallbackFactory=r,this.destinationSlot=null,this.projections=0,this.contentView=null;var i=new ce(this.anchor);i.value=this.destinationName}return t.prototype.renderFallbackContent=function(t,e,n,r){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var i=Object.create(null);i[this.destinationSlot.name]=this.destinationSlot,fe.distributeView(this.contentView,i,n,r,this.destinationSlot.name)}},t.prototype.passThroughTo=function(t){this.destinationSlot=t},t.prototype.addNode=function(e,n,r,i){return null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),n.viewSlot instanceof t?void n.viewSlot.passThroughTo(this):(this.projections++,void this.destinationSlot.addNode(e,n,r,i))},t.prototype.removeView=function(t,e){this.projections--,this.destinationSlot.removeView(t,e),this.needsFallbackRendering&&this.renderFallbackContent(null,ue,e)},t.prototype.removeAll=function(t){this.projections=0,this.destinationSlot.removeAll(t),this.needsFallbackRendering&&this.renderFallbackContent(null,ue,t)},t.prototype.projectFrom=function(t,e){this.destinationSlot.projectFrom(t,e)},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},Mt(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),he=e.ShadowSlot=function(){function t(t,e,n){this.anchor=t,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=e,this.fallbackFactory=n,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return t.prototype.addNode=function(t,e,n,r,i){if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),e.viewSlot instanceof le)return void e.viewSlot.passThroughTo(this);if(null!==this.destinationSlots)fe.distributeNodes(t,[e],this.destinationSlots,this,r);else{e.auOwnerView=t,e.auProjectionSource=n,e.auAssignedSlot=this;var o=this._findAnchor(t,e,n,r),s=o.parentNode;s.insertBefore(e,o),this.children.push(e),this.projections++}},t.prototype.removeView=function(t,e){if(null!==this.destinationSlots)fe.undistributeView(t,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)fe.undistributeView(t,this.contentView.slots,e);else{var n=this.children.find(function(t){return t.auSlotProjectFrom===e});if(n){for(var r=n.auProjectionChildren,i=0,o=r.length;i<o;++i){var s=r[i];s.auOwnerView===t&&(r.splice(i,1),t.fragment.appendChild(s),i--,o--,this.projections--)}this.needsFallbackRendering&&this.renderFallbackContent(t,ue,e)}}},t.prototype.removeAll=function(t){if(null!==this.destinationSlots)fe.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)fe.undistributeAll(this.contentView.slots,t);else{var e=this.children.find(function(e){return e.auSlotProjectFrom===t});if(e){for(var n=e.auProjectionChildren,r=0,i=n.length;r<i;++r){var o=n[r];o.auOwnerView.fragment.appendChild(o),this.projections--}e.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,ue,t)}}},t.prototype._findAnchor=function(t,e,n,r){if(n){var i=this.children.find(function(t){return t.auSlotProjectFrom===n});if(i){if(void 0!==r)for(var o=i.auProjectionChildren,s=-1,a=void 0,u=0,c=o.length;u<c;++u){var l=o[u];if(l.auOwnerView!==a&&(s++,a=l.auOwnerView,s>=r&&a!==t))return o.splice(u,0,e),l}return i.auProjectionChildren.push(e),i}}return this.anchor},t.prototype.projectTo=function(t){this.destinationSlots=t},t.prototype.projectFrom=function(t,e){var n=Vt.DOM.createComment("anchor"),r=this.anchor.parentNode;n.auSlotProjectFrom=e,n.auOwnerView=t,n.auProjectionChildren=[],r.insertBefore(n,this.anchor),this.children.push(n),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(n)},t.prototype.renderFallbackContent=function(t,e,n,r){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var i=this.contentView.slots,o=this.projectFromAnchors;if(null!==o)for(var s in i)for(var a=i[s],u=0,c=o.length;u<c;++u){var l=o[u];a.projectFrom(l.auOwnerView,l.auSlotProjectFrom)}this.fallbackSlots=i,fe.distributeNodes(t,e,i,n,r)}},t.prototype.created=function(t){this.ownerView=t},t.prototype.bind=function(t){this.contentView&&this.contentView.bind(t.bindingContext,t.overrideContext)},t.prototype.attached=function(){this.contentView&&this.contentView.attached()},t.prototype.detached=function(){this.contentView&&this.contentView.detached()},t.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},Mt(t,[{key:"needsFallbackRendering",get:function(){return this.fallbackFactory&&0===this.projections}}]),t}(),fe=e.ShadowDOM=(mt=yt=function(){function t(){}return t.getSlotName=function(e){return void 0===e.auSlotAttribute?t.defaultSlotKey:e.auSlotAttribute.value},t.distributeView=function(e,n,r,i,o){var s=void 0;if(null===e)s=ue;else{var a=e.fragment.childNodes,u=a.length;s=new Array(u);for(var c=0;c<u;++c)s[c]=a[c]}t.distributeNodes(e,s,n,r,i,o)},t.undistributeView=function(t,e,n){for(var r in e)e[r].removeView(t,n)},t.undistributeAll=function(t,e){for(var n in t)t[n].removeAll(e)},t.distributeNodes=function(e,n,r,i,o,a){for(var u=0,c=n.length;u<c;++u){var l=n[u],h=l.nodeType;if(l.isContentProjectionSource){l.viewSlot.projectTo(r);for(var f in r)r[f].projectFrom(e,l.viewSlot);n.splice(u,1),c--,u--}else if(1===h||3===h||l.viewSlot instanceof le)if(3===h&&s(l))n.splice(u,1),c--,u--;else{var p=r[a||t.getSlotName(l)];p&&(p.addNode(e,l,i,o),n.splice(u,1),c--,u--)}else n.splice(u,1),c--,u--}for(var d in r){var v=r[d];v.needsFallbackRendering&&v.renderFallbackContent(e,n,i,o)}},t}(),yt.defaultSlotKey="__au-default-slot-key__",mt),pe=e.ViewResources=function(){function t(t,e){this.bindingLanguage=null,this.parent=t||null,this.hasParent=null!==this.parent,this.viewUrl=e||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return t.prototype._tryAddHook=function(t,e){if("function"==typeof t[e]){for(var n=t[e].bind(t),r=1,i=void 0;void 0!==this[i=e+r.toString()];)r++;this[e]=!0,this[i]=n}},t.prototype._invokeHook=function(t,e,n,r,i){if(this.hasParent&&this.parent._invokeHook(t,e,n,r,i),this[t]){this[t+"1"](e,n,r,i);var o=t+"2";if(this[o]&&(this[o](e,n,r,i),o=t+"3",this[o])){this[o](e,n,r,i);for(var s=4;void 0!==this[o=t+s.toString()];)this[o](e,n,r,i),s++}}},t.prototype.registerViewEngineHooks=function(t){this._tryAddHook(t,"beforeCompile"),this._tryAddHook(t,"afterCompile"),this._tryAddHook(t,"beforeCreate"),this._tryAddHook(t,"afterCreate"),this._tryAddHook(t,"beforeBind"),this._tryAddHook(t,"beforeUnbind")},t.prototype.getBindingLanguage=function(t){return this.bindingLanguage||(this.bindingLanguage=t)},t.prototype.patchInParent=function(t){var e=this.parent;this.parent=t||null,this.hasParent=null!==this.parent,null===t.parent&&(t.parent=e,t.hasParent=null!==e)},t.prototype.relativeToView=function(t){return(0,Ft.relativeToFile)(t,this.viewUrl)},t.prototype.registerElement=function(t,e){c(this.elements,t,e,"an Element")},t.prototype.getElement=function(t){return this.elements[t]||(this.hasParent?this.parent.getElement(t):null)},t.prototype.mapAttribute=function(t){return this.attributeMap[t]||(this.hasParent?this.parent.mapAttribute(t):null)},t.prototype.registerAttribute=function(t,e,n){this.attributeMap[t]=n,c(this.attributes,t,e,"an Attribute")},t.prototype.getAttribute=function(t){return this.attributes[t]||(this.hasParent?this.parent.getAttribute(t):null)},t.prototype.registerValueConverter=function(t,e){c(this.valueConverters,t,e,"a ValueConverter")},t.prototype.getValueConverter=function(t){return this.valueConverters[t]||(this.hasParent?this.parent.getValueConverter(t):null)},t.prototype.registerBindingBehavior=function(t,e){c(this.bindingBehaviors,t,e,"a BindingBehavior")},t.prototype.getBindingBehavior=function(t){return this.bindingBehaviors[t]||(this.hasParent?this.parent.getBindingBehavior(t):null)},t.prototype.registerValue=function(t,e){c(this.values,t,e,"a value")},t.prototype.getValue=function(t){return this.values[t]||(this.hasParent?this.parent.getValue(t):null)},t}(),de=e.View=function(){function t(t,e,n,r,i,o,s){this.container=t,this.viewFactory=e,this.resources=e.resources,this.fragment=n,this.firstChild=n.firstChild,this.lastChild=n.lastChild,this.controllers=r,this.bindings=i,this.children=o,this.slots=s,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null;for(var a in s){this.hasSlots=!0;break}}return t.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},t.prototype.created=function(){var t=void 0,e=void 0,n=this.controllers;for(t=0,e=n.length;t<e;++t)n[t].created(this)},t.prototype.bind=function(t,e,n){var r=void 0,i=void 0,o=void 0,s=void 0,a=void 0;if(!n||!this._isUserControlled){if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t,this.overrideContext=e||(0,qt.createOverrideContext)(t),this.resources._invokeHook("beforeBind",this),i=this.bindings,s=0,a=i.length;s<a;++s)i[s].bind(this);for(null!==this.viewModelScope&&(t.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),r=this.controllers,s=0,a=r.length;s<a;++s)r[s].bind(this);for(o=this.children,s=0,a=o.length;s<a;++s)o[s].bind(t,e,!0);this.hasSlots&&fe.distributeView(this.contentView,this.slots)}},t.prototype.addBinding=function(t){this.bindings.push(t),this.isBound&&t.bind(this)},t.prototype.unbind=function(){var t=void 0,e=void 0,n=void 0,r=void 0,i=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),e=this.bindings,r=0,i=e.length;r<i;++r)e[r].unbind();for(t=this.controllers,r=0,i=t.length;r<i;++r)t[r].unbind();for(n=this.children,r=0,i=n.length;r<i;++r)n[r].unbind();this.bindingContext=null,this.overrideContext=null}},t.prototype.insertNodesBefore=function(t){t.parentNode.insertBefore(this.fragment,t)},t.prototype.appendNodesTo=function(t){t.appendChild(this.fragment)},t.prototype.removeNodes=function(){for(var t=this.fragment,e=this.firstChild,n=this.lastChild,r=void 0;e&&(r=e.nextSibling,t.appendChild(e),e!==n);)e=r},t.prototype.attached=function(){var t=void 0,e=void 0,n=void 0,r=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),t=this.controllers,n=0,r=t.length;n<r;++n)t[n].attached();for(e=this.children,n=0,r=e.length;n<r;++n)e[n].attached()}},t.prototype.detached=function(){var t=void 0,e=void 0,n=void 0,r=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),t=this.controllers,n=0,r=t.length;n<r;++n)t[n].detached();for(e=this.children,n=0,r=e.length;n<r;++n)e[n].detached()}},t}(),ve=e.ViewSlot=function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ht.instance;this.anchor=t,this.anchorIsContainer=e,this.bindingContext=null,this.overrideContext=null,this.animator=n,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,t.viewSlot=this,t.isContentProjectionSource=!1}return t.prototype.animateView=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"enter",n=l(t);if(null!==n)switch(e){case"enter":return this.animator.enter(n);case"leave":return this.animator.leave(n);default:throw new Error("Invalid animation direction: "+e)}},t.prototype.transformChildNodesIntoView=function(){var t=this.anchor;this.children.push({fragment:t,firstChild:t.firstChild,lastChild:t.lastChild,returnToCache:function(){},removeNodes:function(){for(var e=void 0;e=t.lastChild;)t.removeChild(e)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},t.prototype.bind=function(t,e){var n=void 0,r=void 0,i=void 0;if(this.isBound){if(this.bindingContext===t)return;this.unbind()}for(this.isBound=!0,this.bindingContext=t=t||this.bindingContext,this.overrideContext=e=e||this.overrideContext,i=this.children,n=0,r=i.length;n<r;++n)i[n].bind(t,e,!0)},t.prototype.unbind=function(){if(this.isBound){var t=void 0,e=void 0,n=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,t=0,e=n.length;t<e;++t)n[t].unbind()}},t.prototype.add=function(t){if(this.anchorIsContainer?t.appendNodesTo(this.anchor):t.insertNodesBefore(this.anchor),this.children.push(t),this.isAttached)return t.attached(),this.animateView(t,"enter")},t.prototype.insert=function(t,e){var n=this.children,r=n.length;return 0===t&&0===r||t>=r?this.add(e):(e.insertNodesBefore(n[t].firstChild),n.splice(t,0,e),this.isAttached?(e.attached(),this.animateView(e,"enter")):void 0)},t.prototype.move=function(t,e){if(t!==e){var n=this.children,r=n[t];r.removeNodes(),r.insertNodesBefore(n[e].firstChild),n.splice(t,1),n.splice(e,0,r)}},t.prototype.remove=function(t,e,n){return this.removeAt(this.children.indexOf(t),e,n)},t.prototype.removeMany=function(t,e,n){var r=this,i=this.children,o=t.length,s=void 0,a=[];t.forEach(function(t){if(n)return void t.removeNodes();var e=r.animateView(t,"leave");e?a.push(e.then(function(){return t.removeNodes()})):t.removeNodes()});var u=function(){if(r.isAttached)for(s=0;s<o;++s)t[s].detached();if(e)for(s=0;s<o;++s)t[s].returnToCache();for(s=0;s<o;++s){var n=i.indexOf(t[s]);n>=0&&i.splice(n,1)}};return a.length>0?Promise.all(a).then(function(){return u()}):u()},t.prototype.removeAt=function(t,e,n){var r=this,i=this.children[t],o=function(){return t=r.children.indexOf(i),i.removeNodes(),r.children.splice(t,1),r.isAttached&&i.detached(),e&&i.returnToCache(),i};if(!n){var s=this.animateView(i,"leave");if(s)return s.then(function(){return o()})}return o()},t.prototype.removeAll=function(t,e){var n=this,r=this.children,i=r.length,o=void 0,s=[];r.forEach(function(t){if(e)return void t.removeNodes();var r=n.animateView(t,"leave");r?s.push(r.then(function(){return t.removeNodes()})):t.removeNodes()});var a=function(){if(n.isAttached)for(o=0;o<i;++o)r[o].detached();if(t)for(o=0;o<i;++o)r[o].returnToCache();n.children=[]};return s.length>0?Promise.all(s).then(function(){return a()}):a()},t.prototype.attached=function(){var t=void 0,e=void 0,n=void 0,r=void 0;if(!this.isAttached)for(this.isAttached=!0,n=this.children,t=0,e=n.length;t<e;++t)r=n[t],r.attached(),this.animateView(r,"enter")},t.prototype.detached=function(){var t=void 0,e=void 0,n=void 0;if(this.isAttached)for(this.isAttached=!1,n=this.children,t=0,e=n.length;t<e;++t)n[t].detached()},t.prototype.projectTo=function(t){var e=this;this.projectToSlots=t,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach(function(n){return fe.distributeView(n,t,e)})},t.prototype._projectionAdd=function(t){fe.distributeView(t,this.projectToSlots,this),this.children.push(t),this.isAttached&&t.attached()},t.prototype._projectionInsert=function(t,e){0===t&&!this.children.length||t>=this.children.length?this.add(e):(fe.distributeView(e,this.projectToSlots,this,t),this.children.splice(t,0,e),this.isAttached&&e.attached())},t.prototype._projectionMove=function(t,e){if(t!==e){var n=this.children,r=n[t];fe.undistributeView(r,this.projectToSlots,this),fe.distributeView(r,this.projectToSlots,this,e),n.splice(t,1),n.splice(e,0,r)}},t.prototype._projectionRemove=function(t,e){fe.undistributeView(t,this.projectToSlots,this),this.children.splice(this.children.indexOf(t),1),this.isAttached&&t.detached()},t.prototype._projectionRemoveAt=function(t,e){var n=this.children[t];fe.undistributeView(n,this.projectToSlots,this),this.children.splice(t,1),this.isAttached&&n.detached()},t.prototype._projectionRemoveMany=function(t,e){var n=this;t.forEach(function(t){return n.remove(t,e)})},t.prototype._projectionRemoveAll=function(t){fe.undistributeAll(this.projectToSlots,this);var e=this.children;if(this.isAttached)for(var n=0,r=e.length;n<r;++n)e[n].detached();this.children=[]},t}(),ge=(0,Bt.resolver)(bt=function(){function t(){}return t.prototype.get=function(t,e){var n=e.__providerId__;return n in t?t[n]:t[n]=t.invoke(e)},t}())||bt,ye=new ge,me=e.BoundViewFactory=function(){function t(t,e,n){this.parentContainer=t,this.viewFactory=e,this.factoryCreateInstruction={partReplacements:n}}return t.prototype.create=function(){var t=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return t._isUserControlled=!0,t},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},Mt(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),be=e.ViewFactory=function(){function t(t,e,n){this.isCaching=!1,this.template=t,this.instructions=e,this.resources=n,this.cacheSize=-1,this.cache=null}return t.prototype.setCacheSize=function(t,e){t&&("*"===t?t=Number.MAX_VALUE:"string"==typeof t&&(t=parseInt(t,10))),this.cacheSize!==-1&&e||(this.cacheSize=t),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},t.prototype.getCachedView=function(){return null!==this.cache?this.cache.pop()||null:null},t.prototype.returnViewToCache=function(t){t.isAttached&&t.detached(),t.isBound&&t.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(t.fromCache=!0,this.cache.push(t))},t.prototype.create=function(t,e,n){e=e||Yt.normal;var r=this.getCachedView();if(null!==r)return r;var i=e.enhance?this.template:this.template.cloneNode(!0),o=i.querySelectorAll(".au-target"),s=this.instructions,a=this.resources,u=[],c=[],l=[],h=Object.create(null),f={root:t},p=e.partReplacements,d=void 0,v=void 0,g=void 0,m=void 0,b=void 0;for(this.resources._invokeHook("beforeCreate",this,t,i,e),n&&null!==this.surrogateInstruction&&w(t,n,this.surrogateInstruction,u,c,l),e.enhance&&i.hasAttribute("au-target-id")&&(m=i,b=s[m.getAttribute("au-target-id")],y(f,m,b,u,c,l,h,p,a)),d=0,v=o.length;d<v;++d)m=o[d],b=s[m.getAttribute("au-target-id")],y(f,m,b,u,c,l,h,p,a);return g=new de(t,this,i,u,c,l,h),e.initiatedByBehavior||g.created(),this.resources._invokeHook("afterCreate",g),g},t}(),we=0,xe=0,ke=e.ViewCompiler=(wt=(0,Bt.inject)(ae,pe),wt(xt=function(){function t(t,e){this.bindingLanguage=t,this.resources=e}return t.prototype.compile=function(t,e,n){e=e||this.resources,n=n||Jt.normal,t="string"==typeof t?Vt.DOM.createTemplateFromMarkup(t):t;var r=void 0,i=void 0,o=void 0;t.content?(i=t.getAttribute("part"),o=t.getAttribute("view-cache"),r=Vt.DOM.adoptNode(t.content)):r=t,n.targetShadowDOM=n.targetShadowDOM&&Vt.FEATURE.shadowDOM,e._invokeHook("beforeCompile",r,e,n);var s={};this._compileNode(r,e,s,t,"root",!n.targetShadowDOM);var a=r.firstChild;if(a&&1===a.nodeType){var u=a.getAttribute("au-target-id");if(u){var c=s[u];(c.shadowSlot||c.lifting||c.elementInstruction&&!c.elementInstruction.anchorIsContainer)&&r.insertBefore(Vt.DOM.createComment("view"),a)}}var l=new be(r,s,e);return l.surrogateInstruction=n.compileSurrogate?this._compileSurrogate(t,e):null,l.part=i,o&&l.setCacheSize(o),e._invokeHook("afterCompile",l),l},t.prototype._compileNode=function(t,e,n,r,i,o){switch(t.nodeType){case 1:return this._compileElement(t,e,n,r,i,o);case 3:var s=e.getBindingLanguage(this.bindingLanguage).inspectTextContent(e,t.wholeText);if(s){var a=Vt.DOM.createElement("au-marker"),u=S(a);for((t.parentNode||r).insertBefore(a,t),t.textContent=" ",n[u]=Zt.contentExpression(s);t.nextSibling&&3===t.nextSibling.nodeType;)(t.parentNode||r).removeChild(t.nextSibling)}else for(;t.nextSibling&&3===t.nextSibling.nodeType;)t=t.nextSibling;return t.nextSibling;case 11:for(var c=t.firstChild;c;)c=this._compileNode(c,e,n,t,i,o)}return t.nextSibling},t.prototype._compileSurrogate=function(t,e){var n=t.tagName.toLowerCase(),r=t.attributes,i=e.getBindingLanguage(this.bindingLanguage),o=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,p=void 0,d=void 0,v=[],g=void 0,y=[],m={},b=!1,w=[];for(u=0,c=r.length;u<c;++u)if(l=r[u],h=l.name,f=l.value,p=i.inspectAttribute(e,n,h,f),d=e.getAttribute(p.attrName),d&&(o=e.mapAttribute(p.attrName),o&&(s=d.attributes[o],s&&(p.defaultBindingMode=s.defaultBindingMode,p.command||p.expression||(p.command=s.hasOptions?"options":null),p.command&&"options"!==p.command&&d.primaryProperty&&(h=p.attrName=d.primaryProperty.name)))),a=i.createAttributeInstruction(e,t,p,void 0,d))if(a.alteredAttr&&(d=e.getAttribute(a.attrName)),a.discrete)v.push(a);else if(d){if(a.type=d,this._configureProperties(a,e),d.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");y.push(a)}else v.push(a.attributes[a.attrName]);else if(d){if(a=Yt.attribute(h,d),a.attributes[e.mapAttribute(h)]=f,d.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");y.push(a)}else"id"!==h&&"part"!==h&&"replace-part"!==h&&(b=!0,m[h]=f);if(v.length||y.length||b){for(u=0,c=y.length;u<c;++u)a=y[u],a.type.compile(this,e,t,a),w.push(a.type.target);for(u=0,c=v.length;u<c;++u)g=v[u],void 0!==g.attrToRemove&&t.removeAttribute(g.attrToRemove);return Zt.surrogate(w,y,v,m)}return null},t.prototype._compileElement=function(t,e,n,r,i,o){var s=t.tagName.toLowerCase(),a=t.attributes,u=[],c=void 0,l=[],h=[],f=e.getBindingLanguage(this.bindingLanguage),p=void 0,d=void 0,v=void 0,g=void 0,y=void 0,m=void 0,b=void 0,w=void 0,k=void 0,A=void 0,E=void 0,T=void 0,O=void 0,_=void 0,R=void 0,P=void 0;if("slot"===s)return o&&(t=C(this,e,t,n,i)),t.nextSibling;for("template"===s?(d=this.compile(t,e),d.part=t.getAttribute("part")):(v=e.getElement(t.getAttribute("as-element")||s),v&&(g=Yt.element(t,v),v.processAttributes(this,e,t,a,g),l.push(g))),m=0,b=a.length;m<b;++m)if(w=a[m],k=w.name,A=w.value,T=f.inspectAttribute(e,s,k,A),o&&"slot"===T.attrName&&(T.attrName=k="au-slot"),v=e.getAttribute(T.attrName),y=null,v?(_=e.mapAttribute(T.attrName),_&&(O=v.attributes[_],O&&(T.defaultBindingMode=O.defaultBindingMode,T.command||T.expression||(T.command=O.hasOptions?"options":null),T.command&&"options"!==T.command&&v.primaryProperty&&(k=T.attrName=v.primaryProperty.name)))):g&&(y=g.type.attributes[T.attrName],y&&(T.defaultBindingMode=y.defaultBindingMode)),E=y?f.createAttributeInstruction(e,t,T,g):f.createAttributeInstruction(e,t,T,void 0,v))if(E.alteredAttr&&(v=e.getAttribute(E.attrName)),E.discrete)u.push(E);else if(v){if(E.type=v,this._configureProperties(E,e),v.liftsContent){E.originalAttrName=k,p=E;break}l.push(E)}else y?g.attributes[T.attrName].targetProperty=y.name:u.push(E.attributes[E.attrName]);else if(v){if(E=Yt.attribute(k,v),E.attributes[e.mapAttribute(k)]=A,v.liftsContent){E.originalAttrName=k,p=E;break}l.push(E)}else y&&(g.attributes[k]=A);if(p)p.viewFactory=d,t=p.type.compile(this,e,t,p,r),R=S(t),n[R]=Zt.lifting(i,p);else{if(u.length||l.length){for(P=!!l.length&&x(),m=0,b=l.length;m<b;++m)E=l[m],E.type.compile(this,e,t,E,r),h.push(E.type.target);for(m=0,b=u.length;m<b;++m)c=u[m],void 0!==c.attrToRemove&&t.removeAttribute(c.attrToRemove);R=S(t),n[R]=Zt.normal(P,i,h,l,u,g)}if(g&&g.skipContentProcessing)return t.nextSibling;for(var M=t.firstChild;M;)M=this._compileNode(M,e,n,t,P||i,o)}return t.nextSibling},t.prototype._configureProperties=function(t,e){var n=t.type,r=t.attrName,i=t.attributes,o=void 0,s=void 0,a=void 0,u=e.mapAttribute(r);u&&r in i&&u!==r&&(i[u]=i[r],delete i[r]);for(s in i)a=i[s],null!==a&&"object"===("undefined"==typeof a?"undefined":It(a))&&(o=n.attributes[s],void 0!==o?a.targetProperty=o.name:a.targetProperty=s)},t}())||xt),Se=e.ResourceModule=function(){function t(t){this.id=t,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return t.prototype.initialize=function(t){var e=this.mainResource,n=this.resources,r=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==e&&(e.metadata.viewStrategy=r,e.initialize(t));for(var i=0,o=n.length;i<o;++i)e=n[i],e.metadata.viewStrategy=r,e.initialize(t)}},t.prototype.register=function(t,e){var n=this.mainResource,r=this.resources;void 0!==n&&(n.register(t,e),e=null);for(var i=0,o=r.length;i<o;++i)r[i].register(t,e),e=null},t.prototype.load=function(t,e){if(null!==this.onLoaded)return this.loadContext===e?Promise.resolve():this.onLoaded;var n=this.mainResource,r=this.resources,i=void 0;if(void 0!==n){i=new Array(r.length+1),i[0]=n.load(t,e);for(var o=0,s=r.length;o<s;++o)i[o+1]=r[o].load(t,e)}else{i=new Array(r.length);for(var a=0,u=r.length;a<u;++a)i[a]=r[a].load(t,e)}return this.loadContext=e,this.onLoaded=Promise.all(i),this.onLoaded},t}(),Ce=e.ResourceDescription=function(){function t(t,e,n){n||(n=Lt.metadata.get(Lt.metadata.resource,e),n||(n=new Ie,n.elementName=o(t),Lt.metadata.define(Lt.metadata.resource,n,e))),n instanceof Ie?void 0===n.elementName?n.elementName=o(t):void 0===n.attributeName?n.attributeName=o(t):null===n.attributeName&&null===n.elementName&&Ie.convention(t,n):n.name||(n.name=o(t)),this.metadata=n,this.value=e}return t.prototype.initialize=function(t){this.metadata.initialize(t,this.value)},t.prototype.register=function(t,e){this.metadata.register(t,e)},t.prototype.load=function(t,e){return this.metadata.load(t,this.value,e)},t}(),Ae=e.ModuleAnalyzer=function(){function t(){this.cache=Object.create(null)}return t.prototype.getAnalysis=function(t){return this.cache[t]},t.prototype.analyze=function(t,e,n){var r=void 0,i=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=[],h=void 0,f=void 0,p=void 0;if(p=this.cache[t])return p;p=new Se(t),this.cache[t]=p,"function"==typeof e&&(e={default:e}),n&&(r=new Ce(n,e[n]));for(u in e)c=e[u],u!==n&&"function"==typeof c&&(a=Lt.metadata.get(Lt.metadata.resource,c),a?(null===a.attributeName&&null===a.elementName&&Ie.convention(u,a),null===a.attributeName&&null===a.elementName&&(a.elementName=o(u)),!r&&a instanceof Ie&&null!==a.elementName?r=new Ce(u,c,a):l.push(new Ce(u,c,a))):te.decorates(c)?f=c:c instanceof Dt.TemplateRegistryEntry?f=new ie(t,c):(h=Ie.convention(u))?(null===h.elementName||r?l.push(new Ce(u,c,h)):r=new Ce(u,c,h),Lt.metadata.define(Lt.metadata.resource,h,c)):(h=qt.ValueConverterResource.convention(u)||qt.BindingBehaviorResource.convention(u)||Xt.convention(u))?(l.push(new Ce(u,c,h)),Lt.metadata.define(Lt.metadata.resource,h,c)):i||(i=c,s=u));return!r&&i&&(r=new Ce(s,i)),p.moduleInstance=e,p.mainResource=r,p.resources=l,p.viewStrategy=f,p},t}(),Ee=jt.getLogger("templating"),Te=function(){function t(t){var e=this;t.then(function(t){return e.viewFactory=t})}return t.prototype.create=function(t,e,n,r){return this.viewFactory.create(t,e,n,r)},t.prototype.setCacheSize=function(t,e){this.viewFactory.setCacheSize(t,e)},t.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},t.prototype.returnViewToCache=function(t){this.viewFactory.returnViewToCache(t)},Mt(t,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),t}(),Oe=e.ViewEngine=(kt=(0,Bt.inject)(Dt.Loader,Bt.Container,ke,Ae,pe),kt((At=Ct=function(){function t(t,e,n,r,i){this.loader=t,this.container=e,this.viewCompiler=n,this.moduleAnalyzer=r,this.appResources=i,this._pluginMap={};var o=new Ie;o.attributeName="au-slot",o.initialize(e,ce),o.register(i)}return t.prototype.addResourcePlugin=function(t,e){var n=t.replace(".","")+"-resource-plugin";this._pluginMap[t]=n,this.loader.addPlugin(n,e)},t.prototype.loadViewFactory=function(t,e,n,r){var i=this;return n=n||new $t,A(this.loader,t).then(function(o){return o.onReady?n.hasDependency(t)?null===o.template?o.onReady:Promise.resolve(new Te(o.onReady)):(n.addDependency(t),o.onReady):(n.addDependency(t),o.onReady=i.loadTemplateResources(o,e,n,r).then(function(t){if(o.resources=t,null===o.template)return o.factory=null;var n=i.viewCompiler.compile(o.template,t,e);return o.factory=n}),o.onReady)})},t.prototype.loadTemplateResources=function(e,n,r,i){var o=new pe(this.appResources,e.address),s=e.dependencies,a=void 0,u=void 0;if(n=n||Jt.normal,0===s.length&&!n.associatedModuleId)return Promise.resolve(o);if(a=s.map(function(t){return t.src}),u=s.map(function(t){return t.name}),Ee.debug("importing resources for "+e.address,a),i){var c=Lt.metadata.get(t.viewModelRequireMetadataKey,i);if(c){for(var l=a.length,h=0,f=c.length;h<f;++h){var p=c[h],d="function"==typeof p?Lt.Origin.get(p).moduleId:(0,Ft.relativeToFile)(p.src||p,e.address);a.indexOf(d)===-1&&(a.push(d),u.push(p.as))}Ee.debug("importing ViewModel resources for "+n.associatedModuleId,a.slice(l))}}return this.importViewResources(a,u,o,n,r)},t.prototype.importViewModelResource=function(t,e){var n=this;return this.loader.loadModule(t).then(function(r){var i=Lt.Origin.get(r).moduleId,o=n.moduleAnalyzer.analyze(i,r,e);if(!o.mainResource)throw new Error('No view model found in module "'+t+'".');return o.initialize(n.container),o.mainResource})},t.prototype.importViewResources=function(t,e,n,r,i){var o=this;return i=i||new $t,r=r||Jt.normal,t=t.map(function(t){return o._applyLoaderPlugin(t)}),this.loader.loadAllModules(t).then(function(t){var s=void 0,a=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=o.container,p=o.moduleAnalyzer,d=new Array(t.length);
for(s=0,a=t.length;s<a;++s)l=t[s],c=Lt.Origin.get(l).moduleId,u=p.analyze(c,l),u.initialize(f),u.register(n,e[s]),d[s]=u;for(r.associatedModuleId&&(h=p.getAnalysis(r.associatedModuleId),h&&h.register(n)),s=0,a=d.length;s<a;++s)d[s]=d[s].load(f,i);return Promise.all(d).then(function(){return n})})},t.prototype._applyLoaderPlugin=function(t){var e=t.lastIndexOf(".");if(e!==-1){var n=t.substring(e),r=this._pluginMap[n];return void 0===r?t:this.loader.applyPluginToUrl(t,r)}return t},t}(),Ct.viewModelRequireMetadataKey="aurelia:view-model-require",St=At))||St),_e=e.Controller=function(){function t(t,e,n,r){this.behavior=t,this.instruction=e,this.viewModel=n,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=r,this.elementEvents=r.elementEvents||null;var i=t.observerLocator.getOrCreateObserversLookup(n),o=t.handlesBind,s=e.attributes,a=this.boundProperties=[],u=t.properties,c=void 0,l=void 0;for(t._ensurePropertiesDefined(n,i),c=0,l=u.length;c<l;++c)u[c]._initialize(n,i,s,o,a)}return t.prototype.created=function(t){this.behavior.handlesCreated&&this.viewModel.created(t,this.view)},t.prototype.automate=function(t,e){this.view.bindingContext=this.viewModel,this.view.overrideContext=t||(0,qt.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(e||null,this.view),this.bind(this.view)},t.prototype.bind=function(t){var e=this.behavior.handlesBind,n=this.boundProperties,r=void 0,i=void 0,o=void 0,s=void 0,a=void 0;if(this.isBound){if(this.scope===t)return;this.unbind()}for(this.isBound=!0,this.scope=t,r=0,i=n.length;r<i;++r)o=n[r],s=o.observer,a=s.selfSubscriber,s.publishing=!1,e&&(s.selfSubscriber=null),o.binding.bind(t),s.call(),s.publishing=!0,s.selfSubscriber=a;var u=void 0;null!==this.view?(e&&(this.view.viewModelScope=t),this.viewModel===t.overrideContext.bindingContext?u=t.overrideContext:this.instruction.inheritBindingContext?u=(0,qt.createOverrideContext)(this.viewModel,t.overrideContext):(u=(0,qt.createOverrideContext)(this.viewModel),u.__parentOverrideContext=t.overrideContext),this.view.bind(this.viewModel,u)):e&&(u=t.overrideContext,void 0!==t.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(u=Object.assign({},t.overrideContext),u.parentOverrideContext=t.overrideContext.__parentOverrideContext),this.viewModel.bind(t.bindingContext,u))},t.prototype.unbind=function(){if(this.isBound){var t=this.boundProperties,e=void 0,n=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),e=0,n=t.length;e<n;++e)t[e].binding.unbind()}},t.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},t.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},t}(),Re=e.BehaviorPropertyObserver=(Et=(0,qt.subscriberCollection)(),Et(Tt=function(){function t(t,e,n,r,i){this.taskQueue=t,this.obj=e,this.propertyName=n,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=r,this.currentValue=this.oldValue=i}return t.prototype.getValue=function(){return this.currentValue},t.prototype.setValue=function(t){var e=this.currentValue;e!==t&&(this.oldValue=e,this.currentValue=t,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.notqueued=!0,e!==t&&(this.selfSubscriber&&this.selfSubscriber(e,t),this.callSubscribers(e,t),this.oldValue=e)},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t}())||Tt),Pe=e.BindableProperty=function(){function t(t){"string"==typeof t?this.name=t:Object.assign(this,t),this.attribute=this.attribute||o(this.name),null!==this.defaultBindingMode&&void 0!==this.defaultBindingMode||(this.defaultBindingMode=qt.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return t.prototype.registerWith=function(t,e,n){if(e.properties.push(this),e.attributes[this.attribute]=this,this.owner=e,n)return this.descriptor=n,this._configureDescriptor(e,n)},t.prototype._configureDescriptor=function(t,e){var n=this.name;return e.configurable=!0,e.enumerable=!0,"initializer"in e&&(this.defaultValue=e.initializer,delete e.initializer,delete e.writable),"value"in e&&(this.defaultValue=e.value,delete e.value,delete e.writable),e.get=function(){return E(t,this,n).getValue()},e.set=function(e){E(t,this,n).setValue(e)},e.get.getObserver=function(e){return E(t,e,n)},e},t.prototype.defineOn=function(t,e){var n=this.name,r=void 0;null===this.changeHandler&&(r=n+"Changed",r in t.prototype&&(this.changeHandler=r)),null===this.descriptor&&Object.defineProperty(t.prototype,n,this._configureDescriptor(e,{}))},t.prototype.createObserver=function(t){var e=null,n=this.defaultValue,r=this.changeHandler,i=this.name,o=void 0;if(!this.hasOptions){if(r in t)e="propertyChanged"in t?function(e,n){t[r](e,n),t.propertyChanged(i,e,n)}:function(e,n){return t[r](e,n)};else if("propertyChanged"in t)e=function(e,n){return t.propertyChanged(i,e,n)};else if(null!==r)throw new Error("Change handler "+r+" was specified but not declared on the class.");return void 0!==n&&(o="function"==typeof n?n.call(t):n),new Re(this.owner.taskQueue,t,this.name,e,o)}},t.prototype._initialize=function(t,e,n,r,i){var o=void 0,s=void 0,a=void 0,u=this.defaultValue;if(this.isDynamic)for(var c in n)this._createDynamicProperty(t,e,r,c,n[c],i);else this.hasOptions||(s=e[this.name],null!==n&&(o=s.selfSubscriber,a=n[this.attribute],r&&(s.selfSubscriber=null),"string"==typeof a?(t[this.name]=a,s.call()):a?i.push({observer:s,binding:a.createBinding(t)}):void 0!==u&&s.call(),s.selfSubscriber=o),s.publishing=!0)},t.prototype._createDynamicProperty=function(t,e,n,r,i,o){var s=r+"Changed",a=null,u=void 0,c=void 0;s in t?a="propertyChanged"in t?function(e,n){t[s](e,n),t.propertyChanged(r,e,n)}:function(e,n){return t[s](e,n)}:"propertyChanged"in t&&(a=function(e,n){return t.propertyChanged(r,e,n)}),u=e[r]=new Re(this.owner.taskQueue,t,r,a),Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:u.getValue.bind(u),set:u.setValue.bind(u)}),n&&(u.selfSubscriber=null),"string"==typeof i?(t[r]=i,u.call()):i&&(c={observer:u,binding:i.createBinding(t)},o.push(c)),u.publishing=!0,u.selfSubscriber=a},t}(),Me=0,Ie=e.HtmlBehaviorResource=function(){function t(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=_,this.processContent=O,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return t.convention=function(e,n){var r=void 0;return e.endsWith("CustomAttribute")&&(r=n||new t,r.attributeName=o(e.substring(0,e.length-15))),e.endsWith("CustomElement")&&(r=n||new t,r.elementName=o(e.substring(0,e.length-13))),r},t.prototype.addChildBinding=function(t){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(t)},t.prototype.initialize=function(t,e){var n=e.prototype,r=this.properties,i=this.attributeName,o=this.attributeDefaultBindingMode,s=void 0,a=void 0,u=void 0;if(!this.isInitialized)if(this.isInitialized=!0,e.__providerId__=T(),this.observerLocator=t.get(qt.ObserverLocator),this.taskQueue=t.get(Ut.TaskQueue),this.target=e,this.usesShadowDOM=this.targetShadowDOM&&Vt.FEATURE.shadowDOM,this.handlesCreated="created"in n,this.handlesBind="bind"in n,this.handlesUnbind="unbind"in n,this.handlesAttached="attached"in n,this.handlesDetached="detached"in n,this.htmlName=this.elementName||this.attributeName,null!==i)if(0===r.length&&new Pe({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:i,defaultBindingMode:o}).registerWith(e,this),u=r[0],1===r.length&&"value"===u.name)u.isDynamic=u.hasOptions=this.hasDynamicOptions,u.defineOn(e,this);else{for(s=0,a=r.length;s<a;++s)if(r[s].defineOn(e,this),r[s].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=r[s]}u=new Pe({name:"value",changeHandler:"valueChanged"in n?"valueChanged":null,attribute:i,defaultBindingMode:o}),u.hasOptions=!0,u.registerWith(e,this)}else for(s=0,a=r.length;s<a;++s)r[s].defineOn(e,this)},t.prototype.register=function(t,e){null!==this.attributeName&&t.registerAttribute(e||this.attributeName,this,this.attributeName),null!==this.elementName&&t.registerElement(e||this.elementName,this)},t.prototype.load=function(t,e,n,r,i){var o=this,s=void 0;return null!==this.elementName?(r=t.get(se).getViewStrategy(r||this.viewStrategy||e),s=new Jt(this.targetShadowDOM,!0),r.moduleId||(r.moduleId=Lt.Origin.get(e).moduleId),r.loadViewFactory(t.get(Oe),s,n,e).then(function(t){return i&&o.viewFactory||(o.viewFactory=t),t})):Promise.resolve(this)},t.prototype.compile=function(t,e,n,r,i){if(this.liftsContent){if(!r.viewFactory){var o=Vt.DOM.createElement("template"),a=Vt.DOM.createDocumentFragment(),u=n.getAttribute("view-cache"),c=n.getAttribute("part");n.removeAttribute(r.originalAttrName),Vt.DOM.replaceNode(o,n,i),a.appendChild(n),r.viewFactory=t.compile(a,e),c&&(r.viewFactory.part=c,n.removeAttribute("part")),u&&(r.viewFactory.setCacheSize(u),n.removeAttribute("view-cache")),n=o}}else if(null!==this.elementName){var l={};if(this.processContent(t,e,n,r)&&n.hasChildNodes()){for(var h=n.firstChild,f=this.usesShadowDOM?null:Vt.DOM.createElement("au-content"),p=void 0,d=void 0;h;)p=h.nextSibling,"TEMPLATE"===h.tagName&&(d=h.getAttribute("replace-part"))?(l[d]=t.compile(h,e),Vt.DOM.removeNode(h,i),r.partReplacements=l):null!==f&&(3===h.nodeType&&s(h)?Vt.DOM.removeNode(h,i):f.appendChild(h)),h=p;null!==f&&f.hasChildNodes()&&n.appendChild(f),r.skipContentProcessing=!1}else r.skipContentProcessing=!0}return n},t.prototype.create=function(t,e,n,r){var i=void 0,o=null;e=e||Yt.normal,n=n||null,r=r||null,null!==this.elementName&&n&&(this.usesShadowDOM?(i=n.attachShadow(this.shadowDOMOptions),t.registerInstance(Vt.DOM.boundary,i)):(i=n,this.targetShadowDOM&&t.registerInstance(Vt.DOM.boundary,i))),null!==n&&(n.au=o=n.au||{});var s=e.viewModel||t.get(this.target),a=new _e(this,e,s,t),u=this.childBindings,c=void 0;if(this.liftsContent)o.controller=a;else if(null!==this.elementName){if(c=e.viewFactory||this.viewFactory,t.viewModel=s,c&&(a.view=c.create(t,e,n)),null!==n){if(o.controller=a,a.view){if(!this.usesShadowDOM&&(1===n.childNodes.length||n.contentElement)){var l=n.childNodes[0]||n.contentElement;a.view.contentView={fragment:l},l.parentNode&&Vt.DOM.removeNode(l)}if(e.anchorIsContainer){if(null!==u)for(var h=0,f=u.length;h<f;++h)a.view.addBinding(u[h].create(n,s,a));a.view.appendNodesTo(i)}else a.view.insertNodesBefore(i)}else if(null!==u)for(var p=0,d=u.length;p<d;++p)r.push(u[p].create(n,s,a))}else if(a.view){if(a.view.controller=a,null!==u)for(var v=0,g=u.length;v<g;++v)a.view.addBinding(u[v].create(e.host,s,a))}else if(null!==u)for(var y=0,m=u.length;y<m;++y)r.push(u[y].create(e.host,s,a))}else if(null!==u)for(var b=0,w=u.length;b<w;++b)r.push(u[b].create(n,s,a));return null!==o&&(o[this.htmlName]=a),e.initiatedByBehavior&&c&&a.view.created(),a},t.prototype._ensurePropertiesDefined=function(t,e){var n=void 0,r=void 0,i=void 0,o=void 0;if(!("__propertiesDefined__"in e))for(e.__propertiesDefined__=!0,n=this.properties,r=0,i=n.length;r<i;++r)o=n[r].createObserver(t),void 0!==o&&(e[o.propertyName]=o)},t}(),Ne=function(){function t(t){this.name=t.name,this.changeHandler=t.changeHandler||this.name+"Changed",this.selector=t.selector,this.all=t.all}return t.prototype.create=function(t,e,n){return new Le(this.selector,t,this.name,e,n,this.changeHandler,this.all)},t}(),je=[],Le=function(){function t(t,e,n,r,i,o,s){this.selector=t,this.viewHost=e,this.property=n,this.viewModel=r,this.controller=i,this.changeHandler=o in r?o:null,this.usesShadowDOM=i.behavior.usesShadowDOM,this.all=s,!this.usesShadowDOM&&i.view&&i.view.contentView?this.contentView=i.view.contentView:this.contentView=null}return t.prototype.matches=function(t){if(t.matches(this.selector)){if(null===this.contentView)return!0;var e=this.contentView,n=t.auAssignedSlot;if(n&&n.projectFromAnchors){for(var r=n.projectFromAnchors,i=0,o=r.length;i<o;++i)if(r[i].auOwnerView===e)return!0;return!1}return t.auOwnerView===e}return!1},t.prototype.bind=function(t){var e=this.viewHost,n=this.viewModel,r=e.__childObserver__;if(!r){r=e.__childObserver__=Vt.DOM.createMutationObserver(N);var i={childList:!0,subtree:!this.usesShadowDOM};r.observe(e,i),r.binders=[]}if(r.binders.push(this),this.usesShadowDOM){var o=e.firstElementChild;if(this.all){var s=n[this.property];for(s?s.length=0:s=n[this.property]=[];o;)this.matches(o)&&s.push(o.au&&o.au.controller?o.au.controller.viewModel:o),o=o.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](je)}else for(;o;){if(this.matches(o)){var a=o.au&&o.au.controller?o.au.controller.viewModel:o;this.viewModel[this.property]=a,null!==this.changeHandler&&this.viewModel[this.changeHandler](a);break}o=o.nextElementSibling}}},t.prototype.onRemove=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),r=n.indexOf(e);return r!==-1&&n.splice(r,1),!0}return!1}return!1},t.prototype.onAdd=function(t){if(this.matches(t)){var e=t.au&&t.au.controller?t.au.controller.viewModel:t;if(this.all){for(var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),r=0,i=t.previousElementSibling;i;)this.matches(i)&&r++,i=i.previousElementSibling;return n.splice(r,0,e),!0}this.viewModel[this.property]=e,null!==this.changeHandler&&this.viewModel[this.changeHandler](e)}return!1},t.prototype.unbind=function(){this.viewHost.__childObserver__&&(this.viewHost.__childObserver__.disconnect(),this.viewHost.__childObserver__=null)},t}(),Ve=e.CompositionEngine=(Ot=(0,Bt.inject)(Oe,se),Ot(_t=function(){function t(t,e){this.viewEngine=t,this.viewLocator=e}return t.prototype._createControllerAndSwap=function(t){function e(e){return Promise.resolve(t.viewSlot.removeAll(!0)).then(function(){return t.currentController&&t.currentController.unbind(),t.viewSlot.add(e.view),t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done(),e})}return this.createController(t).then(function(n){return n.automate(t.overrideContext,t.owningView),t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e(n)}):e(n)})},t.prototype.createController=function(t){var e=this,n=void 0,r=void 0,i=void 0,o=void 0;return this.ensureViewModel(t).then(j).then(function(){n=t.childContainer,r=t.viewModel,i=t.viewModelResource,o=i.metadata;var s=e.viewLocator.getViewStrategy(t.view||r);return t.viewResources&&s.makeRelativeTo(t.viewResources.viewUrl),o.load(n,i.value,null,s,!0)}).then(function(e){return o.create(n,Yt.dynamic(t.host,r,e))})},t.prototype.ensureViewModel=function(t){var e=t.childContainer=t.childContainer||t.container.createChild();if("string"==typeof t.viewModel)return t.viewModel=t.viewResources?t.viewResources.relativeToView(t.viewModel):t.viewModel,this.viewEngine.importViewModelResource(t.viewModel).then(function(n){return e.autoRegister(n.value),t.host&&e.registerInstance(Vt.DOM.Element,t.host),t.viewModel=e.viewModel=e.get(n.value),t.viewModelResource=n,t});var n=Lt.metadata.getOrCreateOwn(Lt.metadata.resource,Ie,t.viewModel.constructor);return n.elementName=n.elementName||"dynamic-element",n.initialize(t.container||e,t.viewModel.constructor),t.viewModelResource={metadata:n,value:t.viewModel.constructor},e.viewModel=t.viewModel,Promise.resolve(t)},t.prototype.compose=function(t){t.childContainer=t.childContainer||t.container.createChild(),t.view=this.viewLocator.getViewStrategy(t.view);var e=t.childContainer.get(Kt),n=e.tryCapture();return n?t.compositionTransactionOwnershipToken=n:t.compositionTransactionNotifier=e.enlist(),t.viewModel?this._createControllerAndSwap(t):t.view?(t.viewResources&&t.view.makeRelativeTo(t.viewResources.viewUrl),t.view.loadViewFactory(this.viewEngine,new Jt).then(function(e){var n=e.create(t.childContainer);n.bind(t.bindingContext,t.overrideContext);var r=function(){return Promise.resolve(t.viewSlot.removeAll(!0)).then(function(){return t.viewSlot.add(n),t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done(),n})};return t.compositionTransactionOwnershipToken?t.compositionTransactionOwnershipToken.waitForCompositionComplete().then(r):r()})):t.viewSlot?(t.viewSlot.removeAll(),t.compositionTransactionNotifier&&t.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)},t}())||_t),Fe=e.ElementConfigResource=function(){function t(){}return t.prototype.initialize=function(t,e){},t.prototype.register=function(t,e){},t.prototype.load=function(t,e){var n=new e,r=t.get(qt.EventManager);r.registerElementConfig(n)},t}(),De={mode:"open"};e.TemplatingEngine=(Rt=(0,Bt.inject)(Bt.Container,Ae,ke,Ve),Rt(Pt=function(){function t(t,e,n,r){this._container=t,this._moduleAnalyzer=e,this._viewCompiler=n,this._compositionEngine=r,t.registerInstance(Ht,Ht.instance=new Ht)}return t.prototype.configureAnimator=function(t){this._container.unregister(Ht),this._container.registerInstance(Ht,Ht.instance=t)},t.prototype.compose=function(t){return this._compositionEngine.compose(t)},t.prototype.enhance=function(t){t instanceof Vt.DOM.Element&&(t={element:t});var e={},n=t.resources||this._container.get(pe);this._viewCompiler._compileNode(t.element,n,e,t.element.parentNode,"root",!0);var r=new be(t.element,e,n),i=t.container||this._container.createChild(),o=r.create(i,Yt.enhance());return o.bind(t.bindingContext||{},t.overrideContext),o},t}())||Pt)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){if(t in qt)return qt[t];var e=t.charAt(0).toLowerCase()+t.slice(1).replace(/[_.-](\w|$)/g,function(t,e){return e.toUpperCase()});return qt[t]=e,e}function a(t,e){return{bindingContext:t,parentOverrideContext:e||null}}function u(t,e,n){var r=e.overrideContext;if(n){for(;n&&r;)n--,r=r.parentOverrideContext;if(n||!r)return;return t in r?r:r.bindingContext}for(;r&&!(t in r)&&!(r.bindingContext&&t in r.bindingContext);)r=r.parentOverrideContext;return r?t in r?r:r.bindingContext:e.bindingContext||e.overrideContext}function c(t,e){return e?{bindingContext:t,overrideContext:a(t,a(e))}:{bindingContext:t,overrideContext:a(t)}}function l(t){for(var e=void 0===this._observerSlots?0:this._observerSlots,n=e;n--&&this[Ht[n]]!==t;);if(n===-1){for(n=0;this[Ht[n]];)n++;this[Ht[n]]=t,t.subscribe(Ut,this),n===e&&(this._observerSlots=n+1)}void 0===this._version&&(this._version=0),this[zt[n]]=this._version}function h(t,e){var n=this.observerLocator.getObserver(t,e);l.call(this,n)}function f(t){var e=this.observerLocator.getArrayObserver(t);l.call(this,e)}function p(t){for(var e=this._observerSlots;e--;)if(t||this[zt[e]]!==this._version){var n=this[Ht[e]];this[Ht[e]]=null,n&&n.unsubscribe(Ut,this)}}function d(){return function(t){t.prototype.observeProperty=h,t.prototype.observeArray=f,t.prototype.unobserve=p,t.prototype.addObserver=l}}function v(t){for(var e=Kt.length,n=0;n<e;){var r=Kt[n];if(Gt[r.__connectQueueId]=!1,r.connect(!0),n++,n%100===0&&Ft.PLATFORM.performance.now()-t>$t)break}Kt.splice(0,n),Kt.length?Ft.PLATFORM.requestAnimationFrame(v):(Jt=!1,Yt=0)}function g(t){if(Yt<Qt)Yt++,t.connect(!1);else{var e=t.__connectQueueId;void 0===e&&(e=Xt,Xt++,t.__connectQueueId=e),Gt[e]||(Kt.push(t),Gt[e]=!0)}Jt||(Jt=!0,Ft.PLATFORM.requestAnimationFrame(v))}function y(t,e){return!this.hasSubscriber(t,e)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(t),this._callablesRest.push(e),!0):(this._contextsRest=[t],this._callablesRest=[e],!0):(this._context2=t,this._callable2=e,!0):(this._context1=t,this._callable1=e,!0):(this._context0=t,this._callable0=e,!0))}function m(t,e){if(this._context0===t&&this._callable0===e)return this._context0=null,this._callable0=null,!0;if(this._context1===t&&this._callable1===e)return this._context1=null,this._callable1=null,!0;if(this._context2===t&&this._callable2===e)return this._context2=null,this._callable2=null,!0;var n=this._contextsRest,r=void 0;return!(!n||!n.length||(r=n.indexOf(t))===-1||this._callablesRest[r]!==e)&&(n.splice(r,1),this._callablesRest.splice(r,1),!0)}function b(t,e){var n=this._context0,r=this._callable0,i=this._context1,o=this._callable1,s=this._context2,a=this._callable2,u=this._contextsRest?this._contextsRest.length:0,c=void 0,l=void 0,h=void 0,f=void 0;if(u){for(h=ee.length;h--&&ee[h];);for(h<0?(h=ee.length,c=[],l=[],ee.push(!0),Zt.push(c),te.push(l)):(ee[h]=!0,c=Zt[h],l=te[h]),f=u;f--;)c[f]=this._contextsRest[f],l[f]=this._callablesRest[f]}if(n&&(r?r.call(n,t,e):n(t,e)),i&&(o?o.call(i,t,e):i(t,e)),s&&(a?a.call(s,t,e):s(t,e)),u){for(f=0;f<u;f++){var p=l[f],d=c[f];p?p.call(d,t,e):d(t,e),c[f]=null,l[f]=null}ee[h]=!1}}function w(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function x(t,e){var n=this._context0===t&&this._callable0===e||this._context1===t&&this._callable1===e||this._context2===t&&this._callable2===e;if(n)return!0;var r=void 0,i=this._contextsRest;if(!i||0===(r=i.length))return!1;for(var o=this._callablesRest;r--;)if(i[r]===t&&o[r]===e)return!0;return!1}function k(){return function(t){t.prototype.addSubscriber=y,t.prototype.removeSubscriber=m,t.prototype.callSubscribers=b,t.prototype.hasSubscribers=w,t.prototype.hasSubscriber=x}}function S(t){return+t===t>>>0}function C(t){return+t}function A(t,e,n){return{index:t,removed:e,addedCount:n}}function E(){}function T(t,e,n,r,i,o){return ae.calcSplices(t,e,n,r,i,o)}function O(t,e,n,r){return e<n||r<t?-1:e===n||r===t?0:t<n?e<r?e-n:r-n:r<e?r-t:e-t}function _(t,e,n,r){for(var i=A(e,n,r),o=!1,s=0,a=0;a<t.length;a++){var u=t[a];if(u.index+=s,!o){var c=O(i.index,i.index+i.removed.length,u.index,u.index+u.addedCount);if(c>=0){t.splice(a,1),a--,s-=u.addedCount-u.removed.length,i.addedCount+=u.addedCount-c;var l=i.removed.length+u.removed.length-c;if(i.addedCount||l){var h=u.removed;if(i.index<u.index){var f=i.removed.slice(0,u.index-i.index);Array.prototype.push.apply(f,h),h=f}if(i.index+i.removed.length>u.index+u.addedCount){var p=i.removed.slice(u.index+u.addedCount-i.index);Array.prototype.push.apply(h,p)}i.removed=h,u.index<i.index&&(i.index=u.index)}else o=!0}else if(i.index<u.index){o=!0,t.splice(a,0,i),a++;var d=i.addedCount-i.removed.length;u.index+=d,s+=d}}}o||t.push(i)}function R(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r];switch(i.type){case"splice":_(n,i.index,i.removed.slice(),i.addedCount);break;case"add":case"update":case"delete":if(!S(i.name))continue;var o=C(i.name);if(o<0)continue;_(n,o,[i.oldValue],"delete"===i.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(i))}}return n}function P(t,e){var n=[];return R(t,e).forEach(function(e){return 1===e.addedCount&&1===e.removed.length?void(e.removed[0]!==t[e.index]&&n.push(e)):void(n=n.concat(T(t,e.index,e.index+e.addedCount,e.removed,0,e.removed.length)))}),n}function M(t,e,n,r){return{type:t,object:e,key:n,oldValue:r}}function I(t){for(var e=new Array(t.size),n=t.keys(),r=0,i=void 0;(i=n.next())&&!i.done;)e[r]=M("added",t,i.value),r++;return e}function N(t,e){return ye.for(t,e)}function j(t,e,n){for(var r=e.length,i=[],o=0;o<r;o++)i[o]=e[o].evaluate(t,n);return i}function L(t,e){return null!==t&&null!==e?"string"==typeof t&&"string"!=typeof e?t+e.toString():"string"!=typeof t&&"string"==typeof e?t.toString()+e:t+e:null!==t?t:null!==e?e:0}function V(t,e,n){var r=null===t||void 0===t?null:t[e];if("function"==typeof r)return r;if(!n&&(null===r||void 0===r))return null;throw new Error(e+" is not a function")}function F(t,e){if(Array.isArray(t))return t[parseInt(e,10)];if(t)return t[e];if(null!==t&&void 0!==t)return t[e]}function D(t,e,n){if(Array.isArray(t)){var r=parseInt(e,10);t.length<=r&&(t.length=r+1),t[r]=n}else t[e]=n;return n}function B(t){var e=new Fe;return t.accept(e)}function q(t){return t>=We&&t<=$e||t===Bn}function U(t){return On<=t&&t<=Ln||wn<=t&&t<=kn||t===Tn||t===Ze}function H(t){return On<=t&&t<=Ln||wn<=t&&t<=kn||mn<=t&&t<=bn||t===Tn||t===Ze}function z(t){return mn<=t&&t<=bn}function W(t){return t===_n||t===xn}function K(t){return t===cn||t===an}function G(t){switch(t){case Pn:return Ke;case Rn:return Xe;case Mn:return Qe;case In:return We;case jn:return Ge;default:return t}}function X(t,e){if(!t)throw e||"Assertion failed"}function Q(t,e){return Wn.for(t,e)}function $(t){return t.path&&t.path[0]||t.deepPath&&t.deepPath[0]||t.target}function J(){this.standardStopPropagation(),this.propagationStopped=!0}function Y(t){t.standardStopPropagation=t.stopPropagation,t.stopPropagation=J}function Z(t){var e=!1;t.propagationStopped=!1;for(var n=$(t),r=[];n;){if(n.capturedCallbacks){var i=n.capturedCallbacks[t.type];i&&(e||(Y(t),e=!0),r.push(i))}n=n.parentNode}for(var o=r.length-1;o>=0;o--){var s=r[o];if(s(t),t.propagationStopped)break}}function tt(t){var e=!1;t.propagationStopped=!1;for(var n=$(t);n&&!t.propagationStopped;){if(n.delegatedCallbacks){var r=n.delegatedCallbacks[t.type];r&&(e||(Y(t),e=!0),r(t))}n=n.parentNode}}function et(t){return!!(t&&t.get&&t.get.dependencies)}function nt(t,e,n){var r=Object.getOwnPropertyDescriptor(t.prototype,e);r.get.dependencies=n}function rt(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,r){return r.get.dependencies=e,r}}function it(t,e,n,r){var i=n.get.dependencies;if(!(i instanceof dr)){for(var o=i.length;o--;)i[o]=r.parser.parse(i[o]);i=n.get.dependencies=new dr(e,i)}var s={bindingContext:t,overrideContext:a(t)};return new ne(s,i,r)}function ot(t){var e=Ft.DOM.createElement("div");return e.innerHTML=t,e.firstChild}function st(t){return void 0===t||"string"==typeof t?function(e){Bt.metadata.define(Bt.metadata.resource,new Cr(t),e)}:void Bt.metadata.define(Bt.metadata.resource,new Cr,t)}function at(t){return void 0===t||"string"==typeof t?function(e){Bt.metadata.define(Bt.metadata.resource,new Ar(t),e)}:void Bt.metadata.define(Bt.metadata.resource,new Ar,t)}function ut(t){var e=t.au;if(void 0===e)throw new Error('No Aurelia APIs are defined for the element: "'+t.tagName+'".');return e}function ct(t,e){return Rr.for(t,e)}function lt(t,e,n){function r(t,e,n,r){var i=void 0===e;i&&(t=t.prototype,e="string"==typeof r?r:r.name);var o="_"+e,s={configurable:!0,enumerable:!1,writable:!0},a=r&&r.changeHandler||e+"Changed";return n?"function"==typeof n.initializer&&(s.value=n.initializer()):n={},"enumerable"in n||(n.enumerable=!0),delete n.value,delete n.writable,delete n.initializer,Reflect.defineProperty(t,o,s),n.get=function(){return this[o]},n.set=function(t){var n=this[o];t!==n&&(this[o]=t,Reflect.defineProperty(this,o,{enumerable:!1}),this[a]&&this[a](t,n,e))},n.get.dependencies=[o],i?void Reflect.defineProperty(t,e,n):n}return void 0===e?function(e,n,i){return r(e,n,i,t)}:r(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.getSetObserver=e.BindingEngine=e.NameExpression=e.Listener=e.ListenerExpression=e.BindingBehaviorResource=e.ValueConverterResource=e.Call=e.CallExpression=e.Binding=e.BindingExpression=e.ObjectObservationAdapter=e.ObserverLocator=e.SVGAnalyzer=e.presentationAttributes=e.presentationElements=e.elements=e.ComputedExpression=e.ClassObserver=e.SelectValueObserver=e.CheckedObserver=e.ValueAttributeObserver=e.StyleObserver=e.DataAttributeObserver=e.dataAttributeAccessor=e.XLinkAttributeObserver=e.SetterObserver=e.PrimitiveObserver=e.propertyAccessor=e.DirtyCheckProperty=e.DirtyChecker=e.EventManager=e.delegationStrategy=e.getMapObserver=e.ParserImplementation=e.Parser=e.Scanner=e.Lexer=e.Token=e.bindingMode=e.ExpressionCloner=e.Unparser=e.LiteralObject=e.LiteralArray=e.LiteralString=e.LiteralPrimitive=e.PrefixNot=e.Binary=e.CallFunction=e.CallMember=e.CallScope=e.AccessKeyed=e.AccessMember=e.AccessScope=e.AccessThis=e.Conditional=e.Assign=e.ValueConverter=e.BindingBehavior=e.Chain=e.Expression=e.getArrayObserver=e.CollectionLengthObserver=e.ModifyCollectionObserver=e.ExpressionObserver=e.sourceContext=void 0;var ht,ft,pt,dt,vt,gt,yt,mt,bt,wt,xt,kt,St,Ct,At,Et,Tt,Ot,_t,Rt,Pt,Mt,It,Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},jt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.camelCase=s,e.createOverrideContext=a,e.getContextFor=u,e.createScopeForTest=c,e.connectable=d,e.enqueueBindingConnect=g,e.subscriberCollection=k,e.calcSplices=T,e.mergeSplice=_,e.projectArraySplices=P,e.getChangeRecords=I,e.cloneExpression=B,e.hasDeclaredDependencies=et,e.declarePropertyDependencies=nt,e.computedFrom=rt,e.createComputedObserver=it,e.valueConverter=st,e.bindingBehavior=at,e.observable=lt;for(var Lt=n(8),Vt=r(Lt),Ft=n(1),Dt=n(13),Bt=n(7),qt=Object.create(null),Ut=e.sourceContext="Binding:source",Ht=[],zt=[],Wt=0;Wt<100;Wt++)Ht.push("_observer"+Wt),zt.push("_observerVersion"+Wt);var Kt=[],Gt={},Xt=0,Qt=100,$t=15,Jt=!1,Yt=0,Zt=[],te=[],ee=[],ne=e.ExpressionObserver=(ht=d(),ft=k(),ht(pt=ft(pt=function(){function t(t,e,n,r){this.scope=t,this.expression=e,this.observerLocator=n,this.lookupFunctions=r}return t.prototype.getValue=function(){return this.expression.evaluate(this.scope,this.lookupFunctions)},t.prototype.setValue=function(t){this.expression.assign(this.scope,t)},t.prototype.subscribe=function(t,e){var n=this;if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(t,e),1===arguments.length&&t instanceof Function)return{dispose:function(){n.unsubscribe(t,e)}}},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},t.prototype.call=function(){var t=this.expression.evaluate(this.scope,this.lookupFunctions),e=this.oldValue;t!==e&&(this.oldValue=t,this.callSubscribers(t,e)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},t}())||pt)||pt),re=0,ie=1,oe=2,se=3;E.prototype={calcEditDistances:function(t,e,n,r,i,o){for(var s=o-i+1,a=n-e+1,u=new Array(s),c=void 0,l=void 0,h=0;h<s;++h)u[h]=new Array(a),u[h][0]=h;for(var f=0;f<a;++f)u[0][f]=f;for(var p=1;p<s;++p)for(var d=1;d<a;++d)this.equals(t[e+d-1],r[i+p-1])?u[p][d]=u[p-1][d-1]:(c=u[p-1][d]+1,l=u[p][d-1]+1,u[p][d]=c<l?c:l);return u},spliceOperationsFromEditDistances:function(t){for(var e=t.length-1,n=t[0].length-1,r=t[e][n],i=[];e>0||n>0;)if(0!==e)if(0!==n){
var o=t[e-1][n-1],s=t[e-1][n],a=t[e][n-1],u=void 0;u=s<a?s<o?s:o:a<o?a:o,u===o?(o===r?i.push(re):(i.push(ie),r=o),e--,n--):u===s?(i.push(se),e--,r=s):(i.push(oe),n--,r=a)}else i.push(se),e--;else i.push(oe),n--;return i.reverse(),i},calcSplices:function(t,e,n,r,i,o){var s=0,a=0,u=Math.min(n-e,o-i);if(0===e&&0===i&&(s=this.sharedPrefix(t,r,u)),n===t.length&&o===r.length&&(a=this.sharedSuffix(t,r,u-s)),e+=s,i+=s,n-=a,o-=a,n-e===0&&o-i===0)return[];if(e===n){for(var c=A(e,[],0);i<o;)c.removed.push(r[i++]);return[c]}if(i===o)return[A(e,[],n-e)];for(var l=this.spliceOperationsFromEditDistances(this.calcEditDistances(t,e,n,r,i,o)),h=void 0,f=[],p=e,d=i,v=0;v<l.length;++v)switch(l[v]){case re:h&&(f.push(h),h=void 0),p++,d++;break;case ie:h||(h=A(p,[],0)),h.addedCount++,p++,h.removed.push(r[d]),d++;break;case oe:h||(h=A(p,[],0)),h.addedCount++,p++;break;case se:h||(h=A(p,[],0)),h.removed.push(r[d]),d++}return h&&f.push(h),f},sharedPrefix:function(t,e,n){for(var r=0;r<n;++r)if(!this.equals(t[r],e[r]))return r;return n},sharedSuffix:function(t,e,n){for(var r=t.length,i=e.length,o=0;o<n&&this.equals(t[--r],e[--i]);)o++;return o},calculateSplices:function(t,e){return this.calcSplices(t,0,t.length,e,0,e.length)},equals:function(t,e){return t===e}};var ae=new E,ue=e.ModifyCollectionObserver=(dt=k(),dt(vt=function(){function t(t,e){this.taskQueue=t,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length"}return t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.addChangeRecord=function(t){if(this.hasSubscribers()||this.lengthObserver){if("splice"===t.type){var e=t.index,n=t.object.length;e>n?e=n-t.addedCount:e<0&&(e=n+t.removed.length+e-t.addedCount),e<0&&(e=0),t.index=e}null===this.changeRecords?this.changeRecords=[t]:this.changeRecords.push(t),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},t.prototype.flushChangeRecords=function(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},t.prototype.reset=function(t){this.oldCollection=t,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},t.prototype.getLengthObserver=function(){return this.lengthObserver||(this.lengthObserver=new ce(this.collection))},t.prototype.call=function(){var t=this.changeRecords,e=this.oldCollection,n=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(n=e?this.collection instanceof Map||this.collection instanceof Set?I(e):T(this.collection,0,this.collection.length,e,0,e.length):this.collection instanceof Map||this.collection instanceof Set?t:P(this.collection,t),this.callSubscribers(n)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},t}())||vt),ce=e.CollectionLengthObserver=(gt=k(),gt(yt=function(){function t(t){this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length",this.currentValue=t[this.lengthPropertyName]}return t.prototype.getValue=function(){return this.collection[this.lengthPropertyName]},t.prototype.setValue=function(t){this.collection[this.lengthPropertyName]=t},t.prototype.subscribe=function(t,e){this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.call=function(t){var e=this.currentValue;this.callSubscribers(t,e),this.currentValue=t},t}())||yt),le=Array.prototype.pop,he=Array.prototype.push,fe=Array.prototype.reverse,pe=Array.prototype.shift,de=Array.prototype.sort,ve=Array.prototype.splice,ge=Array.prototype.unshift;Array.prototype.pop=function(){var t=this.length>0,e=le.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:e}),e},Array.prototype.push=function(){var t=he.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),t},Array.prototype.reverse=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=fe.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.shift=function(){var t=this.length>0,e=pe.apply(this,arguments);return t&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:e}),e},Array.prototype.sort=function(){var t=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),t=this.slice());var e=de.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(t),e},Array.prototype.splice=function(){var t=ve.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:t,addedCount:arguments.length>2?arguments.length-2:0}),t},Array.prototype.unshift=function(){var t=ge.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),t},e.getArrayObserver=N;var ye=function(t){function e(e,n){return i(this,t.call(this,e,n))}return o(e,t),e.for=function(t,n){return"__array_observer__"in n||Reflect.defineProperty(n,"__array_observer__",{value:e.create(t,n),enumerable:!1,configurable:!1}),n.__array_observer__},e.create=function(t,n){return new e(t,n)},e}(ue),me=e.Expression=function(){function t(){this.isChain=!1,this.isAssignable=!1}return t.prototype.evaluate=function(t,e,n){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},t.prototype.assign=function(t,e,n){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},t.prototype.toString=function(){return Ve.unparse(this)},t}(),be=e.Chain=function(t){function e(e){var n=i(this,t.call(this));return n.expressions=e,n.isChain=!0,n}return o(e,t),e.prototype.evaluate=function(t,e){for(var n=void 0,r=this.expressions,i=void 0,o=0,s=r.length;o<s;++o)i=r[o].evaluate(t,e),null!==i&&(n=i);return n},e.prototype.accept=function(t){return t.visitChain(this)},e}(me),we=e.BindingBehavior=function(t){function e(e,n,r){var o=i(this,t.call(this));return o.expression=e,o.name=n,o.args=r,o}return o(e,t),e.prototype.evaluate=function(t,e){return this.expression.evaluate(t,e)},e.prototype.assign=function(t,e,n){return this.expression.assign(t,e,n)},e.prototype.accept=function(t){return t.visitBindingBehavior(this)},e.prototype.connect=function(t,e){this.expression.connect(t,e)},e.prototype.bind=function(t,e,n){this.expression.expression&&this.expression.bind&&this.expression.bind(t,e,n);var r=n.bindingBehaviors(this.name);if(!r)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var i="behavior-"+this.name;if(t[i])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');t[i]=r,r.bind.apply(r,[t,e].concat(j(e,this.args,t.lookupFunctions)))},e.prototype.unbind=function(t,e){var n="behavior-"+this.name;t[n].unbind(t,e),t[n]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(t,e)},e}(me),xe=e.ValueConverter=function(t){function e(e,n,r,o){var s=i(this,t.call(this));return s.expression=e,s.name=n,s.args=r,s.allArgs=o,s}return o(e,t),e.prototype.evaluate=function(t,e){var n=e.valueConverters(this.name);if(!n)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in n?n.toView.apply(n,j(t,this.allArgs,e)):this.allArgs[0].evaluate(t,e)},e.prototype.assign=function(t,e,n){var r=n.valueConverters(this.name);if(!r)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in r&&(e=r.fromView.apply(r,[e].concat(j(t,this.args,n)))),this.allArgs[0].assign(t,e,n)},e.prototype.accept=function(t){return t.visitValueConverter(this)},e.prototype.connect=function(t,e){for(var n=this.allArgs,r=n.length;r--;)n[r].connect(t,e)},e}(me),ke=e.Assign=function(t){function e(e,n){var r=i(this,t.call(this));return r.target=e,r.value=n,r}return o(e,t),e.prototype.evaluate=function(t,e){return this.target.assign(t,this.value.evaluate(t,e))},e.prototype.accept=function(t){t.visitAssign(this)},e.prototype.connect=function(t,e){},e}(me),Se=e.Conditional=function(t){function e(e,n,r){var o=i(this,t.call(this));return o.condition=e,o.yes=n,o.no=r,o}return o(e,t),e.prototype.evaluate=function(t,e){return this.condition.evaluate(t)?this.yes.evaluate(t):this.no.evaluate(t)},e.prototype.accept=function(t){return t.visitConditional(this)},e.prototype.connect=function(t,e){this.condition.connect(t,e),this.condition.evaluate(e)?this.yes.connect(t,e):this.no.connect(t,e)},e}(me),Ce=e.AccessThis=function(t){function e(e){var n=i(this,t.call(this));return n.ancestor=e,n}return o(e,t),e.prototype.evaluate=function(t,e){for(var n=t.overrideContext,r=this.ancestor;r--&&n;)n=n.parentOverrideContext;return r<1&&n?n.bindingContext:void 0},e.prototype.accept=function(t){return t.visitAccessThis(this)},e.prototype.connect=function(t,e){},e}(me),Ae=e.AccessScope=function(t){function e(e,n){var r=i(this,t.call(this));return r.name=e,r.ancestor=n,r.isAssignable=!0,r}return o(e,t),e.prototype.evaluate=function(t,e){var n=u(this.name,t,this.ancestor);return n[this.name]},e.prototype.assign=function(t,e){var n=u(this.name,t,this.ancestor);return n?n[this.name]=e:void 0},e.prototype.accept=function(t){return t.visitAccessScope(this)},e.prototype.connect=function(t,e){var n=u(this.name,e,this.ancestor);t.observeProperty(n,this.name)},e}(me),Ee=e.AccessMember=function(t){function e(e,n){var r=i(this,t.call(this));return r.object=e,r.name=n,r.isAssignable=!0,r}return o(e,t),e.prototype.evaluate=function(t,e){var n=this.object.evaluate(t,e);return null===n||void 0===n?n:n[this.name]},e.prototype.assign=function(t,e){var n=this.object.evaluate(t);return null!==n&&void 0!==n||(n={},this.object.assign(t,n)),n[this.name]=e,e},e.prototype.accept=function(t){return t.visitAccessMember(this)},e.prototype.connect=function(t,e){this.object.connect(t,e);var n=this.object.evaluate(e);n&&t.observeProperty(n,this.name)},e}(me),Te=e.AccessKeyed=function(t){function e(e,n){var r=i(this,t.call(this));return r.object=e,r.key=n,r.isAssignable=!0,r}return o(e,t),e.prototype.evaluate=function(t,e){var n=this.object.evaluate(t,e),r=this.key.evaluate(t,e);return F(n,r)},e.prototype.assign=function(t,e){var n=this.object.evaluate(t),r=this.key.evaluate(t);return D(n,r,e)},e.prototype.accept=function(t){return t.visitAccessKeyed(this)},e.prototype.connect=function(t,e){this.object.connect(t,e);var n=this.object.evaluate(e);if(n instanceof Object){this.key.connect(t,e);var r=this.key.evaluate(e);null===r||void 0===r||Array.isArray(n)&&"number"==typeof r||t.observeProperty(n,r)}},e}(me),Oe=e.CallScope=function(t){function e(e,n,r){var o=i(this,t.call(this));return o.name=e,o.args=n,o.ancestor=r,o}return o(e,t),e.prototype.evaluate=function(t,e,n){var r=j(t,this.args,e),i=u(this.name,t,this.ancestor),o=V(i,this.name,n);if(o)return o.apply(i,r)},e.prototype.accept=function(t){return t.visitCallScope(this)},e.prototype.connect=function(t,e){for(var n=this.args,r=n.length;r--;)n[r].connect(t,e)},e}(me),_e=e.CallMember=function(t){function e(e,n,r){var o=i(this,t.call(this));return o.object=e,o.name=n,o.args=r,o}return o(e,t),e.prototype.evaluate=function(t,e,n){var r=this.object.evaluate(t,e),i=j(t,this.args,e),o=V(r,this.name,n);if(o)return o.apply(r,i)},e.prototype.accept=function(t){return t.visitCallMember(this)},e.prototype.connect=function(t,e){this.object.connect(t,e);var n=this.object.evaluate(e);if(V(n,this.name,!1))for(var r=this.args,i=r.length;i--;)r[i].connect(t,e)},e}(me),Re=e.CallFunction=function(t){function e(e,n){var r=i(this,t.call(this));return r.func=e,r.args=n,r}return o(e,t),e.prototype.evaluate=function(t,e,n){var r=this.func.evaluate(t,e);if("function"==typeof r)return r.apply(null,j(t,this.args,e));if(n||null!==r&&void 0!==r)throw new Error(this.func+" is not a function")},e.prototype.accept=function(t){return t.visitCallFunction(this)},e.prototype.connect=function(t,e){this.func.connect(t,e);var n=this.func.evaluate(e);if("function"==typeof n)for(var r=this.args,i=r.length;i--;)r[i].connect(t,e)},e}(me),Pe=e.Binary=function(t){function e(e,n,r){var o=i(this,t.call(this));return o.operation=e,o.left=n,o.right=r,o}return o(e,t),e.prototype.evaluate=function(t,e){var n=this.left.evaluate(t);switch(this.operation){case"&&":return n&&this.right.evaluate(t);case"||":return n||this.right.evaluate(t)}var r=this.right.evaluate(t);switch(this.operation){case"==":return n==r;case"===":return n===r;case"!=":return n!=r;case"!==":return n!==r}if(null===n||null===r||void 0===n||void 0===r){switch(this.operation){case"+":return null!==n&&void 0!==n?n:null!==r&&void 0!==r?r:0;case"-":return null!==n&&void 0!==n?n:null!==r&&void 0!==r?0-r:0}return null}switch(this.operation){case"+":return L(n,r);case"-":return n-r;case"*":return n*r;case"/":return n/r;case"%":return n%r;case"<":return n<r;case">":return n>r;case"<=":return n<=r;case">=":return n>=r;case"^":return n^r}throw new Error("Internal error ["+this.operation+"] not handled")},e.prototype.accept=function(t){return t.visitBinary(this)},e.prototype.connect=function(t,e){this.left.connect(t,e);var n=this.left.evaluate(e);"&&"===this.operation&&!n||"||"===this.operation&&n||this.right.connect(t,e)},e}(me),Me=e.PrefixNot=function(t){function e(e,n){var r=i(this,t.call(this));return r.operation=e,r.expression=n,r}return o(e,t),e.prototype.evaluate=function(t,e){return!this.expression.evaluate(t)},e.prototype.accept=function(t){return t.visitPrefix(this)},e.prototype.connect=function(t,e){this.expression.connect(t,e)},e}(me),Ie=e.LiteralPrimitive=function(t){function e(e){var n=i(this,t.call(this));return n.value=e,n}return o(e,t),e.prototype.evaluate=function(t,e){return this.value},e.prototype.accept=function(t){return t.visitLiteralPrimitive(this)},e.prototype.connect=function(t,e){},e}(me),Ne=e.LiteralString=function(t){function e(e){var n=i(this,t.call(this));return n.value=e,n}return o(e,t),e.prototype.evaluate=function(t,e){return this.value},e.prototype.accept=function(t){return t.visitLiteralString(this)},e.prototype.connect=function(t,e){},e}(me),je=e.LiteralArray=function(t){function e(e){var n=i(this,t.call(this));return n.elements=e,n}return o(e,t),e.prototype.evaluate=function(t,e){for(var n=this.elements,r=[],i=0,o=n.length;i<o;++i)r[i]=n[i].evaluate(t,e);return r},e.prototype.accept=function(t){return t.visitLiteralArray(this)},e.prototype.connect=function(t,e){for(var n=this.elements.length,r=0;r<n;r++)this.elements[r].connect(t,e)},e}(me),Le=e.LiteralObject=function(t){function e(e,n){var r=i(this,t.call(this));return r.keys=e,r.values=n,r}return o(e,t),e.prototype.evaluate=function(t,e){for(var n={},r=this.keys,i=this.values,o=0,s=r.length;o<s;++o)n[r[o]]=i[o].evaluate(t,e);return n},e.prototype.accept=function(t){return t.visitLiteralObject(this)},e.prototype.connect=function(t,e){for(var n=this.keys.length,r=0;r<n;r++)this.values[r].connect(t,e)},e}(me),Ve=e.Unparser=function(){function t(t){this.buffer=t}return t.unparse=function(e){var n=[],r=new t(n);return e.accept(r),n.join("")},t.prototype.write=function(t){this.buffer.push(t)},t.prototype.writeArgs=function(t){this.write("(");for(var e=0,n=t.length;e<n;++e)0!==e&&this.write(","),t[e].accept(this);this.write(")")},t.prototype.visitChain=function(t){for(var e=t.expressions,n=0,r=expression.length;n<r;++n)0!==n&&this.write(";"),e[n].accept(this)},t.prototype.visitBindingBehavior=function(t){var e=t.args;t.expression.accept(this),this.write("&"+t.name);for(var n=0,r=e.length;n<r;++n)this.write(":"),e[n].accept(this)},t.prototype.visitValueConverter=function(t){var e=t.args;t.expression.accept(this),this.write("|"+t.name);for(var n=0,r=e.length;n<r;++n)this.write(":"),e[n].accept(this)},t.prototype.visitAssign=function(t){t.target.accept(this),this.write("="),t.value.accept(this)},t.prototype.visitConditional=function(t){t.condition.accept(this),this.write("?"),t.yes.accept(this),this.write(":"),t.no.accept(this)},t.prototype.visitAccessThis=function(t){if(0===t.ancestor)return void this.write("$this");this.write("$parent");for(var e=t.ancestor-1;e--;)this.write(".$parent")},t.prototype.visitAccessScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name)},t.prototype.visitAccessMember=function(t){t.object.accept(this),this.write("."+t.name)},t.prototype.visitAccessKeyed=function(t){t.object.accept(this),this.write("["),t.key.accept(this),this.write("]")},t.prototype.visitCallScope=function(t){for(var e=t.ancestor;e--;)this.write("$parent.");this.write(t.name),this.writeArgs(t.args)},t.prototype.visitCallFunction=function(t){t.func.accept(this),this.writeArgs(t.args)},t.prototype.visitCallMember=function(t){t.object.accept(this),this.write("."+t.name),this.writeArgs(t.args)},t.prototype.visitPrefix=function(t){this.write("("+t.operation),t.expression.accept(this),this.write(")")},t.prototype.visitBinary=function(t){t.left.accept(this),this.write(t.operation),t.right.accept(this)},t.prototype.visitLiteralPrimitive=function(t){this.write(""+t.value)},t.prototype.visitLiteralArray=function(t){var e=t.elements;this.write("[");for(var n=0,r=e.length;n<r;++n)0!==n&&this.write(","),e[n].accept(this);this.write("]")},t.prototype.visitLiteralObject=function(t){var e=t.keys,n=t.values;this.write("{");for(var r=0,i=e.length;r<i;++r)0!==r&&this.write(","),this.write("'"+e[r]+"':"),n[r].accept(this);this.write("}")},t.prototype.visitLiteralString=function(t){var e=t.value.replace(/'/g,"'");this.write("'"+e+"'")},t}(),Fe=e.ExpressionCloner=function(){function t(){}return t.prototype.cloneExpressionArray=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n].accept(this);return e},t.prototype.visitChain=function(t){return new be(this.cloneExpressionArray(t.expressions))},t.prototype.visitBindingBehavior=function(t){return new we(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitValueConverter=function(t){return new xe(t.expression.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitAssign=function(t){return new ke(t.target.accept(this),t.value.accept(this))},t.prototype.visitConditional=function(t){return new Se(t.condition.accept(this),t.yes.accept(this),t.no.accept(this))},t.prototype.visitAccessThis=function(t){return new Ce(t.ancestor)},t.prototype.visitAccessScope=function(t){return new Ae(t.name,t.ancestor)},t.prototype.visitAccessMember=function(t){return new Ee(t.object.accept(this),t.name)},t.prototype.visitAccessKeyed=function(t){return new Te(t.object.accept(this),t.key.accept(this))},t.prototype.visitCallScope=function(t){return new Oe(t.name,this.cloneExpressionArray(t.args),t.ancestor)},t.prototype.visitCallFunction=function(t){return new Re(t.func.accept(this),this.cloneExpressionArray(t.args))},t.prototype.visitCallMember=function(t){return new _e(t.object.accept(this),t.name,this.cloneExpressionArray(t.args))},t.prototype.visitPrefix=function(t){return new Me(t.operation,t.expression.accept(this))},t.prototype.visitBinary=function(t){return new Pe(t.operation,t.left.accept(this),t.right.accept(this))},t.prototype.visitLiteralPrimitive=function(t){return new Ie(t)},t.prototype.visitLiteralArray=function(t){return new je(this.cloneExpressionArray(t.elements))},t.prototype.visitLiteralObject=function(t){return new Le(t.keys,this.cloneExpressionArray(t.values))},t.prototype.visitLiteralString=function(t){return new Ne(t.value)},t}(),De=e.bindingMode={oneTime:0,oneWay:1,twoWay:2},Be=e.Token=function(){function t(t,e){this.index=t,this.text=e}return t.prototype.withOp=function(t){return this.opKey=t,this},t.prototype.withGetterSetter=function(t){return this.key=t,this},t.prototype.withValue=function(t){return this.value=t,this},t.prototype.toString=function(){return"Token("+this.text+")"},t}(),qe=e.Lexer=function(){function t(){}return t.prototype.lex=function(t){for(var e=new Ue(t),n=[],r=e.scanToken();r;)n.push(r),r=e.scanToken();return n},t}(),Ue=e.Scanner=function(){function t(t){this.input=t,this.length=t.length,this.peek=0,this.index=-1,this.advance()}return t.prototype.scanToken=function(){for(;this.peek<=$e;){if(++this.index>=this.length)return this.peek=ze,null;this.peek=this.input.charCodeAt(this.index)}if(U(this.peek))return this.scanIdentifier();if(z(this.peek))return this.scanNumber(this.index);var t=this.index;switch(this.peek){case ln:return this.advance(),z(this.peek)?this.scanNumber(t):new Be(t,".");case rn:case on:case Vn:case Dn:case Sn:case An:case un:case fn:case pn:return this.scanCharacter(t,String.fromCharCode(this.peek));case nn:case Ye:return this.scanString();case an:case cn:case sn:case hn:case tn:case En:case yn:return this.scanOperator(t,String.fromCharCode(this.peek));case dn:case gn:case Je:case vn:return this.scanComplexOperator(t,vn,String.fromCharCode(this.peek),"=");case en:return this.scanComplexOperator(t,en,"&","&");case Fn:return this.scanComplexOperator(t,Fn,"|","|");case Bn:for(;q(this.peek);)this.advance();return this.scanToken()}var e=String.fromCharCode(this.peek);return this.error("Unexpected character ["+e+"]"),null},t.prototype.scanCharacter=function(t,e){return X(this.peek===e.charCodeAt(0)),this.advance(),new Be(t,e)},t.prototype.scanOperator=function(t,e){return X(this.peek===e.charCodeAt(0)),X(He.indexOf(e)!==-1),this.advance(),new Be(t,e).withOp(e)},t.prototype.scanComplexOperator=function(t,e,n,r){X(this.peek===n.charCodeAt(0)),this.advance();var i=n;return this.peek===e&&(this.advance(),i+=r),this.peek===e&&(this.advance(),i+=r),X(He.indexOf(i)!==-1),new Be(t,i).withOp(i)},t.prototype.scanIdentifier=function(){X(U(this.peek));var t=this.index;for(this.advance();H(this.peek);)this.advance();var e=this.input.substring(t,this.index),n=new Be(t,e);return He.indexOf(e)!==-1?n.withOp(e):n.withGetterSetter(e),n},t.prototype.scanNumber=function(t){X(z(this.peek));var e=this.index===t;for(this.advance();;){if(!z(this.peek))if(this.peek===ln)e=!1;else{if(!W(this.peek))break;this.advance(),K(this.peek)&&this.advance(),z(this.peek)||this.error("Invalid exponent",-1),e=!1}this.advance()}var n=this.input.substring(t,this.index),r=e?parseInt(n,10):parseFloat(n);return new Be(t,n).withValue(r)},t.prototype.scanString=function(){X(this.peek===nn||this.peek===Ye);var t=this.index,e=this.peek;this.advance();for(var n=void 0,r=this.index;this.peek!==e;)if(this.peek===Cn){n||(n=[]),n.push(this.input.substring(r,this.index)),this.advance();var i=void 0;if(this.peek===Nn){var o=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(o)||this.error("Invalid unicode escape [\\u"+o+"]"),i=parseInt(o,16);for(var s=0;s<5;++s)this.advance()}else i=G(this.peek),this.advance();n.push(String.fromCharCode(i)),r=this.index}else this.peek===ze?this.error("Unterminated quote"):this.advance();var a=this.input.substring(r,this.index);this.advance();var u=this.input.substring(t,this.index),c=a;return null!==n&&void 0!==n&&(n.push(a),c=n.join("")),new Be(t,u).withValue(c)},t.prototype.advance=function(){++this.index>=this.length?this.peek=ze:this.peek=this.input.charCodeAt(this.index)},t.prototype.error=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this.index+e;throw new Error("Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}(),He=["undefined","null","true","false","+","-","*","/","%","^","=","==","===","!=","!==","<",">","<=",">=","&&","||","&","|","!","?"],ze=0,We=9,Ke=10,Ge=11,Xe=12,Qe=13,$e=32,Je=33,Ye=34,Ze=36,tn=37,en=38,nn=39,rn=40,on=41,sn=42,an=43,un=44,cn=45,ln=46,hn=47,fn=58,pn=59,dn=60,vn=61,gn=62,yn=63,mn=48,bn=57,wn=65,xn=69,kn=90,Sn=91,Cn=92,An=93,En=94,Tn=95,On=97,_n=101,Rn=102,Pn=110,Mn=114,In=116,Nn=117,jn=118,Ln=122,Vn=123,Fn=124,Dn=125,Bn=160,qn=new Be(-1,null),Un=e.Parser=function(){function t(){this.cache={},this.lexer=new qe}return t.prototype.parse=function(t){return t=t||"",this.cache[t]||(this.cache[t]=new Hn(this.lexer,t).parseChain())},t}(),Hn=e.ParserImplementation=function(){function t(t,e){this.index=0,this.input=e,this.tokens=t.lex(e)}return t.prototype.parseChain=function(){for(var t=!1,e=[];this.optional(";");)t=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error("Unconsumed token "+this.peek.text);var n=this.parseBindingBehavior();for(e.push(n);this.optional(";");)t=!0;t&&this.error("Multiple expressions are not allowed.")}return 1===e.length?e[0]:new be(e)},t.prototype.parseBindingBehavior=function(){for(var t=this.parseValueConverter();this.optional("&");){var e=this.peek.text,n=[];for(this.advance();this.optional(":");)n.push(this.parseExpression());t=new we(t,e,n)}return t},t.prototype.parseValueConverter=function(){for(var t=this.parseExpression();this.optional("|");){var e=this.peek.text,n=[];for(this.advance();this.optional(":");)n.push(this.parseExpression());t=new xe(t,e,n,[t].concat(n))}return t},t.prototype.parseExpression=function(){for(var t=this.peek.index,e=this.parseConditional();"="===this.peek.text;){if(!e.isAssignable){var n=this.index<this.tokens.length?this.peek.index:this.input.length,r=this.input.substring(t,n);this.error("Expression "+r+" is not assignable")}this.expect("="),e=new ke(e,this.parseConditional())}return e},t.prototype.parseConditional=function(){var t=this.peek.index,e=this.parseLogicalOr();if(this.optional("?")){var n=this.parseExpression();if(!this.optional(":")){var r=this.index<this.tokens.length?this.peek.index:this.input.length,i=this.input.substring(t,r);this.error("Conditional expression "+i+" requires all 3 expressions")}var o=this.parseExpression();e=new Se(e,n,o)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optional("||");)t=new Pe("||",t,this.parseLogicalAnd());return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optional("&&");)t=new Pe("&&",t,this.parseEquality());return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();;)if(this.optional("=="))t=new Pe("==",t,this.parseRelational());else if(this.optional("!="))t=new Pe("!=",t,this.parseRelational());else if(this.optional("==="))t=new Pe("===",t,this.parseRelational());else{if(!this.optional("!=="))return t;t=new Pe("!==",t,this.parseRelational())}},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();;)if(this.optional("<"))t=new Pe("<",t,this.parseAdditive());else if(this.optional(">"))t=new Pe(">",t,this.parseAdditive());else if(this.optional("<="))t=new Pe("<=",t,this.parseAdditive());else{if(!this.optional(">="))return t;t=new Pe(">=",t,this.parseAdditive())}},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();;)if(this.optional("+"))t=new Pe("+",t,this.parseMultiplicative());else{if(!this.optional("-"))return t;t=new Pe("-",t,this.parseMultiplicative())}},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();;)if(this.optional("*"))t=new Pe("*",t,this.parsePrefix());else if(this.optional("%"))t=new Pe("%",t,this.parsePrefix());else{if(!this.optional("/"))return t;t=new Pe("/",t,this.parsePrefix())}},t.prototype.parsePrefix=function(){return this.optional("+")?this.parsePrefix():this.optional("-")?new Pe("-",new Ie(0),this.parsePrefix()):this.optional("!")?new Me("!",this.parsePrefix()):this.parseAccessOrCallMember()},t.prototype.parseAccessOrCallMember=function(){for(var t=this.parsePrimary();;)if(this.optional(".")){var e=this.peek.text;if(this.advance(),this.optional("(")){var n=this.parseExpressionList(")");this.expect(")"),t=t instanceof Ce?new Oe(e,n,t.ancestor):new _e(t,e,n)}else t=t instanceof Ce?new Ae(e,t.ancestor):new Ee(t,e)}else if(this.optional("[")){var r=this.parseExpression();this.expect("]"),t=new Te(t,r)}else{if(!this.optional("("))return t;var i=this.parseExpressionList(")");this.expect(")"),t=new Re(t,i)}},t.prototype.parsePrimary=function(){if(this.optional("(")){var t=this.parseExpression();return this.expect(")"),t}if(this.optional("null"))return new Ie(null);if(this.optional("undefined"))return new Ie(void 0);if(this.optional("true"))return new Ie(!0);if(this.optional("false"))return new Ie(!1);if(this.optional("[")){var e=this.parseExpressionList("]");return this.expect("]"),new je(e)}if("{"===this.peek.text)return this.parseObject();if(null!==this.peek.key&&void 0!==this.peek.key)return this.parseAccessOrCallScope();if(null!==this.peek.value&&void 0!==this.peek.value){var n=this.peek.value;return this.advance(),n instanceof String||"string"==typeof n?new Ne(n):new Ie(n)}if(this.index>=this.tokens.length)throw new Error("Unexpected end of expression: "+this.input);this.error("Unexpected token "+this.peek.text)},t.prototype.parseAccessOrCallScope=function(){var t=this.peek.key;if(this.advance(),"$this"===t)return new Ce(0);for(var e=0;"$parent"===t;)if(e++,this.optional("."))t=this.peek.key,this.advance();else{if(this.peek===qn||"("===this.peek.text||")"===this.peek.text||"["===this.peek.text||"}"===this.peek.text||","===this.peek.text)return new Ce(e);this.error("Unexpected token "+this.peek.text)}if(this.optional("(")){var n=this.parseExpressionList(")");return this.expect(")"),new Oe(t,n,e)}return new Ae(t,e)},t.prototype.parseObject=function(){var t=[],e=[];if(this.expect("{"),"}"!==this.peek.text)do{var n=this.peek,r=n.value;t.push("string"==typeof r?r:n.text),this.advance(),!n.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),e.push(this.parseExpression())):(--this.index,e.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new Le(t,e)},t.prototype.parseExpressionList=function(t){var e=[];if(this.peek.text!==t)do e.push(this.parseExpression());while(this.optional(","));return e},t.prototype.optional=function(t){return this.peek.text===t&&(this.advance(),!0)},t.prototype.expect=function(t){this.peek.text===t?this.advance():this.error("Missing expected "+t)},t.prototype.advance=function(){this.index++},t.prototype.error=function(t){var e=this.index<this.tokens.length?"at column "+(this.tokens[this.index].index+1)+" in":"at the end of the expression";throw new Error("Parser Error: "+t+" "+e+" ["+this.input+"]")},jt(t,[{key:"peek",get:function(){return this.index<this.tokens.length?this.tokens[this.index]:qn}}]),t}(),zn=Map.prototype;e.getMapObserver=Q;var Wn=function(t){function e(e,n){return i(this,t.call(this,e,n))}return o(e,t),e.for=function(t,n){return"__map_observer__"in n||Reflect.defineProperty(n,"__map_observer__",{value:e.create(t,n),enumerable:!1,configurable:!1}),n.__map_observer__},e.create=function(t,n){var r=new e(t,n),i=zn;return i.set===n.set&&i.delete===n.delete&&i.clear===n.clear||(i={set:n.set,delete:n.delete,clear:n.clear}),n.set=function(){var t=n.has(arguments[0]),e=t?"update":"add",o=n.get(arguments[0]),s=i.set.apply(n,arguments);return t&&o===n.get(arguments[0])||r.addChangeRecord({type:e,object:n,key:arguments[0],oldValue:o}),s},n.delete=function(){var t=n.has(arguments[0]),e=n.get(arguments[0]),o=i.delete.apply(n,arguments);return t&&r.addChangeRecord({type:"delete",object:n,key:arguments[0],oldValue:e}),o},n.clear=function(){var t=i.clear.apply(n,arguments);return r.addChangeRecord({type:"clear",object:n}),t},r},e}(ue),Kn=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){this.count++,1===this.count&&Ft.DOM.addEventListener(this.eventName,Z,!0)},t.prototype.decrement=function(){this.count--,0===this.count&&Ft.DOM.removeEventListener(this.eventName,Z,!0)},t}(),Gn=function(){function t(t){this.eventName=t,this.count=0}return t.prototype.increment=function(){
this.count++,1===this.count&&Ft.DOM.addEventListener(this.eventName,tt,!1)},t.prototype.decrement=function(){this.count--,0===this.count&&Ft.DOM.removeEventListener(this.eventName,tt)},t}(),Xn=function(){function t(){this.delegatedHandlers={},this.capturedHandlers={}}return t.prototype.subscribe=function(t,e,n,r){var i=this,o=void 0,s=void 0,a=void 0;if(r===Qn.bubbling){var u=function(){o=i.delegatedHandlers,a=o[e]||(o[e]=new Gn(e));var r=t.delegatedCallbacks||(t.delegatedCallbacks={});return a.increment(),r[e]=n,{v:function(){a.decrement(),r[e]=null}}}();if("object"===("undefined"==typeof u?"undefined":Nt(u)))return u.v}if(r===Qn.capturing){var c=function(){s=i.capturedHandlers,a=s[e]||(s[e]=new Kn(e));var r=t.capturedCallbacks||(t.capturedCallbacks={});return a.increment(),r[e]=n,{v:function(){a.decrement(),r[e]=null}}}();if("object"===("undefined"==typeof c?"undefined":Nt(c)))return c.v}return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n)}},t}(),Qn=e.delegationStrategy={none:0,capturing:1,bubbling:2},$n=e.EventManager=function(){function t(){this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new Xn}return t.prototype.registerElementConfig=function(t){var e=t.tagName.toLowerCase(),n=t.properties,r=void 0;this.elementHandlerLookup[e]={};for(r in n)n.hasOwnProperty(r)&&this.registerElementPropertyConfig(e,r,n[r])},t.prototype.registerElementPropertyConfig=function(t,e,n){this.elementHandlerLookup[t][e]=this.createElementHandler(n)},t.prototype.createElementHandler=function(t){return{subscribe:function(e,n){return t.forEach(function(t){e.addEventListener(t,n,!1)}),function(){t.forEach(function(t){e.removeEventListener(t,n)})}}}},t.prototype.registerElementHandler=function(t,e){this.elementHandlerLookup[t.toLowerCase()]=e},t.prototype.registerEventStrategy=function(t,e){this.eventStrategyLookup[t]=e},t.prototype.getElementHandler=function(t,e){var n=void 0,r=this.elementHandlerLookup;if(t.tagName){if(n=t.tagName.toLowerCase(),r[n]&&r[n][e])return r[n][e];if("textContent"===e||"innerHTML"===e)return r["content editable"].value;if("scrollTop"===e||"scrollLeft"===e)return r["scrollable element"][e]}return null},t.prototype.addEventListener=function(t,e,n,r){return(this.eventStrategyLookup[e]||this.defaultEventStrategy).subscribe(t,e,n,r)},t}(),Jn=e.DirtyChecker=function(){function t(){this.tracked=[],this.checkDelay=120}return t.prototype.addProperty=function(t){var e=this.tracked;e.push(t),1===e.length&&this.scheduleDirtyCheck()},t.prototype.removeProperty=function(t){var e=this.tracked;e.splice(e.indexOf(t),1)},t.prototype.scheduleDirtyCheck=function(){var t=this;setTimeout(function(){return t.check()},this.checkDelay)},t.prototype.check=function(){for(var t=this.tracked,e=t.length;e--;){var n=t[e];n.isDirty()&&n.call()}t.length&&this.scheduleDirtyCheck()},t}(),Yn=e.DirtyCheckProperty=(mt=k(),mt(bt=function(){function t(t,e,n){this.dirtyChecker=t,this.obj=e,this.propertyName=n}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.call=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.isDirty=function(){return this.oldValue!==this.obj[this.propertyName]},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},t}())||bt),Zn=Vt.getLogger("property-observation"),tr=e.propertyAccessor={getValue:function(t,e){return t[e]},setValue:function(t,e,n){e[n]=t}},er=e.PrimitiveObserver=function(){function t(t,e){this.doNotCache=!0,this.primitive=t,this.propertyName=e}return t.prototype.getValue=function(){return this.primitive[this.propertyName]},t.prototype.setValue=function(){var t=Nt(this.primitive);throw new Error("The "+this.propertyName+" property of a "+t+" ("+this.primitive+") cannot be assigned.")},t.prototype.subscribe=function(){},t.prototype.unsubscribe=function(){},t}(),nr=e.SetterObserver=(wt=k(),wt(xt=function(){function t(t,e,n){this.taskQueue=t,this.obj=e,this.propertyName=n,this.queued=!1,this.observing=!1}return t.prototype.getValue=function(){return this.obj[this.propertyName]},t.prototype.setValue=function(t){this.obj[this.propertyName]=t},t.prototype.getterValue=function(){return this.currentValue},t.prototype.setterValue=function(t){var e=this.currentValue;e!==t&&(this.queued||(this.oldValue=e,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=t)},t.prototype.call=function(){var t=this.oldValue,e=this.currentValue;this.queued=!1,this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.observing||this.convertProperty(),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)},t.prototype.convertProperty=function(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||Zn.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)},t}())||xt),rr=e.XLinkAttributeObserver=function(){function t(t,e,n){this.element=t,this.propertyName=e,this.attributeName=n}return t.prototype.getValue=function(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},t.prototype.setValue=function(t){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),ir=e.dataAttributeAccessor={getValue:function(t,e){return t.getAttribute(e)},setValue:function(t,e,n){return e.setAttribute(n,t)}},or=e.DataAttributeObserver=function(){function t(t,e){this.element=t,this.propertyName=e}return t.prototype.getValue=function(){return this.element.getAttribute(this.propertyName)},t.prototype.setValue=function(t){return this.element.setAttribute(this.propertyName,t)},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),sr=e.StyleObserver=function(){function t(t,e){this.element=t,this.propertyName=e,this.styles=null,this.version=0}return t.prototype.getValue=function(){return this.element.style.cssText},t.prototype._setProperty=function(t,e){var n="";null!==e&&void 0!==e&&"function"==typeof e.indexOf&&e.indexOf("!important")!==-1&&(n="important",e=e.replace("!important","")),this.element.style.setProperty(t,e,n)},t.prototype.setValue=function(t){var e=this.styles||{},n=void 0,r=this.version;if(null!==t&&void 0!==t)if(t instanceof Object){var i=void 0;for(n in t)t.hasOwnProperty(n)&&(i=t[n],n=n.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),e[n]=r,this._setProperty(n,i))}else if(t.length)for(var o=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,s=void 0;null!==(s=o.exec(t));)n=s[1],n&&(e[n]=r,this._setProperty(n,s[2]));if(this.styles=e,this.version+=1,0!==r){r-=1;for(n in e)e.hasOwnProperty(n)&&e[n]===r&&this.element.style.removeProperty(n)}},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},t}(),ar=e.ValueAttributeObserver=(kt=k(),kt(St=function(){function t(t,e,n){this.element=t,this.propertyName=e,this.handler=n,"files"===e&&(this.setValue=function(){})}return t.prototype.getValue=function(){return this.element[this.propertyName]},t.prototype.setValue=function(t){t=void 0===t||null===t?"":t,this.element[this.propertyName]!==t&&(this.element[this.propertyName]=t,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.getValue();this.callSubscribers(e,t),this.oldValue=e},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t}())||St),ur="CheckedObserver:array",cr="CheckedObserver:value",lr=e.CheckedObserver=(Ct=k(),Ct(At=function(){function t(t,e,n){this.element=t,this.handler=e,this.observerLocator=n}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){this.value!==t&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(ur,this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe(ur,this)),this.oldValue=this.value,this.value=t,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(cr,this))},t.prototype.synchronizeElement=function(){var t=this.value,e=this.element,n=e.hasOwnProperty("model")?e.model:e.value,r="radio"===e.type,i=e.matcher||function(t,e){return t===e};e.checked=r&&!!i(t,n)||!r&&t===!0||!r&&Array.isArray(t)&&t.findIndex(function(t){return!!i(t,n)})!==-1},t.prototype.synchronizeValue=function(){var t=this.value,e=this.element,n=e.hasOwnProperty("model")?e.model:e.value,r=void 0,i=e.matcher||function(t,e){return t===e};if("checkbox"===e.type){if(Array.isArray(t))return r=t.findIndex(function(t){return!!i(t,n)}),void(e.checked&&r===-1?t.push(n):e.checked||r===-1||t.splice(r,1));t=e.checked}else{if(!e.checked)return;t=n}this.oldValue=this.value,this.value=t,this.notify()},t.prototype.notify=function(){var t=this.oldValue,e=this.value;this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t.prototype.unbind=function(){this.arrayObserver&&(this.arrayObserver.unsubscribe(ur,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(cr,this)},t}())||At),hr="SelectValueObserver:array",fr=e.SelectValueObserver=(Et=k(),Et(Tt=function(){function t(t,e,n){this.element=t,this.handler=e,this.observerLocator=n}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){if(null!==t&&void 0!==t&&this.element.multiple&&!Array.isArray(t))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==t&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(hr,this),this.arrayObserver=null),Array.isArray(t)&&(this.arrayObserver=this.observerLocator.getArrayObserver(t),this.arrayObserver.subscribe(hr,this)),this.oldValue=this.value,this.value=t,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},t.prototype.call=function(t,e){this.synchronizeOptions()},t.prototype.synchronizeOptions=function(){var t=this.value,e=void 0,n=void 0;null===t||void 0===t?e=!0:Array.isArray(t)&&(n=!0);for(var r=this.element.options,i=r.length,o=this.element.matcher||function(t,e){return t===e},s=function(){var s=r.item(i);if(e)return s.selected=!1,"continue";var a=s.hasOwnProperty("model")?s.model:s.value;return n?(s.selected=t.findIndex(function(t){return!!o(a,t)})!==-1,"continue"):void(s.selected=!!o(a,t))};i--;){s()}},t.prototype.synchronizeValue=function(){for(var t=this,e=this.element.options,n=0,r=[],i=0,o=e.length;i<o;i++){var s=e.item(i);s.selected&&(r.push(s.hasOwnProperty("model")?s.model:s.value),n++)}if(this.element.multiple){if(Array.isArray(this.value)){var a=function(){for(var e=t.element.matcher||function(t,e){return t===e},n=0,i=function(){var i=t.value[n];r.findIndex(function(t){return e(i,t)})===-1?t.value.splice(n,1):n++};n<t.value.length;)i();n=0;for(var o=function(){var i=r[n];t.value.findIndex(function(t){return e(i,t)})===-1&&t.value.push(i),n++};n<r.length;)o();return{v:void 0}}();if("object"===("undefined"==typeof a?"undefined":Nt(a)))return a.v}}else r=0===n?null:r[0];r!==this.value&&(this.oldValue=this.value,this.value=r,this.notify())},t.prototype.notify=function(){var t=this.oldValue,e=this.value;this.callSubscribers(e,t)},t.prototype.subscribe=function(t,e){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(t,e)},t.prototype.unsubscribe=function(t,e){this.removeSubscriber(t,e)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},t.prototype.bind=function(){var t=this;this.domObserver=Ft.DOM.createMutationObserver(function(){t.synchronizeOptions(),t.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})},t.prototype.unbind=function(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(hr,this),this.arrayObserver=null)},t}())||Tt),pr=e.ClassObserver=function(){function t(t){this.element=t,this.doNotCache=!0,this.value="",this.version=0}return t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(t){var e=this.nameIndex||{},n=this.version,r=void 0,i=void 0;if(null!==t&&void 0!==t&&t.length){r=t.split(/\s+/);for(var o=0,s=r.length;o<s;o++)i=r[o],""!==i&&(e[i]=n,this.element.classList.add(i))}if(this.value=t,this.nameIndex=e,this.version+=1,0!==n){n-=1;for(i in e)e.hasOwnProperty(i)&&e[i]===n&&this.element.classList.remove(i)}},t.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},t}(),dr=e.ComputedExpression=function(t){function e(e,n){var r=i(this,t.call(this));return r.name=e,r.dependencies=n,r.isAssignable=!0,r}return o(e,t),e.prototype.evaluate=function(t,e){return t.bindingContext[this.name]},e.prototype.assign=function(t,e){t.bindingContext[this.name]=e},e.prototype.accept=function(t){throw new Error("not implemented")},e.prototype.connect=function(t,e){for(var n=this.dependencies,r=n.length;r--;)n[r].connect(t,e)},e}(me),vr=e.elements={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],
use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},gr=e.presentationElements={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},yr=e.presentationAttributes={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0},mr=e.SVGAnalyzer=function(){function t(){"altglyph"===ot("<svg><altGlyph /></svg>").firstElementChild.nodeName&&vr.altGlyph&&(vr.altglyph=vr.altGlyph,delete vr.altGlyph,vr.altglyphdef=vr.altGlyphDef,delete vr.altGlyphDef,vr.altglyphitem=vr.altGlyphItem,delete vr.altGlyphItem,vr.glyphref=vr.glyphRef,delete vr.glyphRef)}return t.prototype.isStandardSvgAttribute=function(t,e){return gr[t]&&yr[e]||vr[t]&&vr[t].indexOf(e)!==-1},t}(),br=e.ObserverLocator=(_t=Ot=function(){function t(t,e,n,r,i){this.taskQueue=t,this.eventManager=e,this.dirtyChecker=n,this.svgAnalyzer=r,this.parser=i,this.adapters=[],this.logger=Vt.getLogger("observer-locator")}return t.prototype.getObserver=function(t,e){var n=t.__observers__,r=void 0;return n&&e in n?n[e]:(r=this.createPropertyObserver(t,e),r.doNotCache||(void 0===n&&(n=this.getOrCreateObserversLookup(t)),n[e]=r),r)},t.prototype.getOrCreateObserversLookup=function(t){return t.__observers__||this.createObserversLookup(t)},t.prototype.createObserversLookup=function(t){var e={};return Reflect.defineProperty(t,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:e})||this.logger.warn("Cannot add observers to object",t),e},t.prototype.addAdapter=function(t){this.adapters.push(t)},t.prototype.getAdapterObserver=function(t,e,n){for(var r=0,i=this.adapters.length;r<i;r++){var o=this.adapters[r],s=o.getObserver(t,e,n);if(s)return s}return null},t.prototype.createPropertyObserver=function(t,e){var n=void 0,r=void 0,i=void 0;if(!(t instanceof Object))return new er(t,e);if(t instanceof Ft.DOM.Element){if("class"===e)return new pr(t);if("style"===e||"css"===e)return new sr(t,e);if(r=this.eventManager.getElementHandler(t,e),"value"===e&&"select"===t.tagName.toLowerCase())return new fr(t,r,this);if("checked"===e&&"input"===t.tagName.toLowerCase())return new lr(t,r,this);if(r)return new ar(t,e,r);if(i=/^xlink:(.+)$/.exec(e))return new rr(t,e,i[1]);if("role"===e&&(t instanceof Ft.DOM.Element||t instanceof Ft.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(e)||t instanceof Ft.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e))return new or(t,e)}if(n=Object.getPropertyDescriptor(t,e),et(n))return it(t,e,n,this);if(n){var o=n.get||n.set;if(o){if(o.getObserver)return o.getObserver(t);var s=this.getAdapterObserver(t,e,n);return s?s:new Yn(this.dirtyChecker,t,e)}}return t instanceof Array?"length"===e?this.getArrayObserver(t).getLengthObserver():new Yn(this.dirtyChecker,t,e):t instanceof Map?"size"===e?this.getMapObserver(t).getLengthObserver():new Yn(this.dirtyChecker,t,e):t instanceof Set?"size"===e?this.getSetObserver(t).getLengthObserver():new Yn(this.dirtyChecker,t,e):new nr(this.taskQueue,t,e)},t.prototype.getAccessor=function(t,e){if(t instanceof Ft.DOM.Element){if("class"===e||"style"===e||"css"===e||"value"===e&&("input"===t.tagName.toLowerCase()||"select"===t.tagName.toLowerCase())||"checked"===e&&"input"===t.tagName.toLowerCase()||"model"===e&&"input"===t.tagName.toLowerCase()||/^xlink:.+$/.exec(e))return this.getObserver(t,e);if(/^\w+:|^data-|^aria-/.test(e)||t instanceof Ft.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(t.nodeName,e))return ir}return tr},t.prototype.getArrayObserver=function(t){return N(this.taskQueue,t)},t.prototype.getMapObserver=function(t){return Q(this.taskQueue,t)},t.prototype.getSetObserver=function(t){return ct(this.taskQueue,t)},t}(),Ot.inject=[Dt.TaskQueue,$n,Jn,mr,Un],_t),wr=(e.ObjectObservationAdapter=function(){function t(){}return t.prototype.getObserver=function(t,e,n){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},t}(),e.BindingExpression=function(){function t(t,e,n,r,i,o){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=n,this.mode=r,this.lookupFunctions=i,this.attribute=o,this.discrete=!1}return t.prototype.createBinding=function(t){return new kr(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.mode,this.lookupFunctions)},t}()),xr="Binding:target",kr=e.Binding=(Rt=d(),Rt(Pt=function(){function t(t,e,n,r,i,o){this.observerLocator=t,this.sourceExpression=e,this.target=n,this.targetProperty=r,this.mode=i,this.lookupFunctions=o}return t.prototype.updateTarget=function(t){this.targetObserver.setValue(t,this.target,this.targetProperty)},t.prototype.updateSource=function(t){this.sourceExpression.assign(this.source,t,this.lookupFunctions)},t.prototype.call=function(t,e,n){if(this.isBound){if(t===Ut)return n=this.targetObserver.getValue(this.target,this.targetProperty),e=this.sourceExpression.evaluate(this.source,this.lookupFunctions),e!==n&&this.updateTarget(e),void(this.mode!==De.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(t===xr)return void(e!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(e));throw new Error("Unexpected call context "+t)}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions);var e=this.mode;if(!this.targetObserver){var n=e===De.twoWay?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[n](this.target,this.targetProperty)}"bind"in this.targetObserver&&this.targetObserver.bind();var r=this.sourceExpression.evaluate(t,this.lookupFunctions);this.updateTarget(r),e===De.oneWay?g(this):e===De.twoWay&&(this.sourceExpression.connect(this,t),this.targetObserver.subscribe(xr,this))},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(xr,this),this.unobserve(!0))},t.prototype.connect=function(t){if(this.isBound){if(t){var e=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(e)}this.sourceExpression.connect(this,this.source)}},t}())||Pt),Sr=(e.CallExpression=function(){function t(t,e,n,r){this.observerLocator=t,this.targetProperty=e,this.sourceExpression=n,this.lookupFunctions=r}return t.prototype.createBinding=function(t){return new Sr(this.observerLocator,this.sourceExpression,t,this.targetProperty,this.lookupFunctions)},t}(),e.Call=function(){function t(t,e,n,r,i){this.sourceExpression=e,this.target=n,this.targetProperty=t.getObserver(n,r),this.lookupFunctions=i}return t.prototype.callSource=function(t){var e=this.source.overrideContext;Object.assign(e,t),e.$event=t;var n=!0,r=this.sourceExpression.evaluate(this.source,this.lookupFunctions,n);delete e.$event;for(var i in t)delete e[i];return r},t.prototype.bind=function(t){var e=this;if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.targetProperty.setValue(function(t){return e.callSource(t)})},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},t}()),Cr=e.ValueConverterResource=function(){function t(t){this.name=t}return t.convention=function(e){if(e.endsWith("ValueConverter"))return new t(s(e.substring(0,e.length-14)))},t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerValueConverter(e||this.name,this.instance)},t.prototype.load=function(t,e){},t}(),Ar=e.BindingBehaviorResource=function(){function t(t){this.name=t}return t.convention=function(e){if(e.endsWith("BindingBehavior"))return new t(s(e.substring(0,e.length-15)))},t.prototype.initialize=function(t,e){this.instance=t.get(e)},t.prototype.register=function(t,e){t.registerBindingBehavior(e||this.name,this.instance)},t.prototype.load=function(t,e){},t}(),Er=(e.ListenerExpression=function(){function t(t,e,n,r,i,o){this.eventManager=t,this.targetEvent=e,this.sourceExpression=n,this.delegationStrategy=r,this.discrete=!0,this.preventDefault=i,this.lookupFunctions=o}return t.prototype.createBinding=function(t){return new Er(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,t,this.preventDefault,this.lookupFunctions)},t}(),e.Listener=function(){function t(t,e,n,r,i,o,s){this.eventManager=t,this.targetEvent=e,this.delegationStrategy=n,this.sourceExpression=r,this.target=i,this.preventDefault=o,this.lookupFunctions=s}return t.prototype.callSource=function(t){var e=this.source.overrideContext;e.$event=t;var n=!0,r=this.sourceExpression.evaluate(this.source,this.lookupFunctions,n);return delete e.$event,r!==!0&&this.preventDefault&&t.preventDefault(),r},t.prototype.bind=function(t){var e=this;if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,function(t){return e.callSource(t)},this.delegationStrategy)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)},t}()),Tr=(e.NameExpression=function(){function t(t,e,n){this.sourceExpression=t,this.apiName=e,this.lookupFunctions=n,this.discrete=!0}return t.prototype.createBinding=function(e){return new Tr(this.sourceExpression,t.locateAPI(e,this.apiName),this.lookupFunctions)},t.locateAPI=function(t,e){switch(e){case"element":return t;case"controller":return ut(t).controller;case"view-model":return ut(t).controller.viewModel;case"view":return ut(t).controller.view;default:var n=ut(t)[e];if(void 0===n)throw new Error('Attempted to reference "'+e+"\", but it was not found amongst the target's API.");return n.viewModel}},t}(),function(){function t(t,e,n){this.sourceExpression=t,this.target=e,this.lookupFunctions=n}return t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t,this.sourceExpression.bind&&this.sourceExpression.bind(this,t,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},t.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},t}()),Or={bindingBehaviors:function(t){return null},valueConverters:function(t){return null}},_r=(e.BindingEngine=(It=Mt=function(){function t(t,e){this.observerLocator=t,this.parser=e}return t.prototype.createBindingExpression=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?De.oneWay:arguments[2],r=arguments.length<=3||void 0===arguments[3]?Or:arguments[3];return new wr(this.observerLocator,t,this.parser.parse(e),n,r)},t.prototype.propertyObserver=function(t,e){var n=this;return{subscribe:function(r){var i=n.observerLocator.getObserver(t,e);return i.subscribe(r),{dispose:function(){return i.unsubscribe(r)}}}}},t.prototype.collectionObserver=function(t){var e=this;return{subscribe:function(n){var r=void 0;if(t instanceof Array)r=e.observerLocator.getArrayObserver(t);else if(t instanceof Map)r=e.observerLocator.getMapObserver(t);else{if(!(t instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");r=e.observerLocator.getSetObserver(t)}return r.subscribe(n),{dispose:function(){return r.unsubscribe(n)}}}}},t.prototype.expressionObserver=function(t,e){var n={bindingContext:t,overrideContext:a(t)};return new ne(n,this.parser.parse(e),this.observerLocator,Or)},t.prototype.parseExpression=function(t){return this.parser.parse(t)},t.prototype.registerAdapter=function(t){this.observerLocator.addAdapter(t)},t}(),Mt.inject=[br,Un],It),Set.prototype);e.getSetObserver=ct;var Rr=function(t){function e(e,n){return i(this,t.call(this,e,n))}return o(e,t),e.for=function(t,n){return"__set_observer__"in n||Reflect.defineProperty(n,"__set_observer__",{value:e.create(t,n),enumerable:!1,configurable:!1}),n.__set_observer__},e.create=function(t,n){var r=new e(t,n),i=_r;return i.add===n.add&&i.delete===n.delete&&i.clear===n.clear||(i={add:n.add,delete:n.delete,clear:n.clear}),n.add=function(){var t="add",e=n.size,o=i.add.apply(n,arguments),s=n.size===e;return s||r.addChangeRecord({type:t,object:n,value:Array.from(n).pop()}),o},n.delete=function(){var t=n.has(arguments[0]),e=i.delete.apply(n,arguments);return t&&r.addChangeRecord({type:"delete",object:n,value:arguments[0]}),e},n.clear=function(){var t=i.clear.apply(n,arguments);return r.addChangeRecord({type:"clear",object:n}),t},r},e}(ue)},function(t,e,n){"use strict";function r(t,e){var n=t.inject;if("function"==typeof n)throw new Error("Decorator "+e+' cannot be used with "inject()".  Please use an array instead.');return n||(n=j.metadata.getOwn(j.metadata.paramTypes,t).slice(),t.inject=n),n}function i(t){return function(e,n,i){var o=r(e,"lazy");o[i]=F.of(t)}}function o(t){return function(e,n,i){var o=r(e,"all");o[i]=D.of(t)}}function s(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=function(t){return function(e,n,i){var o=r(e,"optional");o[i]=B.of(o[i],t)}};return e("boolean"==typeof t?t:!0)}function a(t,e,n){var i=r(t,"parent");i[n]=q.of(i[n])}function u(t,e){return function(n,i,o){var s=r(n,"factory"),a=H.of(t);s[o]=e?a.as(e):a}}function c(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=function(t){return function(e,i,o){var s=r(e,"newInstance");s[o]=z.of.apply(z,[s[o]].concat(n)),t&&s[o].as(t)}};return arguments.length>=1?o(t):o()}function l(t){return function(e){j.metadata.define(j.metadata.invoker,t,e)}}function h(t){var e=function(t){j.metadata.define(j.metadata.invoker,W.instance,t)};return t?e(t):e}function f(t){return function(e){j.metadata.define(j.metadata.registration,t,e)}}function p(t){return f(new K(t))}function d(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return f(new G(t,e))}function v(t){if(null===t||void 0===t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function g(t,e,n,r){for(var i=n.length,o=new Array(i);i--;)o[i]=t.get(n[i]);return void 0!==r&&(o=o.concat(r)),Reflect.construct(e,o)}function y(t){return t.hasOwnProperty("inject")?"function"==typeof t.inject?t.inject():t.inject:[]}function m(t){var e=function(t){var e=t.inject?t.inject.slice():null,n=j.metadata.getOwn(j.metadata.paramTypes,t)||X;if(e){for(var r=0;r<n.length;r++)if(e[r]&&e[r]!==n[r]){var i=e.indexOf(n[r]);i>-1&&e.splice(i,1),e.splice(i>-1&&i<r?r-1:r,0,n[r])}else e[r]||(e[r]=n[r]);t.inject=e}else t.inject=n};return t?e(t):e}function b(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,r){if("number"==typeof r&&1===e.length){var i=t.inject;if("function"==typeof i)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return i||(i=j.metadata.getOwn(j.metadata.paramTypes,t).slice(),t.inject=i),void(i[r]=e[0])}if(r){var o=r.value;o.inject=e}else t.inject=e}}Object.defineProperty(e,"__esModule",{value:!0}),e.Container=e.InvocationHandler=e._emptyParameters=e.SingletonRegistration=e.TransientRegistration=e.FactoryInvoker=e.NewInstance=e.Factory=e.StrategyResolver=e.Parent=e.Optional=e.All=e.Lazy=e.resolver=void 0;var w,x,k,S,C,A,E,T,O,_,R,P,M,I,N;e.getDecoratorDependencies=r,e.lazy=i,e.all=o,e.optional=s,e.parent=a,e.factory=u,e.newInstance=c,e.invoker=l,e.invokeAsFactory=h,e.registration=f,e.transient=p,e.singleton=d,e.autoinject=m,e.inject=b;var j=n(7),L=n(1),V=e.resolver=j.protocol.create("aurelia:resolver",function(t){return"function"==typeof t.get||"Resolvers must implement: get(container: Container, key: any): any"}),F=e.Lazy=(w=V(),w(x=function(){function t(t){this._key=t}return t.prototype.get=function(t){var e=this;return function(){return t.get(e._key)}},t.of=function(e){return new t(e)},t}())||x),D=e.All=(k=V(),k(S=function(){function t(t){this._key=t}return t.prototype.get=function(t){return t.getAll(this._key)},t.of=function(e){return new t(e)},t}())||S),B=e.Optional=(C=V(),C(A=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=t,this._checkParent=e}return t.prototype.get=function(t){return t.hasResolver(this._key,this._checkParent)?t.get(this._key):null},t.of=function(e){var n=arguments.length<=1||void 0===arguments[1]||arguments[1];return new t(e,n)},t}())||A),q=e.Parent=(E=V(),E(T=function(){function t(t){this._key=t}return t.prototype.get=function(t){return t.parent?t.parent.get(this._key):null},t.of=function(e){return new t(e)},t}())||T),U=e.StrategyResolver=(O=V(),O(_=function(){function t(t,e){this.strategy=t,this.state=e}return t.prototype.get=function(t,e){switch(this.strategy){case 0:return this.state;case 1:var n=t.invoke(this.state);return this.state=n,this.strategy=0,n;case 2:return t.invoke(this.state);case 3:return this.state(t,e,this);case 4:return this.state[0].get(t,e);case 5:return t.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},t}())||_),H=e.Factory=(R=V(),R(P=function(){function t(t){this._key=t}return t.prototype.get=function(t){var e=this;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.invoke(e._key,r)}},t.of=function(e){return new t(e)},t}())||P),z=e.NewInstance=(M=V(),M(I=function(){function t(t){this.key=t,this.asKey=t;for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.dynamicDependencies=n}return t.prototype.get=function(t){var e=this.dynamicDependencies.length>0?this.dynamicDependencies.map(function(e){return e["protocol:aurelia:resolver"]?e.get(t):t.get(e)}):void 0,n=t.invoke(this.key,e);return t.registerInstance(this.asKey,n),n},t.prototype.as=function(t){return this.asKey=t,this},t.of=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new(Function.prototype.bind.apply(t,[null].concat([e],r)))},t}())||I),W=e.FactoryInvoker=function(){function t(){}return t.prototype.invoke=function(t,e,n){for(var r=n.length,i=new Array(r);r--;)i[r]=t.get(n[r]);return e.apply(void 0,i)},t.prototype.invokeWithDynamicDependencies=function(t,e,n,r){for(var i=n.length,o=new Array(i);i--;)o[i]=t.get(n[i]);return void 0!==r&&(o=o.concat(r)),e.apply(void 0,o)},t}();W.instance=new W;var K=e.TransientRegistration=function(){function t(t){this._key=t}return t.prototype.registerResolver=function(t,e,n){var r=t.getResolver(this._key||e);return void 0===r?t.registerTransient(this._key||e,n):r},t}(),G=e.SingletonRegistration=function(){function t(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof t?this._registerInChild=t:(this._key=t,this._registerInChild=e)}return t.prototype.registerResolver=function(t,e,n){var r=this._registerInChild?t:t.root,i=r.getResolver(this._key||e);return void 0===i?r.registerSingleton(this._key||e,n):i},t}(),X=e._emptyParameters=Object.freeze([]);j.metadata.registration="aurelia:registration",j.metadata.invoker="aurelia:invoker";var Q=V.decorates,$=e.InvocationHandler=function(){function t(t,e,n){this.fn=t,this.invoker=e,this.dependencies=n}return t.prototype.invoke=function(t,e){return void 0!==e?this.invoker.invokeWithDynamicDependencies(t,this.fn,this.dependencies,e):this.invoker.invoke(t,this.fn,this.dependencies)},t}(),J=(N={},N[0]={invoke:function(t,e){return new e},invokeWithDynamicDependencies:g},N[1]={invoke:function(t,e,n){return new e(t.get(n[0]))},invokeWithDynamicDependencies:g},N[2]={invoke:function(t,e,n){return new e(t.get(n[0]),t.get(n[1]))},invokeWithDynamicDependencies:g},N[3]={invoke:function(t,e,n){return new e(t.get(n[0]),t.get(n[1]),t.get(n[2]))},invokeWithDynamicDependencies:g},N[4]={invoke:function(t,e,n){return new e(t.get(n[0]),t.get(n[1]),t.get(n[2]),t.get(n[3]))},invokeWithDynamicDependencies:g},N[5]={invoke:function(t,e,n){return new e(t.get(n[0]),t.get(n[1]),t.get(n[2]),t.get(n[3]),t.get(n[4]))},invokeWithDynamicDependencies:g},N.fallback={invoke:g,invokeWithDynamicDependencies:g},N);e.Container=function(){function t(t){void 0===t&&(t={}),this._configuration=t,this._onHandlerCreated=t.onHandlerCreated,this._handlers=t.handlers||(t.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return t.prototype.makeGlobal=function(){return t.instance=this,this},t.prototype.setHandlerCreatedCallback=function(t){this._onHandlerCreated=t,this._configuration.onHandlerCreated=t},t.prototype.registerInstance=function(t,e){return this.registerResolver(t,new U(0,void 0===e?t:e))},t.prototype.registerSingleton=function(t,e){return this.registerResolver(t,new U(1,void 0===e?t:e))},t.prototype.registerTransient=function(t,e){return this.registerResolver(t,new U(2,void 0===e?t:e))},t.prototype.registerHandler=function(t,e){return this.registerResolver(t,new U(3,e))},t.prototype.registerAlias=function(t,e){return this.registerResolver(e,new U(5,t))},t.prototype.registerResolver=function(t,e){v(t);var n=this._resolvers,r=n.get(t);return void 0===r?n.set(t,e):4===r.strategy?r.state.push(e):n.set(t,new U(4,[r,e])),e},t.prototype.autoRegister=function(t,e){if(e=void 0===e?t:e,"function"==typeof e){var n=j.metadata.get(j.metadata.registration,e);return void 0===n?this.registerResolver(t,new U(1,e)):n.registerResolver(this,t,e)}return this.registerResolver(t,new U(0,e))},t.prototype.autoRegisterAll=function(t){for(var e=t.length;e--;)this.autoRegister(t[e])},t.prototype.unregister=function(t){this._resolvers.delete(t)},t.prototype.hasResolver=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return v(t),this._resolvers.has(t)||e&&null!==this.parent&&this.parent.hasResolver(t,e)},t.prototype.getResolver=function(t){return this._resolvers.get(t)},t.prototype.get=function(e){if(v(e),e===t)return this;if(Q(e))return e.get(this,e);var n=this._resolvers.get(e);if(void 0===n){if(null===this.parent)return this.autoRegister(e).get(this,e);var r=j.metadata.get(j.metadata.registration,e);return void 0===r?this.parent._get(e):r.registerResolver(this,e,e).get(this,e)}return n.get(this,e)},t.prototype._get=function(t){var e=this._resolvers.get(t);return void 0===e?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):e.get(this,t)},t.prototype.getAll=function(t){v(t);var e=this._resolvers.get(t);if(void 0===e)return null===this.parent?X:this.parent.getAll(t);if(4===e.strategy){for(var n=e.state,r=n.length,i=new Array(r);r--;)i[r]=n[r].get(this,t);return i}return[e.get(this,t)]},t.prototype.createChild=function(){var e=new t(this._configuration);return e.root=this.root,e.parent=this,e},t.prototype.invoke=function(t,e){try{var n=this._handlers.get(t);return void 0===n&&(n=this._createInvocationHandler(t),this._handlers.set(t,n)),n.invoke(this,e)}catch(e){throw new L.AggregateError("Error invoking "+t.name+". Check the inner error for details.",e,!0)}},t.prototype._createInvocationHandler=function(t){var e=void 0;if(void 0===t.inject)e=j.metadata.getOwn(j.metadata.paramTypes,t)||X;else{e=[];for(var n=t;"function"==typeof n;){var r;(r=e).push.apply(r,y(n)),n=Object.getPrototypeOf(n)}}var i=j.metadata.getOwn(j.metadata.invoker,t)||J[e.length]||J.fallback,o=new $(t,i,e);return void 0!==this._onHandlerCreated?this._onHandlerCreated(o):o},t}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return e||"#"===t[0]||(t="#"+t),e&&n&&(t=t.substring(1,t.length)),t}function a(t,e,n,r){if(B.test(t))return t;var i="";return e.length&&"/"!==e[0]&&(i+="/"),i+=e,i.length&&"/"===i[i.length-1]||"/"===t[0]||(i+="/"),i.length&&"/"===i[i.length-1]&&"/"===t[0]&&(i=i.substring(0,i.length-1)),s(i+t,n,r)}function u(t,e,n){return D.test(t)?s(t,n):a(t,e,n)}function c(t,e){return function(t){return Promise.resolve({status:e,output:t,completed:e===q.completed})}}function l(t){t.previousInstruction=null,t.plan=null}function h(t){return t&&"function"==typeof t.navigate}function f(t,e){var n=t.previousInstruction,r=t.config,i={};if("redirect"in r){var o=u(r.redirect,d(t));return t.queryString&&(o+="?"+t.queryString),Promise.reject(new K(o))}if(n){var s=p(n,t),a=[],c=function(o){var u=n.viewPortInstructions[o],c=r.viewPorts[o];if(!c)throw new Error('Invalid Route Config: Configuration for viewPort "'+o+'" was not found for route: "'+t.config.route+'."');var l=i[o]={name:o,config:c,prevComponent:u.component,prevModuleId:u.moduleId};if(u.moduleId!==c.moduleId)l.strategy=X.replace;else if("determineActivationStrategy"in u.component.viewModel){var h;l.strategy=(h=u.component.viewModel).determineActivationStrategy.apply(h,t.lifecycleArgs)}else r.activationStrategy?l.strategy=r.activationStrategy:s||e?l.strategy=X.invokeLifecycle:l.strategy=X.noChange;if(l.strategy!==X.replace&&u.childRouter){var p=t.getWildcardPath(),d=u.childRouter._createNavigationInstruction(p,t).then(function(t){return l.childNavigationInstruction=t,f(t,l.strategy===X.invokeLifecycle).then(function(e){t.plan=e})});a.push(d)}};for(var l in n.viewPortInstructions)c(l);return Promise.all(a).then(function(){return i})}for(var h in r.viewPorts)i[h]={name:h,strategy:X.replace,config:t.config.viewPorts[h]};return Promise.resolve(i)}function p(t,e){var n=t.params,r=e.params,i=e.config.hasChildRouter?e.getWildCardName():null;for(var o in r)if(o!==i&&n[o]!==r[o])return!0;for(var s in n)if(s!==i&&n[s]!==r[s])return!0;if(!e.options.compareQueryParams)return!1;var a=t.queryParams,u=e.queryParams;for(var c in u)if(a[c]!==u[c])return!0;for(var l in a)if(a[l]!==u[l])return!0;return!1}function d(t){var e=[];for(t=t.parentInstruction;t;)e.unshift(t.getBaseUrl()),t=t.parentInstruction;return e.unshift("/"),e.join("")}function v(t,e){if("object"!==("undefined"==typeof t?"undefined":P(t)))throw new Error("Invalid Route Config");if("string"!=typeof t.route){var n=t.name||"(no name)";throw new Error('Invalid Route Config for "'+n+'": You must specify a "route:" pattern.')}if(!("redirect"in t||t.moduleId||t.navigationStrategy||t.viewPorts))throw new Error('Invalid Route Config for "'+t.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')}function g(t,e,n){return Promise.resolve(e.call(n,t)).then(function(){return"viewPorts"in t.config||(t.config.viewPorts={default:{moduleId:t.config.moduleId}}),t})}function y(t,e,n,r){function i(t){return r||k(t)?o():n.cancel(t)}function o(){if(a--)try{var t=s[a],r=t[e]();return S(r,i,n.cancel)}catch(t){return n.cancel(t)}return n()}var s=m(t,e),a=s.length;return o()}function m(t,e){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];for(var r in t){var i=t[r],o=i.prevComponent;if((i.strategy===X.invokeLifecycle||i.strategy===X.replace)&&o){var s=o.viewModel;e in s&&n.push(s)}i.childNavigationInstruction?m(i.childNavigationInstruction.plan,e,n):o&&b(o,e,n)}return n}function b(t,e,n){var r=t.childRouter;if(r&&r.currentInstruction){var i=r.currentInstruction.viewPortInstructions;for(var o in i){var s=i[o],a=s.component,u=a.viewModel;e in u&&n.push(u),b(a,e,n)}}}function w(t,e,n,r){function i(t,e){return r||k(t,e)?o():n.cancel(t)}function o(){if(u++,u<a)try{var t=function(){var t,r=s[u],o=(t=r.viewModel)[e].apply(t,r.lifecycleArgs);return{v:S(o,function(t){return i(t,r.router)},n.cancel)}}();if("object"===("undefined"==typeof t?"undefined":P(t)))return t.v}catch(t){return n.cancel(t)}return n()}var s=x(t,e),a=s.length,u=-1;return o()}function x(t,e){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],r=arguments[3],i=t.plan;return Object.keys(i).filter(function(o){var s=i[o],a=t.viewPortInstructions[o],u=a.component.viewModel;(s.strategy===X.invokeLifecycle||s.strategy===X.replace)&&e in u&&n.push({viewModel:u,lifecycleArgs:a.lifecycleArgs,router:r}),s.childNavigationInstruction&&x(s.childNavigationInstruction,e,n,a.component.childRouter||r)}),n}function k(t,e){return!(t instanceof Error)&&(h(t)?("function"==typeof t.setRouter&&t.setRouter(e),!!t.shouldContinueProcessing):void 0===t||t)}function S(t,e,n){if(t&&"function"==typeof t.then)return Promise.resolve(t).then(e).catch(n);if(t&&"function"==typeof t.subscribe){var r=function(){var r=t;return{v:new et(function(i){return r.subscribe({next:function(){i.subscribed&&(i.unsubscribe(),e(t))},error:function(t){i.subscribed&&(i.unsubscribe(),n(t))},complete:function(){i.subscribed&&(i.unsubscribe(),e(t))}})})}}();if("object"===("undefined"==typeof r?"undefined":P(r)))return r.v}try{return e(t)}catch(t){return n(t)}}function C(t,e){var n=A(e),r=n.map(function(e){return E(t,e.navigationInstruction,e.viewPortPlan)});return Promise.all(r)}function A(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=t.plan;for(var r in n){
var i=n[r];if(i.strategy===X.replace)e.push({viewPortPlan:i,navigationInstruction:t}),i.childNavigationInstruction&&A(i.childNavigationInstruction,e);else{var o=t.addViewPortInstruction(r,i.strategy,i.prevModuleId,i.prevComponent);i.childNavigationInstruction&&(o.childNavigationInstruction=i.childNavigationInstruction,A(i.childNavigationInstruction,e))}}return e}function E(t,e,n){var r=n.config.moduleId;return T(t,e,n.config).then(function(i){var o=e.addViewPortInstruction(n.name,n.strategy,r,i),s=i.childRouter;if(s){var a=e.getWildcardPath();return s._createNavigationInstruction(a,e).then(function(e){return n.childNavigationInstruction=e,f(e).then(function(n){return e.plan=n,o.childNavigationInstruction=e,C(t,e)})})}})}function T(t,e,n){var r=e.router,i=e.lifecycleArgs;return t.loadRoute(r,n,e).then(function(t){var e=t.viewModel,o=t.childContainer;if(t.router=r,t.config=n,"configureRouter"in e){var s=function(){var n=o.getChildRouter();return t.childRouter=n,{v:n.configure(function(t){return e.configureRouter.apply(e,[t,n].concat(i))}).then(function(){return t})}}();if("object"===("undefined"==typeof s?"undefined":P(s)))return s.v}return t})}function O(t,e,n,r){e&&"completed"in e&&"output"in e||(e=e||{},e.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(e)+"] instead."));var i=null;return h(e.output)?e.output.navigate(r):(i=e,e.completed||(e.output instanceof Error&&st.error(e.output),R(r))),r._dequeueInstruction(n+1).then(function(t){return i||t||e})}function _(t,e,n,r){if(t.resolve(e),!n){r.isNavigating=!1;var i={instruction:t,result:e},o=void 0;if(e.output instanceof Error)o="error";else if(e.completed){var s=t.queryString?"?"+t.queryString:"";r.history.previousLocation=t.fragment+s,o="success"}else o="canceled";r.events.publish("router:navigation:"+o,i),r.events.publish("router:navigation:complete",i)}return e}function R(t){var e=t.history.previousLocation;e?t.navigate(t.history.previousLocation,{trigger:!1,replace:!0}):t.fallbackRoute?t.navigate(t.fallbackRoute,{trigger:!0,replace:!0}):st.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")}Object.defineProperty(e,"__esModule",{value:!0}),e.AppRouter=e.PipelineProvider=e.LoadRouteStep=e.RouteLoader=e.ActivateNextStep=e.DeactivatePreviousStep=e.CanActivateNextStep=e.CanDeactivatePreviousStep=e.Router=e.BuildNavigationPlanStep=e.activationStrategy=e.RouterConfiguration=e.RedirectToRoute=e.Redirect=e.NavModel=e.NavigationInstruction=e.CommitChangesStep=e.Pipeline=e.pipelineStatus=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e._normalizeAbsolutePath=s,e._createRootedPath=a,e._resolveUrl=u,e.isNavigationCommand=h,e._buildNavigationPlan=f;var I=n(8),N=r(I),j=n(60),L=n(4),V=n(46),F=n(15),D=/^#?\//,B=/^([a-z][a-z0-9+\-.]*:)?\/\//i,q=e.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},U=e.Pipeline=function(){function t(){this.steps=[]}return t.prototype.addStep=function(t){var e=void 0;if("function"==typeof t)e=t;else{if("function"==typeof t.getSteps){for(var n=t.getSteps(),r=0,i=n.length;r<i;r++)this.addStep(n[r]);return this}e=t.run.bind(t)}return this.steps.push(e),this},t.prototype.run=function(t){function e(){if(n++,!(n<r.length))return e.complete();var i=r[n];try{return i(t,e)}catch(t){return e.reject(t)}}var n=-1,r=this.steps;return e.complete=c(e,q.completed),e.cancel=c(e,q.canceled),e.reject=c(e,q.rejected),e()},t}(),H=e.CommitChangesStep=function(){function t(){}return t.prototype.run=function(t,e){return t._commitChanges(!0).then(function(){return t._updateTitle(),e()})},t}(),z=e.NavigationInstruction=function(){function t(t){this.plan=null,this.options={},Object.assign(this,t),this.params=this.params||{},this.viewPortInstructions={};var e=[],n=this;do{var r=Object.assign({},n.params);n.config&&n.config.hasChildRouter&&delete r[n.getWildCardName()],e.unshift(r),n=n.parentInstruction}while(n);var i=Object.assign.apply(Object,[{},this.queryParams].concat(e));this.lifecycleArgs=[i,this.config,this]}return t.prototype.getAllInstructions=function(){var t=[this];for(var e in this.viewPortInstructions){var n=this.viewPortInstructions[e].childNavigationInstruction;n&&t.push.apply(t,n.getAllInstructions())}return t},t.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(t){return t.previousInstruction}).filter(function(t){return t})},t.prototype.addViewPortInstruction=function(t,e,n,r){var i=this.viewPortInstructions[t]={name:t,strategy:e,moduleId:n,component:r,childRouter:r.childRouter,lifecycleArgs:this.lifecycleArgs.slice()};return i},t.prototype.getWildCardName=function(){var t=this.config.route.lastIndexOf("*");return this.config.route.substr(t+1)},t.prototype.getWildcardPath=function(){var t=this.getWildCardName(),e=this.params[t]||"";return this.queryString&&(e+="?"+this.queryString),e},t.prototype.getBaseUrl=function(){if(!this.params)return this.fragment;var t=this.getWildCardName(),e=this.params[t]||"";return e?(e=encodeURI(e),this.fragment.substr(0,this.fragment.lastIndexOf(e))):this.fragment},t.prototype._commitChanges=function(t){var e=this,n=this.router;n.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,n._refreshBaseUrl(),n.refreshNavigation();var r=[],i=[],o=function(o){var s=e.viewPortInstructions[o],a=n.viewPorts[o];if(!a)throw new Error("There was no router-view found in the view for "+s.moduleId+".");s.strategy===X.replace?(t&&i.push({viewPort:a,viewPortInstruction:s}),r.push(a.process(s,t).then(function(t){if(s.childNavigationInstruction)return s.childNavigationInstruction._commitChanges()}))):s.childNavigationInstruction&&r.push(s.childNavigationInstruction._commitChanges(t))};for(var s in this.viewPortInstructions)o(s);return Promise.all(r).then(function(){return i.forEach(function(t){return t.viewPort.swap(t.viewPortInstruction)}),null}).then(function(){return l(e)})},t.prototype._updateTitle=function(){var t=this._buildTitle();t&&this.router.history.setTitle(t)},t.prototype._buildTitle=function(){var t=arguments.length<=0||void 0===arguments[0]?" | ":arguments[0],e="",n=[];this.config.navModel.title&&(e=this.router.transformTitle(this.config.navModel.title));for(var r in this.viewPortInstructions){var i=this.viewPortInstructions[r];if(i.childNavigationInstruction){var o=i.childNavigationInstruction._buildTitle(t);o&&n.push(o)}}return n.length&&(e=n.join(t)+(e?t:"")+e),this.router.title&&(e+=(e?t:"")+this.router.transformTitle(this.router.title)),e},t}(),W=e.NavModel=function(){function t(t,e){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=t,this.relativeHref=e}return t.prototype.setTitle=function(t){this.title=t,this.isActive&&this.router.updateTitle()},t}(),K=e.Redirect=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.url=t,this.options=Object.assign({trigger:!0,replace:!0},e),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){var e=this.options.useAppRouter?t:this.router||t;e.navigate(this.url,this.options)},t}(),G=(e.RedirectToRoute=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.route=t,this.params=e,this.options=Object.assign({trigger:!0,replace:!0},n),this.shouldContinueProcessing=!1}return t.prototype.setRouter=function(t){this.router=t},t.prototype.navigate=function(t){var e=this.options.useAppRouter?t:this.router||t;e.navigateToRoute(this.route,this.params,this.options)},t}(),e.RouterConfiguration=function(){function t(){this.instructions=[],this.options={},this.pipelineSteps=[]}return t.prototype.addPipelineStep=function(t,e){return this.pipelineSteps.push({name:t,step:e}),this},t.prototype.addAuthorizeStep=function(t){return this.addPipelineStep("authorize",t)},t.prototype.addPreActivateStep=function(t){return this.addPipelineStep("preActivate",t)},t.prototype.addPreRenderStep=function(t){return this.addPipelineStep("preRender",t)},t.prototype.addPostRenderStep=function(t){return this.addPipelineStep("postRender",t)},t.prototype.fallbackRoute=function(t){return this._fallbackRoute=t,this},t.prototype.map=function(t){return Array.isArray(t)?(t.forEach(this.map.bind(this)),this):this.mapRoute(t)},t.prototype.mapRoute=function(t){return this.instructions.push(function(e){var n=[];if(Array.isArray(t.route))for(var r=0,i=t.route.length;r<i;++r){var o=Object.assign({},t);o.route=t.route[r],n.push(o)}else n.push(Object.assign({},t));for(var s=void 0,a=0,u=n.length;a<u;++a){var c=n[a];c.settings=c.settings||{},s||(s=e.createNavModel(c)),e.addRoute(c,s)}}),this},t.prototype.mapUnknownRoutes=function(t){return this.unknownRouteConfig=t,this},t.prototype.exportToRouter=function(t){for(var e=this.instructions,n=0,r=e.length;n<r;++n)e[n](t);this.title&&(t.title=this.title),this.unknownRouteConfig&&t.handleUnknownRoutes(this.unknownRouteConfig),this._fallbackRoute&&(t.fallbackRoute=this._fallbackRoute),t.options=this.options;var i=this.pipelineSteps;if(i.length){if(!t.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var o=t.pipelineProvider,s=0,a=i.length;s<a;++s){var u=i[s],c=u.name,l=u.step;o.addStep(c,l)}}},t}()),X=e.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},Q=e.BuildNavigationPlanStep=function(){function t(){}return t.prototype.run=function(t,e){return f(t).then(function(n){return t.plan=n,e()}).catch(e.cancel)},t}(),$=e.Router=function(){function t(t,e){var n=this;this.parent=null,this.options={},this.transformTitle=function(t){return n.parent?n.parent.transformTitle(t):t},this.container=t,this.history=e,this.reset()}return t.prototype.reset=function(){var t=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new j.RouteRecognizer,this._childRecognizer=new j.RouteRecognizer,this._configuredPromise=new Promise(function(e){t._resolveConfiguredPromise=e})},t.prototype.registerViewPort=function(t,e){e=e||"default",this.viewPorts[e]=t},t.prototype.ensureConfigured=function(){return this._configuredPromise},t.prototype.configure=function(t){var e=this;this.isConfigured=!0;var n=t,r=void 0;return"function"==typeof t&&(r=new G,n=t(r)),Promise.resolve(n).then(function(t){t&&t.exportToRouter&&(r=t),r.exportToRouter(e),e.isConfigured=!0,e._resolveConfiguredPromise()})},t.prototype.navigate=function(t,e){return!this.isConfigured&&this.parent?this.parent.navigate(t,e):this.history.navigate(u(t,this.baseUrl,this.history._hasPushState),e)},t.prototype.navigateToRoute=function(t,e,n){var r=this.generate(t,e);return this.navigate(r,n)},t.prototype.navigateBack=function(){this.history.navigateBack()},t.prototype.createChild=function(e){var n=new t(e||this.container.createChild(),this.history);return n.parent=this,n},t.prototype.generate=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=this._recognizer.hasRoute(t);if((!this.isConfigured||!r)&&this.parent)return this.parent.generate(t,e);if(!r)throw new Error("A route with name '"+t+"' could not be found. Check that `name: '"+t+"'` was specified in the route's config.");var i=this._recognizer.generate(t,e),o=a(i,this.baseUrl,this.history._hasPushState,n.absolute);return n.absolute?""+this.history.getAbsoluteRoot()+o:o},t.prototype.createNavModel=function(t){var e=new W(this,"href"in t?t.href:t.route);return e.title=t.title,e.order=t.nav,e.href=t.href,e.settings=t.settings,e.config=t,e},t.prototype.addRoute=function(t,e){v(t,this.routes),"viewPorts"in t||t.navigationStrategy||(t.viewPorts={default:{moduleId:t.moduleId,view:t.view}}),e||(e=this.createNavModel(t)),this.routes.push(t);var n=t.route;"/"===n.charAt(0)&&(n=n.substr(1));var r=t.caseSensitive===!0,i=this._recognizer.add({path:n,handler:t,caseSensitive:r});if(n){var o=t.settings;delete t.settings;var s=JSON.parse(JSON.stringify(t));t.settings=o,s.route=n+"/*childRoute",s.hasChildRouter=!0,this._childRecognizer.add({path:s.route,handler:s,caseSensitive:r}),s.navModel=e,s.settings=t.settings,s.navigationStrategy=t.navigationStrategy}if(t.navModel=e,(e.order||0===e.order)&&this.navigation.indexOf(e)===-1){if(!e.href&&""!==e.href&&(i.types.dynamics||i.types.stars))throw new Error('Invalid route config for "'+t.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof e.order&&(e.order=++this._fallbackOrder),this.navigation.push(e),this.navigation=this.navigation.sort(function(t,e){return t.order-e.order})}},t.prototype.hasRoute=function(t){return!!(this._recognizer.hasRoute(t)||this.parent&&this.parent.hasRoute(t))},t.prototype.hasOwnRoute=function(t){return this._recognizer.hasRoute(t)},t.prototype.handleUnknownRoutes=function(t){var e=this;if(!t)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(n){return e._createRouteConfig(t,n).then(function(t){return n.config=t,n})}},t.prototype.updateTitle=function(){return this.parent?this.parent.updateTitle():void(this.currentInstruction&&this.currentInstruction._updateTitle())},t.prototype.refreshNavigation=function(){for(var t=this.navigation,e=0,n=t.length;e<n;e++){var r=t[e];r.config.href?r.href=s(r.config.href,this.history._hasPushState):r.href=a(r.relativeHref,this.baseUrl,this.history._hasPushState)}},t.prototype._refreshBaseUrl=function(){if(this.parent){var t=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+t}},t.prototype._createNavigationInstruction=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=t,r="",i=t.indexOf("?");i!==-1&&(n=t.substr(0,i),r=t.substr(i+1));var o=this._recognizer.recognize(t);o&&o.length||(o=this._childRecognizer.recognize(t));var s={fragment:n,queryString:r,config:null,parentInstruction:e,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(o&&o.length){var a=o[0],u=new z(Object.assign({},s,{params:a.params,queryParams:a.queryParams||o.queryParams,config:a.config||a.handler}));return"function"==typeof a.handler?g(u,a.handler,a):a.handler&&"function"==typeof a.handler.navigationStrategy?g(u,a.handler.navigationStrategy,a.handler):Promise.resolve(u)}if(this.catchAllHandler){var c=new z(Object.assign({},s,{params:{path:n},queryParams:o&&o.queryParams,config:null}));return g(c,this.catchAllHandler)}return Promise.reject(new Error("Route not found: "+t))},t.prototype._createRouteConfig=function(t,e){var n=this;return Promise.resolve(t).then(function(t){return"string"==typeof t?{moduleId:t}:"function"==typeof t?t(e):t}).then(function(t){return"string"==typeof t?{moduleId:t}:t}).then(function(t){return t.route=e.params.path,v(t,n.routes),t.navModel||(t.navModel=n.createNavModel(t)),t})},M(t,[{key:"isRoot",get:function(){return!this.parent}}]),t}(),J=e.CanDeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return y(t.plan,"canDeactivate",e)},t}(),Y=e.CanActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return w(t,"canActivate",e)},t}(),Z=e.DeactivatePreviousStep=function(){function t(){}return t.prototype.run=function(t,e){return y(t.plan,"deactivate",e,!0)},t}(),tt=e.ActivateNextStep=function(){function t(){}return t.prototype.run=function(t,e){return w(t,"activate",e,!0)},t}(),et=function(){function t(t){this._subscribed=!0,this._subscription=t(this),this._subscribed||this.unsubscribe()}return t.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},M(t,[{key:"subscribed",get:function(){return this._subscribed}}]),t}(),nt=e.RouteLoader=function(){function t(){}return t.prototype.loadRoute=function(t,e,n){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},t}(),rt=e.LoadRouteStep=function(){function t(t){this.routeLoader=t}return t.inject=function(){return[nt]},t.prototype.run=function(t,e){return C(this.routeLoader,t).then(e).catch(e.cancel)},t}(),it=function(){function t(t,e,n){this.steps=[],this.container=t,this.slotName=e,this.slotAlias=n}return t.prototype.getSteps=function(){var t=this;return this.steps.map(function(e){return t.container.get(e)})},t}(),ot=e.PipelineProvider=function(){function t(t){this.container=t,this.steps=[Q,J,rt,this._createPipelineSlot("authorize"),Y,this._createPipelineSlot("preActivate","modelbind"),Z,tt,this._createPipelineSlot("preRender","precommit"),H,this._createPipelineSlot("postRender","postcomplete")]}return t.inject=function(){return[L.Container]},t.prototype.createPipeline=function(){var t=this,e=new U;return this.steps.forEach(function(n){return e.addStep(t.container.get(n))}),e},t.prototype._findStep=function(t){return this.steps.find(function(e){return e.slotName===t||e.slotAlias===t})},t.prototype.addStep=function(t,e){var n=this._findStep(t);if(!n)throw new Error("Invalid pipeline slot name: "+t+".");n.steps.includes(e)||n.steps.push(e)},t.prototype.removeStep=function(t,e){var n=this._findStep(t);n&&n.steps.splice(n.steps.indexOf(e),1)},t.prototype._clearSteps=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this._findStep(t);e&&(e.steps=[])},t.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},t.prototype._createPipelineSlot=function(t,e){return new it(this.container,t,e)},t}(),st=N.getLogger("app-router");e.AppRouter=function(t){function e(e,n,r,o){var s=i(this,t.call(this,e,n));return s.pipelineProvider=r,s.events=o,s}return o(e,t),e.inject=function(){return[L.Container,V.History,ot,F.EventAggregator]},e.prototype.reset=function(){t.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},e.prototype.loadUrl=function(t){var e=this;return this._createNavigationInstruction(t).then(function(t){return e._queueInstruction(t)}).catch(function(t){st.error(t),R(e)})},e.prototype.registerViewPort=function(e,n){var r=this;if(t.prototype.registerViewPort.call(this,e,n),this.isActive)this._dequeueInstruction();else{var i=function(){var t=r._findViewModel(e);if("configureRouter"in t){if(!r.isConfigured){var n=function(){var e=r._resolveConfiguredPromise;return r._resolveConfiguredPromise=function(){},{v:{v:r.configure(function(e){return t.configureRouter(e,r)}).then(function(){r.activate(),e()})}}}();if("object"===("undefined"==typeof n?"undefined":P(n)))return n.v}}else r.activate()}();if("object"===("undefined"==typeof i?"undefined":P(i)))return i.v}return Promise.resolve()},e.prototype.activate=function(t){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,t),this.history.activate(this.options),this._dequeueInstruction())},e.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},e.prototype._queueInstruction=function(t){var e=this;return new Promise(function(n){t.resolve=n,e._queue.unshift(t),e._dequeueInstruction()})},e.prototype._dequeueInstruction=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return Promise.resolve().then(function(){if(!t.isNavigating||e){var n=t._queue.shift();if(t._queue.length=0,n){if(t.isNavigating=!0,n.previousInstruction=t.currentInstruction,e){if(e===t.maxInstructionCount-1)return st.error(e+1+" navigation instructions have been attempted without success. Restoring last known good location."),R(t),t._dequeueInstruction(e+1);if(e>t.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else t.events.publish("router:navigation:processing",{instruction:n});var r=t.pipelineProvider.createPipeline();return r.run(n).then(function(r){return O(n,r,e,t)}).catch(function(t){return{output:t instanceof Error?t:new Error(t)}}).then(function(r){return _(n,r,!!e,t)})}}})},e.prototype._findViewModel=function(t){if(this.container.viewModel)return this.container.viewModel;if(t.container)for(var e=t.container;e;){if(e.viewModel)return this.container.viewModel=e.viewModel,e.viewModel;e=e.parent}},e}($)},,function(t,e,n){"use strict";function r(t){return t&&("function"==typeof t||"object"===("undefined"==typeof t?"undefined":d(t)))}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t,n,r){var i=e.length;if(n){for(r=r||{value:t[n],writable:!0,configurable:!0,enumerable:!0};i--;)r=e[i](t,n,r)||r;Object.defineProperty(t,n,r)}else for(;i--;)t=e[i](t)||t;return t};return r.on=r,r}function o(t,e,n){function r(n,r,i){var o=n.constructor.name+"#"+r,s=e?{}:t||{},a="DEPRECATION - "+o;if("function"!=typeof i.value)throw new SyntaxError("Only methods can be marked as deprecated.");return s.message&&(a+=" - "+s.message),p({},i,{value:function(){if(s.error)throw new Error(a);return console.warn(a),i.value.apply(this,arguments)}})}return e?r(t,e,n):r}function s(t){function e(e){var r=function(e){for(var r="function"==typeof e?e.prototype:e,i=n.length;i--;){var o=n[i];Object.defineProperty(r,o,{value:t[o],writable:!0})}};return e?r(e):r}var n=Object.keys(t);return e}function a(){return!0}function u(){}function c(t){return void 0===t?t={}:"function"==typeof t&&(t={validate:t}),t.validate||(t.validate=a),t.compose||(t.compose=u),t}function l(t){return function(e){var n=t(e);return n===!0}}function h(t,e){return function(n){var r=e(n);if(r!==!0)throw new Error(r||t+" was not correctly implemented.")}}function f(t,e){e=c(e);var n=function n(r){var i="function"==typeof r?r.prototype:r;e.compose(i),n.assert(i),Object.defineProperty(i,"protocol:"+t,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return n.validate=l(e.validate),n.assert=h(t,e.validate),n}Object.defineProperty(e,"__esModule",{value:!0}),e.Origin=e.metadata=void 0;var p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.decorators=i,e.deprecated=o,e.mixin=s,e.protocol=f;var v=n(1),g=e.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(t,e,n){if(r(e)){var i=g.getOwn(t,e,n);return void 0===i?g.get(t,Object.getPrototypeOf(e),n):i}},getOwn:function(t,e,n){if(r(e))return Reflect.getOwnMetadata(t,e,n)},define:function(t,e,n,r){Reflect.defineMetadata(t,e,n,r)},getOrCreateOwn:function(t,e,n,r){var i=g.getOwn(t,n,r);return void 0===i&&(i=new e,Reflect.defineMetadata(t,i,n,r)),i}},y=new Map,m=Object.freeze({moduleId:void 0,moduleMember:void 0});e.Origin=function(){function t(t,e){this.moduleId=t,this.moduleMember=e}return t.get=function(e){var n=y.get(e);return void 0===n&&v.PLATFORM.eachModule(function(r,i){if("object"===("undefined"==typeof i?"undefined":d(i)))for(var o in i){var s=i[o];if(s===e)return y.set(e,n=new t(r,o)),!0}return i===e&&(y.set(e,n=new t(r,"default")),!0)}),n||m},t.set=function(t,e){y.set(t,e)},t}();f.create=function(t,e){e=c(e);var n="protocol:"+t,r=function(n){var r=f(t,e);return n?r(n):r};return r.decorates=function(t){return t[n]===!0},r.validate=l(e.validate),r.assert=h(t,e.validate),r}},function(t,e,n){"use strict";function r(t,e,n){var r=g.length,i=void 0;for(n=y.call(n),n.unshift(t);r--;)i=g[r],i[e].apply(i,n)}function i(){this.level<4||r(this,"debug",arguments)}function o(){this.level<3||r(this,"info",arguments)}function s(){this.level<2||r(this,"warn",arguments)}function a(){this.level<1||r(this,"error",arguments)}function u(t){t.debug=i,t.info=o,t.warn=s,t.error=a}function c(t){var e=new w(t,m);return e.setLevel(b),g.length&&u(e),e}function l(t){return v[t]||(v[t]=c(t))}function h(t){if(g.push(t),1===g.length)for(var e in v)u(v[e])}function f(t){b=t;for(var e in v)v[e].setLevel(t)}function p(){return b}Object.defineProperty(e,"__esModule",{value:!0}),e.getLogger=l,e.addAppender=h,e.setLevel=f,e.getLevel=p;var d=e.logLevel={none:0,error:1,warn:2,info:3,debug:4},v={},g=[],y=Array.prototype.slice,m={},b=d.none,w=e.Logger=function(){function t(t,e){if(this.level=d.none,e!==m)throw new Error('Cannot instantiate "Logger". Use "getLogger" instead.');this.id=t}return t.prototype.debug=function(t){},t.prototype.info=function(t){},t.prototype.warn=function(t){},t.prototype.error=function(t){},t.prototype.setLevel=function(t){this.level=t},t}()},function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;++e){var n=t[e];if("."===n)t.splice(e,1),e-=1;else if(".."===n){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}}function i(t,e){var n=e&&e.split("/"),i=t.trim().split("/");if("."===i[0].charAt(0)&&n){var o=n.slice(0,n.length-1);i.unshift.apply(i,o)}return r(i),i.join("/")}function o(t,e){if(!t)return e;if(!e)return t;var n=t.match(/^([^\/]*?:)\//),r=n&&n.length>0?n[1]:"";t=t.substr(r.length);var i=void 0;i=0===t.indexOf("///")&&"file:"===r?"///":0===t.indexOf("//")?"//":0===t.indexOf("/")?"/":"";for(var o="/"===e.slice(-1)?"/":"",s=t.split("/"),a=e.split("/"),u=[],c=0,l=s.length;c<l;++c)if(".."===s[c])u.pop();else{if("."===s[c]||""===s[c])continue;u.push(s[c])}for(var h=0,f=a.length;h<f;++h)if(".."===a[h])u.pop();else{if("."===a[h]||""===a[h])continue;u.push(a[h])}return r+i+u.join("/")+o}function s(t,e,n){var r=[];if(null===e||void 0===e)return r;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)if(n)r.push(p(t)+"="+f(e[i]));else{var a=t+"["+("object"===h(e[i])&&null!==e[i]?i:"")+"]";r=r.concat(s(a,e[i]))}else if("object"!==("undefined"==typeof e?"undefined":h(e))||n)r.push(p(t)+"="+f(e));else for(var u in e)r=r.concat(s(t+"["+u+"]",e[u]));return r}function a(t,e){for(var n=[],r=Object.keys(t||{}).sort(),i=0,o=r.length;i<o;i++){var a=r[i];n=n.concat(s(a,t[a],e))}return 0===n.length?"":n.join("&")}function u(t,e){return Array.isArray(t)?(t.push(e),t):void 0!==t?[t,e]:e}function c(t,e,n){for(var r=t,i=e.length-1,o=0;o<=i;o++){var s=""===e[o]?r.length:e[o];if(o<i){var a=r[s]&&"object"!==h(r[s])?[r[s]]:r[s];r=r[s]=a||(isNaN(e[o+1])?{}:[])}else r=r[s]=n}}function l(t){var e={};if(!t||"string"!=typeof t)return e;var n=t;"?"===n.charAt(0)&&(n=n.substr(1));for(var r=n.replace(/\+/g," ").split("&"),i=0;i<r.length;i++){var o=r[i].split("="),s=decodeURIComponent(o[0]);if(s){var a=s.split("]["),l=a.length-1;if(/\[/.test(a[0])&&/\]$/.test(a[l])?(a[l]=a[l].replace(/\]$/,""),a=a.shift().split("[").concat(a),l=a.length-1):l=0,o.length>=2){var h=o[1]?decodeURIComponent(o[1]):"";l?c(e,a,h):e[s]=u(e[s],h)}else e[s]=!0}}return e}Object.defineProperty(e,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.relativeToFile=i,e.join=o,e.buildQueryString=a,e.parseQueryString=l;var f=encodeURIComponent,p=function(t){return f(t).replace("%24","$")}},,function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t,e){var n=t.length;for(e>0&&(e-=1);e<n;++e)o(t[e].overrideContext,e,n)}function i(t,e,n,r,i){var s={},a=(0,h.createOverrideContext)(s,t.scope.overrideContext);return"undefined"!=typeof i?(s[t.key]=i,s[t.value]=e):s[t.local]=e,o(a,n,r),a}function o(t,e,n){var r=0===e,i=e===n-1,o=e%2===0;t.$index=e,t.$first=r,t.$last=i,t.$middle=!(r||i),t.$odd=!o,t.$even=o}function s(t,e){return t.behaviorInstructions.filter(function(t){return t.originalAttrName===e})[0].attributes.items.sourceExpression}function a(t){for(var e=!1;t instanceof h.BindingBehavior;)t=t.expression;for(;t instanceof h.ValueConverter;)t=t.expression,e=!0;return e?t:null}function u(t){for(;t instanceof h.BindingBehavior;){if("oneTime"===t.name)return!0;t=t.expression}return!1}function c(t){t.call&&t.mode===f?t.call(h.sourceContext):t.updateOneTimeBindings&&t.updateOneTimeBindings()}function l(t,e,n,r){if(!n)return t.indexOf(e);for(var i=t.length,o=r||0;o<i;o++)if(n(t[o],e))return o;return-1}Object.defineProperty(e,"__esModule",{value:!0}),e.updateOverrideContexts=r,e.createFullOverrideContext=i,e.updateOverrideContext=o,e.getItemsSourceExpression=s,e.unwrapExpression=a,e.isOneTime=u,e.updateOneTimeBinding=c,e.indexOf=l;var h=n(3),f=h.bindingMode.oneTime},function(t,e,n){"use strict";(function(t){function r(t){var e=1,n=s.DOM.createMutationObserver(t),r=s.DOM.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}function o(e,n){"onError"in n?n.onError(e):a?t(function(){throw e}):setTimeout(function(){throw e},0)}Object.defineProperty(e,"__esModule",{value:!0}),e.TaskQueue=void 0;var s=n(1),a="function"==typeof t;e.TaskQueue=function(){function t(){var t=this;this.flushing=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],s.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=r(function(){return t.flushMicroTaskQueue()}):this.requestFlushMicroTaskQueue=i(function(){return t.flushMicroTaskQueue()}),this.requestFlushTaskQueue=i(function(){return t.flushTaskQueue()})}return t.prototype.queueMicroTask=function(t){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.microTaskQueue.push(t)},t.prototype.queueTask=function(t){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.taskQueue.push(t)},t.prototype.flushTaskQueue=function(){var t=this.taskQueue,e=0,n=void 0;this.taskQueue=[];try{for(this.flushing=!0;e<t.length;)n=t[e],n.call(),e++}catch(t){o(t,n)}finally{this.flushing=!1}},t.prototype.flushMicroTaskQueue=function(){var t=this.microTaskQueue,e=this.microTaskQueueCapacity,n=0,r=void 0;try{for(this.flushing=!0;n<t.length;)if(r=t[n],r.call(),n++,n>e){for(var i=0,s=t.length-n;i<s;i++)t[i]=t[i+n];t.length-=n,n=0}}catch(t){o(t,r)}finally{this.flushing=!1}t.length=0},t}()}).call(e,n(103).setImmediate)},function(t,e,n){(function(e){var n=function(){/*! @license Firebase v3.6.8
    Build: 3.6.8-rc.1
    Terms: https://firebase.google.com/terms/ */
var t=null;return function(){function n(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function r(t,e,n,r){var i,o=arguments.length,s=3>o?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if(i=h.Reflect,"object"==typeof i&&"function"==typeof i.decorate)s=i.decorate(t,e,n,r);else for(var a=t.length-1;0<=a;a--)(i=t[a])&&(s=(3>o?i(s):3<o?i(e,n,s):i(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s}function i(t,e){var n=h.Reflect;if("object"==typeof n&&"function"==typeof n.metadata)return n.metadata(t,e)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=o(t[n],e[n]));return t}function s(t,e){return t=new gt(t,e),t.subscribe.bind(t)}function a(t){if("object"!=typeof t||null===t)return!1;var e;e=["next","error","complete"],y();var n=e[Symbol.iterator];for(e=n?n.call(e):m(e),n=e.next();!n.done;n=e.next())if(n=n.value,n in t&&"function"==typeof t[n])return!0;return!1}function u(){}function c(){function t(t){t=t||"[DEFAULT]";var e=r[t];return void 0===e&&l("no-app",{name:t}),e}function e(t,e){Object.keys(i).forEach(function(r){r=n(t,r),null!==r&&a[r]&&a[r](e,t)})}function n(t,e){if("serverAuth"===e)return null;var n=e;return t=t.options,"auth"===e&&(t.serviceAccount||t.credential)&&(n="serverAuth","serverAuth"in i||l("sa-not-supported")),n}var r={},i={},a={},u={__esModule:!0,initializeApp:function(t,n){return void 0===n?n="[DEFAULT]":"string"==typeof n&&""!==n||l("bad-app-name",{name:n+""}),void 0!==r[n]&&l("duplicate-app",{name:n}),t=new St(t,n,u),r[n]=t,e(t,"create"),void 0!=t.INTERNAL&&void 0!=t.INTERNAL.getToken||o(t,{INTERNAL:{getToken:function(){return kt.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}}),t},app:t,apps:null,Promise:kt,SDK_VERSION:"0.0.0",INTERNAL:{registerService:function(e,n,r,s){return i[e]&&l("duplicate-service",{name:e}),i[e]=n,s&&(a[e]=s),n=function(n){return void 0===n&&(n=t()),n[e]()},void 0!==r&&o(n,r),u[e]=n},createFirebaseNamespace:c,extendNamespace:function(t){o(u,t)},createSubscribe:s,ErrorFactory:xt,removeApp:function(t){e(r[t],"delete"),delete r[t]},factories:i,useAsService:n,Promise:Z,deepExtend:o}};return u.default=u,Object.defineProperty(u,"apps",{get:function(){return Object.keys(r).map(function(t){return r[t]})}}),t.App=St,u}function l(t,e){throw At.create(t,e)}var h,f="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this,d=function(){d=function(){},p.Symbol||(p.Symbol=g)},v=0,g=function(t){return"jscomp_symbol_"+(t||"")+v++},y=function(){d();var t=p.Symbol.iterator;t||(t=p.Symbol.iterator=p.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&f(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return m(this)}}),y=function(){}},m=function(t){var e=0;return b(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},b=function(t){return y(),t={next:t},t[p.Symbol.iterator]=function(){return this},t},w=this,x=function(){},k=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},S=function(t){return"function"==k(t)},C=function(t,e,n){return t.call.apply(t.bind,arguments)},A=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:A,E.apply(null,arguments)},T=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},O=function(t,e){function n(){}n.prototype=e.prototype,t.ba=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.aa=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}};h="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var _=function(t,e){return function(n,r){e(n,r,t)}},R=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e)).next())})};"undefined"!=typeof h.M&&h.M||(h.__extends=n,h.__decorate=r,h.__metadata=i,h.__param=_,h.__awaiter=R);var P=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};O(P,Error),P.prototype.name="CustomError";var M=function(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},I=function(t,e){e.unshift(t),P.call(this,M.apply(null,e)),e.shift()};O(I,P),I.prototype.name="AssertionError";var N=function(t,e,n,r){var i="Assertion failed";if(n)var i=i+(": "+n),o=r;else t&&(i+=": "+t,o=e);throw new I(""+i,o||[])},j=function(t,e,n){t||N("",null,e,Array.prototype.slice.call(arguments,2))},L=function(t,e,n){S(t)||N("Expected function but got %s: %s.",[k(t),t],e,Array.prototype.slice.call(arguments,2))},V=function(t,e,n){this.T=n,this.N=t,this.U=e,this.s=0,this.o=null};V.prototype.get=function(){var t;return 0<this.s?(this.s--,t=this.o,this.o=t.next,t.next=null):t=this.N(),t},V.prototype.put=function(t){this.U(t),this.s<this.T&&(this.s++,t.next=this.o,this.o=t)};var F;t:{var D=w.navigator;if(D){var B=D.userAgent;if(B){F=B;break t}}F=""}var q,U=function(t){w.setTimeout(function(){throw t},0)},H=function(){var t=w.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==F.indexOf("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=E(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!=typeof t&&-1==F.indexOf("Trident")&&-1==F.indexOf("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.G;n.G=null,t()}},function(t){r.next={G:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){w.setTimeout(t,0)}},z=function(){this.v=this.f=null},W=new V(function(){return new K},function(t){t.reset()},100);z.prototype.add=function(t,e){var n=W.get();n.set(t,e),this.v?this.v.next=n:(j(!this.f),this.f=n),this.v=n},z.prototype.remove=function(){var t=null;return this.f&&(t=this.f,this.f=this.f.next,this.f||(this.v=null),t.next=null),t};var K=function(){this.next=this.scope=this.B=null};K.prototype.set=function(t,e){this.B=t,this.scope=e,this.next=null},K.prototype.reset=function(){this.next=this.scope=this.B=null};var G,X=function(t,e){G||Q(),$||(G(),$=!0),J.add(t,e)},Q=function(){if(-1!=String(w.Promise).indexOf("[native code]")){var t=w.Promise.resolve(void 0);G=function(){t.then(Y)}}else G=function(){var t=Y;!S(w.setImmediate)||w.Window&&w.Window.prototype&&-1==F.indexOf("Edge")&&w.Window.prototype.setImmediate==w.setImmediate?(q||(q=H()),q(t)):w.setImmediate(t)}},$=!1,J=new z,Y=function(){for(var t;t=J.remove();){try{t.B.call(t.scope)}catch(t){U(t)}W.put(t)}$=!1},Z=function(t,e){if(this.b=0,this.L=void 0,this.j=this.g=this.u=null,this.m=this.A=!1,t!=x)try{var n=this;t.call(e,function(t){st(n,2,t)},function(t){try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}st(n,3,t)})}catch(t){st(this,3,t)}},tt=function(){this.next=this.context=this.h=this.c=this.child=null,this.w=!1};tt.prototype.reset=function(){this.context=this.h=this.c=this.child=null,this.w=!1};var et=new V(function(){return new tt},function(t){t.reset()},100),nt=function(t,e,n){var r=et.get();return r.c=t,r.h=e,r.context=n,r},rt=function(t,e,n){at(t,e,n,null)||X(T(e,t))};Z.prototype.then=function(t,e,n){return null!=t&&L(t,"opt_onFulfilled should be a function."),null!=e&&L(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),ot(this,S(t)?t:null,S(e)?e:null,n)},Z.prototype.then=Z.prototype.then,Z.prototype.$goog_Thenable=!0,Z.prototype.X=function(t,e){return ot(this,null,t,e)};var it=function(t,e){t.g||2!=t.b&&3!=t.b||ct(t),j(null!=e.c),t.j?t.j.next=e:t.g=e,t.j=e},ot=function(t,e,n,r){var i=nt(null,null,null);return i.child=new Z(function(t,o){i.c=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.h=n?function(e){try{var i=n.call(r,e);t(i)}catch(t){o(t)}}:o}),i.child.u=t,it(t,i),i.child};Z.prototype.Y=function(t){j(1==this.b),this.b=0,st(this,2,t)},Z.prototype.Z=function(t){j(1==this.b),this.b=0,st(this,3,t)};var st=function(t,e,n){0==t.b&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.b=1,at(n,t.Y,t.Z,t)||(t.L=n,t.b=e,t.u=null,ct(t),3!=e||ft(t,n)))},at=function(t,e,n,r){if(t instanceof Z)return null!=e&&L(e,"opt_onFulfilled should be a function."),null!=n&&L(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),it(t,nt(e||x,n||null,r)),!0;var i;if(t)try{i=!!t.$goog_Thenable}catch(t){i=!1}else i=!1;if(i)return t.then(e,n,r),!0;if(i=typeof t,"object"==i&&null!=t||"function"==i)try{var o=t.then;if(S(o))return ut(t,o,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1},ut=function(t,e,n,r,i){var o=!1,s=function(t){o||(o=!0,n.call(i,t))},a=function(t){o||(o=!0,r.call(i,t))};try{e.call(t,s,a)}catch(t){a(t)}},ct=function(t){t.A||(t.A=!0,X(t.P,t))},lt=function(t){var e=null;return t.g&&(e=t.g,t.g=e.next,e.next=null),t.g||(t.j=null),null!=e&&j(null!=e.c),e};Z.prototype.P=function(){for(var t;t=lt(this);){var e=this.b,n=this.L;if(3==e&&t.h&&!t.w){var r;for(r=this;r&&r.m;r=r.u)r.m=!1}if(t.child)t.child.u=null,ht(t,e,n);else try{t.w?t.c.call(t.context):ht(t,e,n)}catch(t){pt.call(null,t)}et.put(t)}this.A=!1};var ht=function(t,e,n){2==e?t.c.call(t.context,n):t.h&&t.h.call(t.context,n)},ft=function(t,e){t.m=!0,X(function(){t.m&&pt.call(null,e)})},pt=U;Z.all=function(t){return new Z(function(e,n){var r=t.length,i=[];if(r)for(var o,s=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},u=0;u<t.length;u++)o=t[u],rt(o,T(s,u),a);else e(i)})},Z.resolve=function(t){if(t instanceof Z)return t;var e=new Z(x);return st(e,2,t),e},Z.reject=function(t){return new Z(function(e,n){n(t)})},Z.prototype.catch=Z.prototype.X;var dt=Z;"undefined"!=typeof Promise&&(dt=Promise);var vt=dt,gt=function(t,e){var n=this;this.a=[],this.K=0,this.task=vt.resolve(),this.l=!1,this.D=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})};gt.prototype.next=function(t){yt(this,function(e){e.next(t)})},gt.prototype.error=function(t){yt(this,function(e){e.error(t)}),this.close(t)},gt.prototype.complete=function(){yt(this,function(t){t.complete()}),this.close()},gt.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw Error("Missing Observer.");return r=a(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=u),void 0===r.error&&(r.error=u),void 0===r.complete&&(r.complete=u),t=this.$.bind(this,this.a.length),this.l&&this.task.then(function(){try{i.H?r.error(i.H):r.complete()}catch(t){}}),this.a.push(r),t},gt.prototype.$=function(t){void 0!==this.a&&void 0!==this.a[t]&&(delete this.a[t],--this.K,0===this.K&&void 0!==this.D&&this.D(this))};var yt=function(t,e){if(!t.l)for(var n=0;n<t.a.length;n++)mt(t,n,e)},mt=function(t,e,n){t.task.then(function(){if(void 0!==t.a&&void 0!==t.a[e])try{n(t.a[e])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})};gt.prototype.close=function(t){var e=this;this.l||(this.l=!0,void 0!==t&&(this.H=t),this.task.then(function(){e.a=void 0,e.D=void 0}))};var bt=Error.captureStackTrace,wt=function(t,e){if(this.code=t,this.message=e,bt)bt(this,xt.prototype.create);else{var n=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}};wt.prototype=Object.create(Error.prototype),wt.prototype.constructor=wt,wt.prototype.name="FirebaseError";var xt=function(t,e,n){this.V=t,this.W=e,this.O=n,this.pattern=/\{\$([^}]+)}/g};xt.prototype.create=function(t,e){void 0===e&&(e={});var n=this.O[t];t=this.V+"/"+t;var r,n=void 0===n?"Error":n.replace(this.pattern,function(t,n){return t=e[n],void 0!==t?t.toString():"<"+n+"?>"}),n=this.W+": "+n+" ("+t+").",n=new wt(t,n);for(r in e)e.hasOwnProperty(r)&&"_"!==r.slice(-1)&&(n[r]=e[r]);return n};var kt=dt,St=function(t,e,n){var r=this;this.I=n,this.J=!1,this.i={},this.C=e,this.F=o(void 0,t),t="serviceAccount"in this.F,("credential"in this.F||t)&&"undefined"!=typeof console&&console.log("The '"+(t?"serviceAccount":"credential")+"' property specified in the first argument to initializeApp() is deprecated and will be removed in the next major version. You should instead use the 'firebase-admin' package. See https://firebase.google.com/docs/admin/setup for details on how to get started."),Object.keys(n.INTERNAL.factories).forEach(function(t){var e=n.INTERNAL.useAsService(r,t);null!==e&&(e=r.S.bind(r,e),r[t]=e)})};St.prototype.delete=function(){var t=this;return new kt(function(e){Ct(t),e()}).then(function(){return t.I.INTERNAL.removeApp(t.C),kt.all(Object.keys(t.i).map(function(e){return t.i[e].INTERNAL.delete()}))}).then(function(){t.J=!0,t.i={}})},St.prototype.S=function(t){return Ct(this),void 0===this.i[t]&&(this.i[t]=this.I.INTERNAL.factories[t](this,this.R.bind(this))),this.i[t]},St.prototype.R=function(t){o(this,t)};var Ct=function(t){t.J&&l("app-deleted",{name:t.C})};p.Object.defineProperties(St.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return Ct(this),this.C}},options:{configurable:!0,enumerable:!0,get:function(){return Ct(this),this.F}}}),St.prototype.name&&St.prototype.options||St.prototype.delete||console.log("dc");var At=new xt("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain"});"undefined"!=typeof t&&(t=c())}.call(this),t.SDK_VERSION="3.6.8",t}.call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{});t.exports=n}).call(e,n(11))},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e,n){try{t(e,n)}catch(t){l.error(t)}}function o(t,e){try{t.handle(e)}catch(t){l.error(t)}}function s(t){var e=new f;return t.subscribeOnce=function(t,n){return e.subscribeOnce(t,n)},t.subscribe=function(t,n){return e.subscribe(t,n)},t.publish=function(t,n){e.publish(t,n)},e}function a(t){t.instance(f,s(t.aurelia))}Object.defineProperty(e,"__esModule",{value:!0}),e.EventAggregator=void 0,e.includeEventsIn=s,e.configure=a;var u=n(8),c=r(u),l=c.getLogger("event-aggregator"),h=function(){function t(t,e){this.messageType=t,this.callback=e}return t.prototype.handle=function(t){t instanceof this.messageType&&this.callback.call(null,t)},t}(),f=e.EventAggregator=function(){function t(){this.eventLookup={},this.messageHandlers=[]}return t.prototype.publish=function(t,e){var n=void 0,r=void 0;if(!t)throw new Error("Event was invalid.");if("string"==typeof t){if(n=this.eventLookup[t])for(n=n.slice(),r=n.length;r--;)i(n[r],e,t)}else for(n=this.messageHandlers.slice(),r=n.length;r--;)o(n[r],t)},t.prototype.subscribe=function(t,e){var n=void 0,r=void 0;if(!t)throw new Error("Event channel/type was invalid.");return"string"==typeof t?(n=e,r=this.eventLookup[t]||(this.eventLookup[t]=[])):(n=new h(t,e),r=this.messageHandlers),r.push(n),{dispose:function(){var t=r.indexOf(n);t!==-1&&r.splice(t,1)}}},t.prototype.subscribeOnce=function(t,e){var n=this.subscribe(t,function(t,r){return n.dispose(),e(t,r)});return n},t}()},function(t,e,n){var r,i;!function(o,s){r=s,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}(this,function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,r){var i;return i="translate3d"===c.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},i.transition="all "+n+"ms "+r,i}function r(t,e){var n="string"==typeof t?t:s(t);return n.indexOf(" "+e+" ")>=0}function i(t,e){var n=s(t),i=n+e;r(n,e)||(t.className=i.substring(1))}function o(t,e){var n,i=s(t);r(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function s(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var u={};u.version="0.2.0";var c=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(c[e]=n);return this},u.status=null,u.set=function(e){var r=u.isStarted();e=t(e,c.minimum,1),u.status=1===e?null:e;var i=u.render(!r),o=i.querySelector(c.barSelector),s=c.speed,a=c.easing;return i.offsetWidth,l(function(t){""===c.positionUsing&&(c.positionUsing=u.getPositioningCSS()),h(o,n(e,s,a)),1===e?(h(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){h(i,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){u.remove(),t()},s)},s)):setTimeout(t,s)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var t=function(){setTimeout(function(){u.status&&(u.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},u.done=function(t){return t||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var n=u.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),u.set(n)):u.start()},u.trickle=function(){return u.inc(Math.random()*c.trickleRate)},function(){var t=0,e=0;u.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&u.start(),t++,e++,n.always(function(){e--,0===e?(t=0,u.done()):u.set((t-e)/t)}),this):this}}(),u.render=function(t){if(u.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=c.template;var r,o=n.querySelector(c.barSelector),s=t?"-100":e(u.status||0),l=document.querySelector(c.parent);return h(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),c.showSpinner||(r=n.querySelector(c.spinnerSelector),r&&a(r)),l!=document.body&&i(l,"nprogress-custom-parent"),l.appendChild(n),n},u.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(c.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&a(t)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var l=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),h=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,r=i.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if(n=i[r]+o,n in e)return n;return t}function n(n){return n=t(n),o[n]||(o[n]=e(n))}function r(t,e,r){e=n(e),t.style[e]=r}var i=["Webkit","O","Moz","ms"],o={};return function(t,e){var n,i,o=arguments;if(2==o.length)for(n in e)i=e[n],void 0!==i&&e.hasOwnProperty(n)&&r(t,n,i);else r(t,o[1],o[2])}}();return u})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=e.TemplateRegistryEntry=e.TemplateDependency=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(9),o=n(7),s=e.TemplateDependency=function(t,e){this.src=t,this.name=e},a=e.TemplateRegistryEntry=function(){function t(t){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=t,this.onReady=null,this._template=null,this._factory=null}return t.prototype.addDependency=function(t,e){var n="string"==typeof t?(0,i.relativeToFile)(t,this.address):o.Origin.get(t).moduleId;this.dependencies.push(new s(n,e))},r(t,[{key:"template",get:function(){return this._template},set:function(t){var e=this.address,n=void 0,r=void 0,o=void 0,a=void 0;this._template=t,this.templateIsLoaded=!0,n=t.content.querySelectorAll("require"),a=this.dependencies=new Array(n.length);for(var u=0,c=n.length;u<c;++u){if(r=n[u],o=r.getAttribute("from"),!o)throw new Error("<require> element in "+e+' has no "from" attribute.');a[u]=new s((0,i.relativeToFile)(o,e),r.getAttribute("as")),r.parentNode&&r.parentNode.removeChild(r)}}},{key:"factory",get:function(){return this._factory},set:function(t){this._factory=t,this.factoryIsReady=!0}}]),t}();e.Loader=function(){function t(){this.templateRegistry={}}return t.prototype.map=function(t,e){throw new Error("Loaders must implement map(id, source).")},t.prototype.normalizeSync=function(t,e){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},t.prototype.normalize=function(t,e){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},t.prototype.loadModule=function(t){throw new Error("Loaders must implement loadModule(id).")},t.prototype.loadAllModules=function(t){throw new Error("Loader must implement loadAllModules(ids).")},t.prototype.loadTemplate=function(t){throw new Error("Loader must implement loadTemplate(url).")},t.prototype.loadText=function(t){throw new Error("Loader must implement loadText(url).")},t.prototype.applyPluginToUrl=function(t,e){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},t.prototype.addPlugin=function(t,e){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},t.prototype.getOrCreateTemplateRegistryEntry=function(t){return this.templateRegistry[t]||(this.templateRegistry[t]=new a(t))},t}()},function(t,e,n){var r=n(14);n(87),n(88),n(90),n(89),t.exports=r},function(t,e){!function(e,n){"object"==typeof t&&t.exports?t.exports=n(e):e.timeago=n(e)}("undefined"!=typeof window?window:this,function(){function t(t){return t instanceof Date?t:isNaN(t)?/^\d+$/.test(t)?new Date(e(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/T/," ").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)):new Date(e(t))}function e(t){return parseInt(t)}function n(t,n,r){n=h[n]?n:h[r]?r:"en";var i=0,o=t<0?1:0;for(t=Math.abs(t);t>=f[i]&&i<p;i++)t/=f[i];return t=e(t),i*=2,t>(0===i?9:1)&&(i+=1),h[n](t,i)[o].replace("%s",t)}function r(e,n){return n=n?t(n):new Date,(n-t(e))/1e3}function i(t){for(var e=1,n=0,r=Math.abs(t);t>=f[n]&&n<p;n++)t/=f[n],e*=f[n];return r%=e,r=r?e-r:e,Math.ceil(r)}function o(t){return t.dataset.timeago?t.dataset.timeago:t.getAttribute?t.getAttribute(d):t.attr?t.attr(d):void 0}function s(t,e){function s(o,u,c,l){var h=r(u,t);o.innerHTML=n(h,c,e),a["k"+l]=setTimeout(function(){s(o,u,c,l)},1e3*i(h))}var a={};return e||(e="en"),this.format=function(i,o){return n(r(i,t),o,e)},this.render=function(t,e){void 0===t.length&&(t=[t]);for(var n=0;n<t.length;n++)s(t[n],o(t[n]),e,++u)},this.cancel=function(){for(var t in a)clearTimeout(a[t]);a={}},this.setLocale=function(t){e=t},this}function a(t,e){return new s(t,e)}var u=0,c="second_minute_hour_day_week_month_year".split("_"),l="______".split("_"),h={en:function(t,e){if(0===e)return["just now","right now"];var n=c[parseInt(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},zh_CN:function(t,e){if(0===e)return["",""];var n=l[parseInt(e/2)];return[t+n+"",t+n+""]}},f=[60,60,24,7,365/7/12,12],p=6,d="datetime";return a.register=function(t,e){h[t]=e},a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttrBindingBehavior=void 0;var r=n(3);e.AttrBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){t.targetObserver=new r.DataAttributeObserver(t.target,t.targetProperty)},t.prototype.unbind=function(t,e){},t}()},function(t,e,n){"use strict";function r(){o.DOM.injectStyles(a)}function i(t){o.FEATURE.shadowDOM&&t&&!t.hasAureliaHideStyle&&(t.hasAureliaHideStyle=!0,o.DOM.injectStyles(a,t))}Object.defineProperty(e,"__esModule",{value:!0}),e.aureliaHideClassName=void 0,e.injectAureliaHideStyleAtHead=r,e.injectAureliaHideStyleAtBoundary=i;var o=n(1),s=e.aureliaHideClassName="aurelia-hide",a="."+s+" { display:none !important; }"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TwoWayBindingBehavior=e.OneWayBindingBehavior=e.OneTimeBindingBehavior=void 0;var r,i,o,s,a,u,c=n(3),l=n(7),h={bind:function(t,e,n){t.originalMode=t.mode,t.mode=this.mode},unbind:function(t,e){t.mode=t.originalMode,t.originalMode=null}};e.OneTimeBindingBehavior=(r=(0,l.mixin)(h),r(i=function(){this.mode=c.bindingMode.oneTime})||i),e.OneWayBindingBehavior=(o=(0,l.mixin)(h),o(s=function(){this.mode=c.bindingMode.oneWay})||s),e.TwoWayBindingBehavior=(a=(0,l.mixin)(h),a(u=function(){this.mode=c.bindingMode.twoWay})||u)},function(t,e,n){"use strict";function r(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function o(t,e){return Object.assign(e,{bindingContext:t.bindingContext,overrideContext:t.overrideContext,owningView:t.owningView,container:t.container,viewSlot:t.viewSlot,viewResources:t.viewResources,currentController:t.currentController,host:t.element})}function s(t,e){t.currentInstruction=null,t.compositionEngine.compose(e).then(function(e){t.currentController=e,t.currentViewModel=e?e.viewModel:null})}Object.defineProperty(e,"__esModule",{value:!0}),e.Compose=void 0;var a,u,c,l,h,f,p,d=n(4),v=n(13),g=n(2),y=n(1);e.Compose=(a=(0,g.customElement)("compose"),u=(0,d.inject)(y.DOM.Element,d.Container,g.CompositionEngine,g.ViewSlot,g.ViewResources,v.TaskQueue),a(c=(0,g.noView)(c=u((l=function(){function t(t,e,n,i,o,s){r(this,"model",h,this),r(this,"view",f,this),r(this,"viewModel",p,this),this.element=t,this.container=e,this.compositionEngine=n,this.viewSlot=i,this.viewResources=o,this.taskQueue=s,this.currentController=null,this.currentViewModel=null}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e,s(this,o(this,{view:this.view,viewModel:this.viewModel,model:this.model}))},t.prototype.unbind=function(t,e){this.bindingContext=null,this.overrideContext=null;var n=!0,r=!0;this.viewSlot.removeAll(n,r)},t.prototype.modelChanged=function(t,e){var n=this;return this.currentInstruction?void(this.currentInstruction.model=t):void this.taskQueue.queueMicroTask(function(){if(n.currentInstruction)return void(n.currentInstruction.model=t);var e=n.currentViewModel;e&&"function"==typeof e.activate&&e.activate(t)})},t.prototype.viewChanged=function(t,e){var n=this,r=o(this,{view:t,viewModel:this.currentViewModel||this.viewModel,model:this.model});return this.currentInstruction?void(this.currentInstruction=r):(this.currentInstruction=r,void this.taskQueue.queueMicroTask(function(){return s(n,n.currentInstruction)}))},t.prototype.viewModelChanged=function(t,e){var n=this,r=o(this,{viewModel:t,view:this.view,model:this.model});return this.currentInstruction?void(this.currentInstruction=r):(this.currentInstruction=r,void this.taskQueue.queueMicroTask(function(){return s(n,n.currentInstruction)}))},t}(),h=i(l.prototype,"model",[g.bindable],{enumerable:!0,initializer:null}),f=i(l.prototype,"view",[g.bindable],{enumerable:!0,initializer:null}),p=i(l.prototype,"viewModel",[g.bindable],{enumerable:!0,initializer:null}),c=l))||c)||c)||c)},function(t,e,n){"use strict";function r(t){var e=this,n=this.debounceState;return n.immediate?(n.immediate=!1,void this.debouncedMethod(t)):(clearTimeout(n.timeoutId),void(n.timeoutId=setTimeout(function(){return e.debouncedMethod(t)},n.delay)))}Object.defineProperty(e,"__esModule",{value:!0}),e.DebounceBindingBehavior=void 0;var i=n(3);e.DebounceBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o="updateTarget";t.callSource?o="callSource":t.updateSource&&t.mode===i.bindingMode.twoWay&&(o="updateSource"),t.debouncedMethod=t[o],t.debouncedMethod.originalName=o,t[o]=r,t.debounceState={delay:n,timeoutId:null,immediate:"updateTarget"===o}},t.prototype.unbind=function(t,e){var n=t.debouncedMethod.originalName;t[n]=t.debouncedMethod,t.debouncedMethod=null,clearTimeout(t.debounceState.timeoutId),t.debounceState=null},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Focus=void 0;var r,i,o,s=n(2),a=n(3),u=n(4),c=n(13),l=n(1);e.Focus=(r=(0,s.customAttribute)("focus",a.bindingMode.twoWay),i=(0,u.inject)(l.DOM.Element,c.TaskQueue),r(o=i(o=function(){function t(t,e){var n=this;this.element=t,this.taskQueue=e,this.isAttached=!1,this.needsApply=!1,this.focusListener=function(t){n.value=!0},this.blurListener=function(t){
l.DOM.activeElement!==n.element&&(n.value=!1)}}return t.prototype.valueChanged=function(t){this.isAttached?this._apply():this.needsApply=!0},t.prototype._apply=function(){var t=this;this.value?this.taskQueue.queueMicroTask(function(){t.value&&t.element.focus()}):this.element.blur()},t.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this.focusListener),this.element.addEventListener("blur",this.blurListener)},t.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this.focusListener),this.element.removeEventListener("blur",this.blurListener)},t}())||o)||o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hide=void 0;var r,i,o,s=n(4),a=n(2),u=n(1),c=n(21);e.Hide=(r=(0,a.customAttribute)("hide"),i=(0,s.inject)(u.DOM.Element,a.Animator,s.Optional.of(u.DOM.boundary,!0)),r(o=i(o=function(){function t(t,e,n){this.element=t,this.animator=e,this.domBoundary=n}return t.prototype.created=function(){(0,c.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.addClass(this.element,c.aureliaHideClassName):this.animator.removeClass(this.element,c.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||o)||o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.If=void 0;var r,i,o,s=n(2),a=n(4);e.If=(r=(0,s.customAttribute)("if"),i=(0,a.inject)(s.BoundViewFactory,s.ViewSlot),r(o=(0,s.templateController)(o=i(o=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}return t.prototype.bind=function(t,e){this.bindingContext=t,this.overrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=this;if(this.__queuedChanges)return void this.__queuedChanges.push(t);var n=this._runValueChanged(t);n instanceof Promise&&!function(){var t=e.__queuedChanges=[],r=function n(){if(!t.length)return void(e.__queuedChanges=void 0);var r=e._runValueChanged(t.shift())||Promise.resolve();r.then(n)};n.then(r)}()},t.prototype._runValueChanged=function(t){var e=this;if(!t){var n=void 0;return null!==this.view&&this.showing&&(n=this.viewSlot.remove(this.view),n instanceof Promise?n.then(function(){return e.view.unbind()}):this.view.unbind()),this.showing=!1,n}if(null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),!this.showing)return this.showing=!0,this.viewSlot.add(this.view)},t.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))},t}())||o)||o)||o)},function(t,e,n){"use strict";function r(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.Repeat=void 0;var a,u,c,l,h,f,p,d,v=n(4),g=n(3),y=n(2),m=n(55),b=n(12),w=n(48),x=n(47);e.Repeat=(a=(0,y.customAttribute)("repeat"),u=(0,v.inject)(y.BoundViewFactory,y.TargetInstruction,y.ViewSlot,y.ViewResources,g.ObserverLocator,m.RepeatStrategyLocator),a(c=(0,y.templateController)(c=u((l=function(t){function e(e,n,o,s,a,u){var c=i(this,t.call(this,{local:"item",viewsRequireLifecycle:(0,w.viewsRequireLifecycle)(e)}));return r(c,"items",h,c),r(c,"local",f,c),r(c,"key",p,c),r(c,"value",d,c),c.viewFactory=e,c.instruction=n,c.viewSlot=o,c.lookupFunctions=s.lookupFunctions,c.observerLocator=a,c.key="key",c.value="value",c.strategyLocator=u,c.ignoreMutation=!1,c.sourceExpression=(0,b.getItemsSourceExpression)(c.instruction,"repeat.for"),c.isOneTime=(0,b.isOneTime)(c.sourceExpression),c.viewsRequireLifecycle=(0,w.viewsRequireLifecycle)(e),c}return o(e,t),e.prototype.call=function(t,e){this[t](this.items,e)},e.prototype.bind=function(t,e){this.scope={bindingContext:t,overrideContext:e},this.matcherBinding=this._captureAndRemoveMatcherBinding(),this.itemsChanged()},e.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()},e.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},e.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var t=this.items;if(this.strategy=this.strategyLocator.getStrategy(t),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,t)}},e.prototype._getInnerCollection=function(){var t=(0,b.unwrapExpression)(this.sourceExpression);return t?t.evaluate(this.scope,null):null},e.prototype.handleCollectionMutated=function(t,e){this.collectionObserver&&this.strategy.instanceMutated(this,t,e)},e.prototype.handleInnerCollectionMutated=function(t,e){var n=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var r=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return n.ignoreMutation=!1}),r===this.items?this.itemsChanged():this.items=r}},e.prototype._observeInnerCollection=function(){var t=this._getInnerCollection(),e=this.strategyLocator.getStrategy(t);return!!e&&(this.collectionObserver=e.getCollectionObserver(this.observerLocator,t),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},e.prototype._observeCollection=function(){var t=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,t),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},e.prototype._captureAndRemoveMatcherBinding=function(){if(this.viewFactory.viewFactory)for(var t=this.viewFactory.viewFactory.instructions,e=Object.keys(t),n=0;n<e.length;n++){var r=t[e[n]].expressions;if(r)for(var i=0;n<r.length;n++)if("matcher"===r[i].targetProperty){var o=r[i];return r.splice(i,1),o}}},e.prototype.viewCount=function(){return this.viewSlot.children.length},e.prototype.views=function(){return this.viewSlot.children},e.prototype.view=function(t){return this.viewSlot.children[t]},e.prototype.matcher=function(){return this.matcherBinding?this.matcherBinding.sourceExpression.evaluate(this.scope,this.matcherBinding.lookupFunctions):null},e.prototype.addView=function(t,e){var n=this.viewFactory.create();n.bind(t,e),this.viewSlot.add(n)},e.prototype.insertView=function(t,e,n){var r=this.viewFactory.create();r.bind(e,n),this.viewSlot.insert(t,r)},e.prototype.moveView=function(t,e){this.viewSlot.move(t,e)},e.prototype.removeAllViews=function(t,e){return this.viewSlot.removeAll(t,e)},e.prototype.removeViews=function(t,e,n){return this.viewSlot.removeMany(t,e,n)},e.prototype.removeView=function(t,e,n){return this.viewSlot.removeAt(t,e,n)},e.prototype.updateBindings=function(t){for(var e=t.bindings.length;e--;)(0,b.updateOneTimeBinding)(t.bindings[e]);for(e=t.controllers.length;e--;)for(var n=t.controllers[e].boundProperties.length;n--;){var r=t.controllers[e].boundProperties[n].binding;(0,b.updateOneTimeBinding)(r)}},e}(x.AbstractRepeater),h=s(l.prototype,"items",[y.bindable],{enumerable:!0,initializer:null}),f=s(l.prototype,"local",[y.bindable],{enumerable:!0,initializer:null}),p=s(l.prototype,"key",[y.bindable],{enumerable:!0,initializer:null}),d=s(l.prototype,"value",[y.bindable],{enumerable:!0,initializer:null}),c=l))||c)||c)||c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Replaceable=void 0;var r,i,o,s=n(4),a=n(2);e.Replaceable=(r=(0,a.customAttribute)("replaceable"),i=(0,s.inject)(a.BoundViewFactory,a.ViewSlot),r(o=(0,a.templateController)(o=i(o=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.view=null}return t.prototype.bind=function(t,e){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(t,e)},t.prototype.unbind=function(){this.view.unbind()},t}())||o)||o)||o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SanitizeHTMLValueConverter=void 0;var r,i,o,s=n(3),a=n(4),u=n(51);e.SanitizeHTMLValueConverter=(r=(0,s.valueConverter)("sanitizeHTML"),i=(0,a.inject)(u.HTMLSanitizer),r(o=i(o=function(){function t(t){this.sanitizer=t}return t.prototype.toView=function(t){return null===t||void 0===t?null:this.sanitizer.sanitize(t)},t}())||o)||o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Show=void 0;var r,i,o,s=n(4),a=n(2),u=n(1),c=n(21);e.Show=(r=(0,a.customAttribute)("show"),i=(0,s.inject)(u.DOM.Element,a.Animator,s.Optional.of(u.DOM.boundary,!0)),r(o=i(o=function(){function t(t,e,n){this.element=t,this.animator=e,this.domBoundary=n}return t.prototype.created=function(){(0,c.injectAureliaHideStyleAtBoundary)(this.domBoundary)},t.prototype.valueChanged=function(t){t?this.animator.removeClass(this.element,c.aureliaHideClassName):this.animator.addClass(this.element,c.aureliaHideClassName)},t.prototype.bind=function(t){this.valueChanged(this.value)},t}())||o)||o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalBindingBehavior=void 0;var r=n(50);e.SignalBindingBehavior=function(){function t(t){this.signals=t.signals}return t.inject=function(){return[r.BindingSignaler]},t.prototype.bind=function(t,e){if(!t.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var n=arguments[2],r=this.signals[n]||(this.signals[n]=[]);r.push(t),t.signalName=n}else{if(!(arguments.length>3))throw new Error("Signal name is required.");for(var i=Array.prototype.slice.call(arguments,2),o=i.length;o--;){var s=i[o],a=this.signals[s]||(this.signals[s]=[]);a.push(t)}t.signalName=i}},t.prototype.unbind=function(t,e){var n=t.signalName;if(t.signalName=null,Array.isArray(n))for(var r=n,i=r.length;i--;){var o=r[i],s=this.signals[o];s.splice(s.indexOf(t),1)}else{var a=this.signals[n];a.splice(a.indexOf(t),1)}},t}()},function(t,e,n){"use strict";function r(t){var e=this,n=this.throttleState,r=+new Date-n.last;return r>=n.delay?(clearTimeout(n.timeoutId),n.timeoutId=null,n.last=+new Date,void this.throttledMethod(t)):(n.newValue=t,void(null===n.timeoutId&&(n.timeoutId=setTimeout(function(){n.timeoutId=null,n.last=+new Date,e.throttledMethod(n.newValue)},n.delay-r))))}Object.defineProperty(e,"__esModule",{value:!0}),e.ThrottleBindingBehavior=void 0;var i=n(3);e.ThrottleBindingBehavior=function(){function t(){}return t.prototype.bind=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o="updateTarget";t.callSource?o="callSource":t.updateSource&&t.mode===i.bindingMode.twoWay&&(o="updateSource"),t.throttledMethod=t[o],t.throttledMethod.originalName=o,t[o]=r,t.throttleState={delay:n,last:0,timeoutId:null}},t.prototype.unbind=function(t,e){var n=t.throttledMethod.originalName;t[n]=t.throttledMethod,t.throttledMethod=null,clearTimeout(t.throttleState.timeoutId),t.throttleState=null},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateTriggerBindingBehavior=void 0;var r,i,o=n(3),s="The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">",a="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";e.UpdateTriggerBindingBehavior=(i=r=function(){function t(t){this.eventManager=t}return t.prototype.bind=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(0===r.length)throw new Error(s);if(t.mode!==o.bindingMode.twoWay)throw new Error(a);var u=t.observerLocator.getObserver(t.target,t.targetProperty);if(!u.handler)throw new Error(a);t.targetObserver=u,u.originalHandler=t.targetObserver.handler;var c=this.eventManager.createElementHandler(r);u.handler=c},t.prototype.unbind=function(t,e){t.targetObserver.handler=t.targetObserver.originalHandler,t.targetObserver.originalHandler=null},t}(),r.inject=[o.EventManager],i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.With=void 0;var r,i,o,s=n(4),a=n(2),u=n(3);e.With=(r=(0,a.customAttribute)("with"),i=(0,s.inject)(a.BoundViewFactory,a.ViewSlot),r(o=(0,a.templateController)(o=i(o=function(){function t(t,e){this.viewFactory=t,this.viewSlot=e,this.parentOverrideContext=null,this.view=null}return t.prototype.bind=function(t,e){this.parentOverrideContext=e,this.valueChanged(this.value)},t.prototype.valueChanged=function(t){var e=(0,u.createOverrideContext)(t,this.parentOverrideContext);this.view?this.view.bind(t,e):(this.view=this.viewFactory.create(),this.view.bind(t,e),this.viewSlot.add(this.view))},t.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},t}())||o)||o)||o)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.RouteHref=void 0;var i,o,s,a,u,c,l=n(2),h=n(4),f=n(5),p=n(1),d=n(8),v=r(d),g=v.getLogger("route-href");e.RouteHref=(i=(0,l.customAttribute)("route-href"),o=(0,l.bindable)({name:"route",changeHandler:"processChange"}),s=(0,l.bindable)({name:"params",changeHandler:"processChange"}),a=(0,l.bindable)({name:"attribute",defaultValue:"href"}),u=(0,h.inject)(f.Router,p.DOM.Element),i(c=o(c=s(c=a(c=u(c=function(){function t(t,e){this.router=t,this.element=e}return t.prototype.bind=function(){this.isActive=!0,this.processChange()},t.prototype.unbind=function(){this.isActive=!1},t.prototype.attributeChanged=function(t,e){e&&this.element.removeAttribute(e),this.processChange()},t.prototype.processChange=function(){var t=this;return this.router.ensureConfigured().then(function(){if(!t.isActive)return null;var e=t.router.generate(t.route,t.params);return t.element.au.controller?t.element.au.controller.viewModel[t.attribute]=e:t.element.setAttribute(t.attribute,e),null}).catch(function(t){g.error(t)})},t}())||c)||c)||c)||c)||c)},function(t,e,n){"use strict";function r(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function i(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,"__esModule",{value:!0}),e.RouterView=void 0;var o,s,a,u,c,l,h,f,p=n(4),d=n(3),v=n(2),g=n(5),y=n(7),m=n(1),b=function(){function t(){}return t.prototype.before=function(t,e,n){var r=Promise.resolve(n());return void 0!==e?r.then(function(){return t.remove(e,!0)}):r},t.prototype.with=function(t,e,n){var r=Promise.resolve(n());return void 0!==e?Promise.all([t.remove(e,!0),r]):r},t.prototype.after=function(t,e,n){return Promise.resolve(t.removeAll(!0)).then(n)},t}(),w=new b;e.RouterView=(o=(0,v.customElement)("router-view"),s=(0,p.inject)(m.DOM.Element,p.Container,v.ViewSlot,g.Router,v.ViewLocator,v.CompositionTransaction,v.CompositionEngine),o(a=(0,v.noView)(a=s((u=function(){function t(t,e,n,i,o,s,a){r(this,"swapOrder",c,this),r(this,"layoutView",l,this),r(this,"layoutViewModel",h,this),r(this,"layoutModel",f,this),this.element=t,this.container=e,this.viewSlot=n,this.router=i,this.viewLocator=o,this.compositionTransaction=s,this.compositionEngine=a,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in s||(s.initialComposition=!0,this.compositionTransactionNotifier=s.enlist())}return t.prototype.created=function(t){this.owningView=t},t.prototype.bind=function(t,e){this.container.viewModel=t,this.overrideContext=e},t.prototype.process=function(t,e){var n=this,r=t.component,i=r.childContainer,o=r.viewModel,s=r.viewModelResource,a=s.metadata,u=r.router.currentInstruction.config,c=u.viewPorts?u.viewPorts[t.name]:{},l={viewModel:c.layoutViewModel||u.layoutViewModel||this.layoutViewModel,view:c.layoutView||u.layoutView||this.layoutView,model:c.layoutModel||u.layoutModel||this.layoutModel,router:t.component.router,childContainer:i,viewSlot:this.viewSlot},h=this.viewLocator.getViewStrategy(r.view||o);return h&&r.view&&h.makeRelativeTo(y.Origin.get(r.router.container.viewModel.constructor).moduleId),a.load(i,s.value,null,h,!0).then(function(r){n.compositionTransactionNotifier||(n.compositionTransactionOwnershipToken=n.compositionTransaction.tryCapture()),(l.viewModel||l.view)&&(t.layoutInstruction=l),t.controller=a.create(i,v.BehaviorInstruction.dynamic(n.element,o,r)),e||n.swap(t)})},t.prototype.swap=function(t){var e=this,n=t.layoutInstruction,r=function(){var t=e.view,n=void 0,r=e.viewSlot;(n=e.swapOrder in w?w[e.swapOrder]:w.after)(r,t,function(){return Promise.resolve().then(function(){return r.add(e.view)}).then(function(){e._notify()})})},i=function(n){return t.controller.automate(e.overrideContext,n),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return e.compositionTransactionOwnershipToken=null,r()}):r()};return n?(n.viewModel||(n.viewModel={}),this.compositionEngine.createController(n).then(function(r){return v.ShadowDOM.distributeView(t.controller.view,r.slots||r.view.slots),r.automate((0,d.createOverrideContext)(n.viewModel),e.owningView),r.view.children.push(t.controller.view),r.view||r}).then(function(t){return e.view=t,i(t)})):(this.view=t.controller.view,i(this.owningView))},t.prototype._notify=function(){this.compositionTransactionNotifier&&(this.compositionTransactionNotifier.done(),this.compositionTransactionNotifier=null)},t}(),c=i(u.prototype,"swapOrder",[v.bindable],{enumerable:!0,initializer:null}),l=i(u.prototype,"layoutView",[v.bindable],{enumerable:!0,initializer:null}),h=i(u.prototype,"layoutViewModel",[v.bindable],{enumerable:!0,initializer:null}),f=i(u.prototype,"layoutModel",[v.bindable],{enumerable:!0,initializer:null}),a=u))||a)||a)||a)},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){f?e(t(f)):h.push(function(){try{e(t(f))}catch(t){n(t)}})})}function i(t){return new Promise(function(e,n){function r(){t.document.removeEventListener("DOMContentLoaded",r),t.removeEventListener("load",r),e(t.document)}"complete"===t.document.readyState?e(t.document):(t.document.addEventListener("DOMContentLoaded",r),t.addEventListener("load",r))})}function o(t,e){return s(t,e,e.getAttribute("aurelia-app"))}function s(t,e,n){var r=new p(t);return r.host=e,r.configModuleId=n||null,n?t.loadModule(n).then(function(t){return t.configure(r)}):(r.use.standardConfiguration().developmentLogging(),r.start().then(function(){return r.setRoot()}))}function a(){return i(window).then(function(t){var e=t.querySelectorAll("[aurelia-app]"),n=new l.WebpackLoader;n.loadModule("aurelia-framework").then(function(t){p=t.Aurelia;for(var r=0,i=e.length;r<i;++r)o(n,e[r]).catch(console.error.bind(console));f=n;for(var s=0,a=h.length;s<a;++s)h[s]();h=null})})}function u(t){return r(function(e){var n=new p(e);return t(n)})}Object.defineProperty(e,"__esModule",{value:!0}),e.bootstrap=u,n(59);var c=n(58),l=n(57);(0,c.initialize)();var h=[],f=null,p=null;a()},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){t.singleton(h.History,d),t.transient(f,p)}function s(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}function a(t,e,n){return t+"//"+e+(n?":"+n:"")}Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserHistory=e.DefaultLinkHandler=e.LinkHandler=void 0;var u,c;e.configure=o;var l=n(1),h=n(46),f=e.LinkHandler=function(){function t(){}return t.prototype.activate=function(t){},t.prototype.deactivate=function(){},t}(),p=e.DefaultLinkHandler=function(t){function e(){var n=r(this,t.call(this));return n.handler=function(t){var r=e.getEventInfo(t),i=r.shouldHandleEvent,o=r.href;i&&(t.preventDefault(),n.history.navigate(o))},n}return i(e,t),e.prototype.activate=function(t){t._hasPushState&&(this.history=t,l.DOM.addEventListener("click",this.handler,!0))},e.prototype.deactivate=function(){l.DOM.removeEventListener("click",this.handler)},e.getEventInfo=function(t){var n={shouldHandleEvent:!1,href:null,anchor:null},r=e.findClosestAnchor(t.target);if(!r||!e.targetIsThisWindow(r))return n;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return n;var i=r.getAttribute("href");n.anchor=r,n.href=i;var o=1===t.which,s=i&&!("#"===i.charAt(0)||/^[a-z]+:/i.test(i));return n.shouldHandleEvent=o&&s,n},e.findClosestAnchor=function(t){for(;t;){if("A"===t.tagName)return t;t=t.parentNode}},e.targetIsThisWindow=function(t){var e=t.getAttribute("target"),n=l.PLATFORM.global;return!e||e===n.name||"_self"===e||"top"===e&&n===n.top},e}(f),d=e.BrowserHistory=(c=u=function(t){function e(e){var n=r(this,t.call(this));return n._isActive=!1,n._checkUrlCallback=n._checkUrl.bind(n),n.location=l.PLATFORM.location,n.history=l.PLATFORM.history,n.linkHandler=e,n}return i(e,t),e.prototype.activate=function(t){if(this._isActive)throw new Error("History has already been activated.");var e=!!t.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,t),this.root=("/"+this.options.root+"/").replace(g,"/"),this._wantsHashChange=this.options.hashChange!==!1,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=void 0;if(this._hasPushState?n="popstate":this._wantsHashChange&&(n="hashchange"),l.PLATFORM.addEventListener(n,this._checkUrlCallback),this._wantsHashChange&&e){var r=this.location,i=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!i)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&i&&r.hash&&(this.fragment=this._getHash().replace(v,""),this.history.replaceState({},l.DOM.title,this.root+this.fragment+r.search))}if(this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),!this.options.silent)return this._loadUrl()},e.prototype.deactivate=function(){l.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),l.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},e.prototype.getAbsoluteRoot=function(){var t=a(this.location.protocol,this.location.hostname,this.location.port);return""+t+this.root},e.prototype.navigate=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.trigger,r=void 0===n||n,i=e.replace,o=void 0!==i&&i;if(t&&m.test(t))return this.location.href=t,!0;if(!this._isActive)return!1;if(t=this._getFragment(t||""),this.fragment===t&&!o)return!1;this.fragment=t;var a=this.root+t;if(""===t&&"/"!==a&&(a=a.slice(0,-1)),this._hasPushState)a=a.replace("//","/"),this.history[o?"replaceState":"pushState"]({},l.DOM.title,a);else{if(!this._wantsHashChange)return this.location.assign(a);s(this.location,t,o)}return r?this._loadUrl(t):void 0},e.prototype.navigateBack=function(){this.history.back()},e.prototype.setTitle=function(t){l.DOM.title=t},e.prototype._getHash=function(){return this.location.hash.substr(1)},e.prototype._getFragment=function(t,e){var n=void 0;return t||(this._hasPushState||!this._wantsHashChange||e?(t=this.location.pathname+this.location.search,n=this.root.replace(y,""),t.indexOf(n)||(t=t.substr(n.length))):t=this._getHash()),"/"+t.replace(v,"")},e.prototype._checkUrl=function(){var t=this._getFragment();t!==this.fragment&&this._loadUrl()},e.prototype._loadUrl=function(t){var e=this.fragment=this._getFragment(t);return!!this.options.routeHandler&&this.options.routeHandler(e)},e}(h.History),u.inject=[f],c),v=/^#?\/*|\s+$/g,g=/^\/+|\/+$/g,y=/\/$/,m=/^([a-z][a-z0-9+\-.]*:)?\/\//i},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e,n,r,i){var o=void 0,s=void 0;for(o=0,s=t.length;o<s;++o)t[o](e,n,r,i)}function s(t,e,n,r){void 0!==n.timeout&&(r.timeout=n.timeout)}function a(t,e,n,r){void 0!==n.callbackParameterName&&(r.callbackParameterName=n.callbackParameterName)}function u(t,e,n,r){void 0!==n.withCredentials&&(r.withCredentials=n.withCredentials)}function c(t,e,n,r){n.progressCallback&&(r.upload.onprogress=n.progressCallback)}function l(t,e,n,r){var i=n.responseType;"json"===i&&(i="text"),r.responseType=i}function h(t,e,n,r){n.headers.configureXHR(r)}function f(t,e,n,r){n.skipContentProcessing||b.PLATFORM.global.FormData&&n.content instanceof FormData||b.PLATFORM.global.Blob&&n.content instanceof Blob||b.PLATFORM.global.ArrayBufferView&&n.content instanceof ArrayBufferView||n.content instanceof Document||"string"!=typeof n.content&&null!==n.content&&void 0!==n.content&&(n.content=JSON.stringify(n.content,n.replacer),n.headers.has("Content-Type")||n.headers.add("Content-Type","application/json"))}function p(){return new C(E,[s,a])}function d(){return new C(b.PLATFORM.XMLHttpRequest,[s,u,c,l,f,h])}function v(t,e){t.pendingRequests.push(e),t.isRequesting=!0}function g(t,e){var n=t.pendingRequests.indexOf(e);t.pendingRequests.splice(n,1),t.isRequesting=t.pendingRequests.length>0,t.isRequesting||!function(){var t=b.DOM.createCustomEvent("aurelia-http-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout(function(){return b.DOM.dispatchEvent(t)},1)}()}Object.defineProperty(e,"__esModule",{value:!0}),e.HttpClient=e.RequestBuilder=e.HttpRequestMessage=e.JSONPRequestMessage=e.RequestMessageProcessor=e.mimeTypes=e.HttpResponseMessage=e.RequestMessage=e.Headers=void 0;var y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.timeoutTransformer=s,e.callbackParameterNameTransformer=a,e.credentialsTransformer=u,e.progressTransformer=c,e.responseTypeTransformer=l,e.headerTransformer=h,e.contentTransformer=f,e.createJSONPRequestMessageProcessor=p,e.createHttpRequestMessageProcessor=d;var m=n(9),b=n(1),w=e.Headers=function(){function t(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.headers={};for(var e in t)this.headers[e.toLowerCase()]={key:e,value:t[e]}}return t.prototype.add=function(t,e){this.headers[t.toLowerCase()]={key:t,value:e}},t.prototype.get=function(t){var e=this.headers[t.toLowerCase()];return e?e.value:void 0},t.prototype.clear=function(){this.headers={}},t.prototype.has=function(t){return this.headers.hasOwnProperty(t.toLowerCase())},t.prototype.configureXHR=function(t){for(var e in this.headers)this.headers.hasOwnProperty(e)&&t.setRequestHeader(this.headers[e].key,this.headers[e].value)},t.parse=function(e){var n=new t;if(!e)return n;for(var r=e.split("\r\n"),i=0;i<r.length;i++){var o=r[i],s=o.indexOf(": ");if(s>0){var a=o.substring(0,s),u=o.substring(s+2);n.add(a,u)}}return n},t}(),x=e.RequestMessage=function(){function t(t,e,n,r){this.method=t,this.url=e,this.content=n,this.headers=r||new w,this.baseUrl=""}return t.prototype.buildFullUrl=function(){var t=/^([a-z][a-z0-9+\-.]*:)?\/\//i,e=t.test(this.url)?this.url:(0,m.join)(this.baseUrl,this.url);if(this.params){var n=(0,m.buildQueryString)(this.params);e=n?e+(this.url.indexOf("?")<0?"?":"&")+n:e}return e},t}(),k=e.HttpResponseMessage=function(){function t(t,e,n,r){if(this.requestMessage=t,this.statusCode=e.status,this.response=e.response||e.responseText,this.isSuccess=e.status>=200&&e.status<400,this.statusText=e.statusText,this.reviver=r,this.mimeType=null,e.getAllResponseHeaders)try{this.headers=w.parse(e.getAllResponseHeaders())}catch(t){e.requestHeaders&&(this.headers=new w(e.requestHeaders))}else this.headers=new w;var i=void 0;this.headers&&this.headers.headers&&(i=this.headers.get("Content-Type")),i&&(this.mimeType=n=i.split(";")[0].trim(),S.hasOwnProperty(this.mimeType)&&(n=S[this.mimeType])),this.responseType=n}return y(t,[{key:"content",get:function(){try{return void 0!==this._content?this._content:void 0===this.response||null===this.response||""===this.response?(this._content=this.response,this._content):"json"===this.responseType?(this._content=JSON.parse(this.response,this.reviver),this._content):this.reviver?(this._content=this.reviver(this.response),this._content):(this._content=this.response,this._content)}catch(t){if(this.isSuccess)throw t;return this._content=null,this._content}}}]),t}(),S=e.mimeTypes={"text/html":"html","text/javascript":"js","application/javascript":"js","text/json":"json","application/json":"json","application/rss+xml":"rss","application/atom+xml":"atom","application/xhtml+xml":"xhtml","text/markdown":"md","text/xml":"xml","text/mathml":"mml","application/xml":"xml","text/yml":"yml","text/csv":"csv","text/css":"css","text/less":"less","text/stylus":"styl","text/scss":"scss","text/sass":"sass","text/plain":"txt"},C=e.RequestMessageProcessor=function(){function t(t,e){this.XHRType=t,this.xhrTransformers=e,this.isAborted=!1}return t.prototype.abort=function(){this.xhr&&this.xhr.readyState!==b.PLATFORM.XMLHttpRequest.UNSENT&&this.xhr.abort(),this.isAborted=!0},t.prototype.process=function(t,e){var n=this,r=new Promise(function(t,r){var i=n.xhr=new n.XHRType;i.onload=function(n){var o=new k(e,i,e.responseType,e.reviver);o.isSuccess?t(o):r(o)},i.ontimeout=function(t){r(new k(e,{response:t,status:i.status,statusText:i.statusText},"timeout"))},i.onerror=function(t){r(new k(e,{response:t,status:i.status,
statusText:i.statusText},"error"))},i.onabort=function(t){r(new k(e,{response:t,status:i.status,statusText:i.statusText},"abort"))}});return Promise.resolve(e).then(function(e){var i=function(){return n.isAborted?n.xhr.abort():(n.xhr.open(e.method,e.buildFullUrl(),!0,e.user,e.password),o(n.xhrTransformers,t,n,e,n.xhr),"undefined"==typeof e.content?n.xhr.send():n.xhr.send(e.content)),r},s=[[i,void 0]],a=e.interceptors||[];a.forEach(function(t){(t.request||t.requestError)&&s.unshift([t.request?t.request.bind(t):void 0,t.requestError?t.requestError.bind(t):void 0]),(t.response||t.responseError)&&s.push([t.response?t.response.bind(t):void 0,t.responseError?t.responseError.bind(t):void 0])});for(var u=Promise.resolve(e);s.length;){var c;u=(c=u).then.apply(c,s.shift())}return u})},t}(),A=e.JSONPRequestMessage=function(t){function e(e,n){var i=r(this,t.call(this,"JSONP",e));return i.responseType="jsonp",i.callbackParameterName=n,i}return i(e,t),e}(x),E=function(){function t(){}return t.prototype.open=function(t,e){this.method=t,this.url=e,this.callbackName="jsonp_callback_"+Math.round(1e5*Math.random())},t.prototype.send=function(){var t=this,e=this.url+(this.url.indexOf("?")>=0?"&":"?")+encodeURIComponent(this.callbackParameterName)+"="+this.callbackName,n=b.DOM.createElement("script");n.src=e,n.onerror=function(e){r(),t.status=0,t.onerror(new Error("error"))};var r=function(){delete b.PLATFORM.global[t.callbackName],b.DOM.removeNode(n)};b.PLATFORM.global[this.callbackName]=function(e){r(),void 0===t.status&&(t.status=200,t.statusText="OK",t.response=e,t.onload(t))},b.DOM.appendNode(n),void 0!==this.timeout&&setTimeout(function(){void 0===t.status&&(t.status=0,t.ontimeout(new Error("timeout")))},this.timeout)},t.prototype.abort=function(){void 0===this.status&&(this.status=0,this.onabort(new Error("abort")))},t.prototype.setRequestHeader=function(){},t}(),T=e.HttpRequestMessage=function(t){function e(e,n,i,o){var s=r(this,t.call(this,e,n,i,o));return s.responseType="json",s}return i(e,t),e}(x),O=e.RequestBuilder=function(){function t(t){this.client=t,this.transformers=t.requestTransformers.slice(0),this.useJsonp=!1}return t.prototype.asDelete=function(){return this._addTransformer(function(t,e,n){n.method="DELETE"})},t.prototype.asGet=function(){return this._addTransformer(function(t,e,n){n.method="GET"})},t.prototype.asHead=function(){return this._addTransformer(function(t,e,n){n.method="HEAD"})},t.prototype.asOptions=function(){return this._addTransformer(function(t,e,n){n.method="OPTIONS"})},t.prototype.asPatch=function(){return this._addTransformer(function(t,e,n){n.method="PATCH"})},t.prototype.asPost=function(){return this._addTransformer(function(t,e,n){n.method="POST"})},t.prototype.asPut=function(){return this._addTransformer(function(t,e,n){n.method="PUT"})},t.prototype.asJsonp=function(t){return this.useJsonp=!0,this._addTransformer(function(e,n,r){r.callbackParameterName=t})},t.prototype.withUrl=function(t){return this._addTransformer(function(e,n,r){r.url=t})},t.prototype.withContent=function(t){return this._addTransformer(function(e,n,r){r.content=t})},t.prototype.withBaseUrl=function(t){return this._addTransformer(function(e,n,r){r.baseUrl=t})},t.prototype.withParams=function(t){return this._addTransformer(function(e,n,r){r.params=t})},t.prototype.withResponseType=function(t){return this._addTransformer(function(e,n,r){r.responseType=t})},t.prototype.withTimeout=function(t){return this._addTransformer(function(e,n,r){r.timeout=t})},t.prototype.withHeader=function(t,e){return this._addTransformer(function(n,r,i){i.headers.add(t,e)})},t.prototype.withCredentials=function(t){return this._addTransformer(function(e,n,r){r.withCredentials=t})},t.prototype.withLogin=function(t,e){return this._addTransformer(function(n,r,i){i.user=t,i.password=e})},t.prototype.withReviver=function(t){return this._addTransformer(function(e,n,r){r.reviver=t})},t.prototype.withReplacer=function(t){return this._addTransformer(function(e,n,r){r.replacer=t})},t.prototype.withProgressCallback=function(t){return this._addTransformer(function(e,n,r){r.progressCallback=t})},t.prototype.withCallbackParameterName=function(t){return this._addTransformer(function(e,n,r){r.callbackParameterName=t})},t.prototype.withInterceptor=function(t){return this._addTransformer(function(e,n,r){r.interceptors=r.interceptors||[],r.interceptors.unshift(t)})},t.prototype.skipContentProcessing=function(){return this._addTransformer(function(t,e,n){n.skipContentProcessing=!0})},t.prototype._addTransformer=function(t){return this.transformers.push(t),this},t.addHelper=function(e,n){t.prototype[e]=function(){return this._addTransformer(n.apply(this,arguments))}},t.prototype.send=function(){var t=this.useJsonp?new A:new T;return this.client.send(t,this.transformers)},t}();e.HttpClient=function(){function t(){this.isRequesting=!1,this.requestTransformers=[],this.requestProcessorFactories=new Map,this.requestProcessorFactories.set(T,d),this.requestProcessorFactories.set(A,p),this.pendingRequests=[]}return t.prototype.configure=function(t){var e=new O(this);return t(e),this.requestTransformers=e.transformers,this},t.prototype.createRequest=function(t){var e=new O(this);return t&&e.withUrl(t),e},t.prototype.send=function(t,e){var n=this,r=this.requestProcessorFactories.get(t.constructor),i=void 0,o=void 0,s=void 0,a=void 0;if(!r)throw new Error("No request message processor factory for "+t.constructor+".");return i=r(),v(this,i),e=e||this.requestTransformers,o=Promise.resolve(t).then(function(t){for(s=0,a=e.length;s<a;++s)e[s](n,i,t);return i.process(n,t).then(function(t){return g(n,i),t}).catch(function(t){throw g(n,i),t})}),o.abort=o.cancel=function(){i.abort()},o},t.prototype.delete=function(t){return this.createRequest(t).asDelete().send()},t.prototype.get=function(t){return this.createRequest(t).asGet().send()},t.prototype.head=function(t){return this.createRequest(t).asHead().send()},t.prototype.jsonp=function(t){var e=arguments.length<=1||void 0===arguments[1]?"jsoncallback":arguments[1];return this.createRequest(t).asJsonp(e).send()},t.prototype.options=function(t){return this.createRequest(t).asOptions().send()},t.prototype.put=function(t,e){return this.createRequest(t).asPut().withContent(e).send()},t.prototype.patch=function(t,e){return this.createRequest(t).asPatch().withContent(e).send()},t.prototype.post=function(t,e){return this.createRequest(t).asPost().withContent(e).send()},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleAppender=void 0;n(8),e.ConsoleAppender=function(){function t(){}return t.prototype.debug=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console).debug.apply(e,["DEBUG ["+t.id+"]"].concat(r))},t.prototype.info=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console).info.apply(e,["INFO ["+t.id+"]"].concat(r))},t.prototype.warn=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console).warn.apply(e,["WARN ["+t.id+"]"].concat(r))},t.prototype.error=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=console).error.apply(e,["ERROR ["+t.id+"]"].concat(r))},t}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if("style"===e)y.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(t.parentElement&&"TEXTAREA"===t.parentElement.nodeName&&"textContent"===e)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}function a(t){t.container.registerSingleton(b.BindingLanguage,E),t.container.registerAlias(b.BindingLanguage,E)}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingBindingLanguage=e.SyntaxInterpreter=e.ChildInterpolationBinding=e.InterpolationBinding=e.InterpolationBindingExpression=e.AttributeMap=void 0;var u,c,l,h,f,p,d,v;e.configure=a;var g=n(8),y=r(g),m=n(3),b=n(2),w=e.AttributeMap=(c=u=function(){function t(t){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=t,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return t.prototype.register=function(t,e,n){t=t.toLowerCase(),e=e.toLowerCase();var r=this.elements[t]=this.elements[t]||Object.create(null);r[e]=n},t.prototype.registerUniversal=function(t,e){t=t.toLowerCase(),this.allElements[t]=e},t.prototype.map=function(t,e){if(this.svg.isStandardSvgAttribute(t,e))return e;t=t.toLowerCase(),e=e.toLowerCase();var n=this.elements[t];return void 0!==n&&e in n?n[e]:e in this.allElements?this.allElements[e]:/(?:^data-)|(?:^aria-)|:/.test(e)?e:(0,m.camelCase)(e)},t}(),u.inject=[m.SVGAnalyzer],c),x=e.InterpolationBindingExpression=function(){function t(t,e,n,r,i,o){this.observerLocator=t,this.targetProperty=e,this.parts=n,this.mode=r,this.lookupFunctions=i,this.attribute=this.attrToRemove=o,this.discrete=!1}return t.prototype.createBinding=function(t){return 3===this.parts.length?new S(t,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new k(this.observerLocator,this.parts,t,this.targetProperty,this.mode,this.lookupFunctions)},t}(),k=e.InterpolationBinding=function(){function t(t,e,n,r,i,o){s(n,r),this.observerLocator=t,this.parts=e,this.target=n,this.targetProperty=r,this.targetAccessor=t.getAccessor(n,r),this.mode=i,this.lookupFunctions=o}return t.prototype.interpolate=function(){if(this.isBound){for(var t="",e=this.parts,n=0,r=e.length;n<r;n++)t+=n%2===0?e[n]:this["childBinding"+n].value;this.targetAccessor.setValue(t,this.target,this.targetProperty)}},t.prototype.updateOneTimeBindings=function(){for(var t=1,e=this.parts.length;t<e;t+=2){var n=this["childBinding"+t];n.mode===m.bindingMode.oneTime&&n.call()}},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.source=t;for(var e=this.parts,n=1,r=e.length;n<r;n+=2){var i=new S(this,this.observerLocator,e[n],this.mode,this.lookupFunctions);i.bind(t),this["childBinding"+n]=i}this.isBound=!0,this.interpolate()},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var t=this.parts,e=1,n=t.length;e<n;e+=2){var r="childBinding"+e;this[r].unbind()}}},t}(),S=e.ChildInterpolationBinding=(l=(0,m.connectable)(),l(h=function(){function t(t,e,n,r,i,o,a,u){t instanceof k?this.parent=t:(s(t,o),this.target=t,this.targetProperty=o,this.targetAccessor=e.getAccessor(t,o)),this.observerLocator=e,this.sourceExpression=n,this.mode=r,this.lookupFunctions=i,this.left=a,this.right=u}return t.prototype.updateTarget=function(t){t=null===t||void 0===t?"":t.toString(),t!==this.value&&(this.value=t,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+t+this.right,this.target,this.targetProperty))},t.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==m.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},t.prototype.bind=function(t){if(this.isBound){if(this.source===t)return;this.unbind()}this.isBound=!0,this.source=t;var e=this.sourceExpression;e.bind&&e.bind(this,t,this.lookupFunctions),this.rawValue=e.evaluate(t,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===m.bindingMode.oneWay&&(0,m.enqueueBindingConnect)(this)},t.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var t=this.sourceExpression;t.unbind&&t.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},t.prototype.connect=function(t){this.isBound&&(t&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},t}())||h),C=e.SyntaxInterpreter=(p=f=function(){function t(t,e,n,r){this.parser=t,this.observerLocator=e,this.eventManager=n,this.attributeMap=r}return t.prototype.interpret=function(t,e,n,r,i){return n.command in this?this[n.command](t,e,n,r,i):this.handleUnknownCommand(t,e,n,r,i)},t.prototype.handleUnknownCommand=function(t,e,n,r,i){return y.getLogger("templating-binding").warn("Unknown binding command.",n),r},t.prototype.determineDefaultBindingMode=function(t,e,n){var r=t.tagName.toLowerCase();return"input"===r&&("value"===e||"files"===e)&&"checkbox"!==t.type&&"radio"!==t.type||"input"===r&&"checked"===e&&("checkbox"===t.type||"radio"===t.type)||("textarea"===r||"select"===r)&&"value"===e||("textcontent"===e||"innerhtml"===e)&&"true"===t.contentEditable||"scrolltop"===e||"scrollleft"===e?m.bindingMode.twoWay:n&&e in n.attributes&&n.attributes[e]&&n.attributes[e].defaultBindingMode>=m.bindingMode.oneTime?n.attributes[e].defaultBindingMode:m.bindingMode.oneWay},t.prototype.bind=function(t,e,n,r,i){var o=r||b.BehaviorInstruction.attribute(n.attrName);return o.attributes[n.attrName]=new m.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),n.defaultBindingMode||this.determineDefaultBindingMode(e,n.attrName,i),t.lookupFunctions),o},t.prototype.trigger=function(t,e,n){return new m.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),m.delegationStrategy.none,!0,t.lookupFunctions)},t.prototype.capture=function(t,e,n){return new m.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),m.delegationStrategy.capturing,!0,t.lookupFunctions)},t.prototype.delegate=function(t,e,n){return new m.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),m.delegationStrategy.bubbling,!0,t.lookupFunctions)},t.prototype.call=function(t,e,n,r){var i=r||b.BehaviorInstruction.attribute(n.attrName);return i.attributes[n.attrName]=new m.CallExpression(this.observerLocator,n.attrName,this.parser.parse(n.attrValue),t.lookupFunctions),i},t.prototype.options=function(t,e,n,r,i){var o=r||b.BehaviorInstruction.attribute(n.attrName),s=n.attrValue,a=this.language,u=null,c="",l=void 0,h=void 0,f=void 0,p=!1,d=!1,v=!1;for(h=0,f=s.length;h<f;++h){if(l=s[h],";"!==l||p)if(":"===l&&null===u)v=!0,u=c.trim(),c="";else{if("\\"===l){c+=l,d=!0;continue}c+=l,null!==u&&d===!1&&"'"===l&&(p=!p)}else v||(u=this._getPrimaryPropertyName(t,i)),n=a.inspectAttribute(t,"?",u,c.trim()),a.createAttributeInstruction(t,e,n,o,i),o.attributes[n.attrName]||(o.attributes[n.attrName]=n.attrValue),c="",u=null;d=!1}return v||(u=this._getPrimaryPropertyName(t,i)),null!==u&&(n=a.inspectAttribute(t,"?",u,c.trim()),a.createAttributeInstruction(t,e,n,o,i),o.attributes[n.attrName]||(o.attributes[n.attrName]=n.attrValue)),o},t.prototype._getPrimaryPropertyName=function(t,e){var n=t.getAttribute(e.attributeName);return n&&n.primaryProperty?n.primaryProperty.name:null},t.prototype.for=function(t,e,n,r){var i=void 0,o=void 0,s=void 0,a=void 0,u=void 0;if(a=n.attrValue,u=a.match(/^ *[[].+[\]]/),i=u?a.split("of "):a.split(" of "),2!==i.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return s=r||b.BehaviorInstruction.attribute(n.attrName),u?(o=i[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),s.attributes.key=o[0],s.attributes.value=o[1]):s.attributes.local=i[0],s.attributes.items=new m.BindingExpression(this.observerLocator,"items",this.parser.parse(i[1]),m.bindingMode.oneWay,t.lookupFunctions),s},t.prototype["two-way"]=function(t,e,n,r){var i=r||b.BehaviorInstruction.attribute(n.attrName);return i.attributes[n.attrName]=new m.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),m.bindingMode.twoWay,t.lookupFunctions),i},t.prototype["one-way"]=function(t,e,n,r){var i=r||b.BehaviorInstruction.attribute(n.attrName);return i.attributes[n.attrName]=new m.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),m.bindingMode.oneWay,t.lookupFunctions),i},t.prototype["one-time"]=function(t,e,n,r){var i=r||b.BehaviorInstruction.attribute(n.attrName);return i.attributes[n.attrName]=new m.BindingExpression(this.observerLocator,this.attributeMap.map(e.tagName,n.attrName),this.parser.parse(n.attrValue),m.bindingMode.oneTime,t.lookupFunctions),i},t}(),f.inject=[m.Parser,m.ObserverLocator,m.EventManager,w],p),A={},E=e.TemplatingBindingLanguage=(v=d=function(t){function e(e,n,r,o){var s=i(this,t.call(this));return s.parser=e,s.observerLocator=n,s.syntaxInterpreter=r,s.emptyStringExpression=s.parser.parse("''"),r.language=s,s.attributeMap=o,s}return o(e,t),e.prototype.inspectAttribute=function(t,e,n,r){var i=n.split(".");if(A.defaultBindingMode=null,2===i.length)A.attrName=i[0].trim(),A.attrValue=r,A.command=i[1].trim(),"ref"===A.command?(A.expression=new m.NameExpression(this.parser.parse(r),A.attrName,t.lookupFunctions),A.command=null,A.attrName="ref"):A.expression=null;else if("ref"===n)A.attrName=n,A.attrValue=r,A.command=null,A.expression=new m.NameExpression(this.parser.parse(r),"element",t.lookupFunctions);else{A.attrName=n,A.attrValue=r,A.command=null;var o=this.parseInterpolation(t,r);null===o?A.expression=null:A.expression=new x(this.observerLocator,this.attributeMap.map(e,n),o,m.bindingMode.oneWay,t.lookupFunctions,n)}return A},e.prototype.createAttributeInstruction=function(t,e,n,r,i){var o=void 0;if(n.expression){if("ref"===n.attrName)return n.expression;o=r||b.BehaviorInstruction.attribute(n.attrName),o.attributes[n.attrName]=n.expression}else n.command&&(o=this.syntaxInterpreter.interpret(t,e,n,r,i));return o},e.prototype.inspectTextContent=function(t,e){var n=this.parseInterpolation(t,e);return null===n?null:new x(this.observerLocator,"textContent",n,m.bindingMode.oneWay,t.lookupFunctions,"textContent")},e.prototype.parseInterpolation=function(t,e){for(var n=e.indexOf("${",0),r=e.length,i=void 0,o=0,s=0,a=null,u=void 0,c=void 0,l=0;n>=0&&n<r-2;){s=1,u=n,n+=2;do i=e[n],n++,"'"!==i&&'"'!==i?"\\"!==i?null===a&&("{"===i?s++:"}"===i&&s--):n++:null===a?a=i:a===i&&(a=null);while(s>0&&n<r);if(0!==s)break;c=c||[],"\\"===e[u-1]&&"\\"!==e[u-2]?(c[l]=e.substring(o,u-1)+e.substring(u,n),l++,c[l]=this.emptyStringExpression,l++):(c[l]=e.substring(o,u),l++,c[l]=this.parser.parse(e.substring(u+2,n-1)),l++),o=n,n=e.indexOf("${",n)}return 0===l?null:(c[l]=e.substr(o),c)},e}(b.BindingLanguage),d.inject=[m.Parser,m.ObserverLocator,C,w],v)},function(t,e,n){"use strict";function r(t){(0,I.injectAureliaHideStyleAtHead)(),t.globalResources("./compose","./if","./with","./repeat","./show","./hide","./replaceable","./sanitize-html","./focus","./binding-mode-behaviors","./throttle-binding-behavior","./debounce-binding-behavior","./signal-binding-behavior","./update-trigger-binding-behavior","./attr-binding-behavior"),(0,A.configure)(t);var e=t.container.get(p.ViewEngine);e.addResourcePlugin(".css",{fetch:function(t){var e;return e={},e[t]=(0,d._createCSSResource)(t),e}})}Object.defineProperty(e,"__esModule",{value:!0}),e.viewsRequireLifecycle=e.unwrapExpression=e.updateOneTimeBinding=e.isOneTime=e.getItemsSourceExpression=e.updateOverrideContext=e.createFullOverrideContext=e.NumberRepeatStrategy=e.SetRepeatStrategy=e.MapRepeatStrategy=e.ArrayRepeatStrategy=e.NullRepeatStrategy=e.RepeatStrategyLocator=e.AbstractRepeater=e.UpdateTriggerBindingBehavior=e.BindingSignaler=e.SignalBindingBehavior=e.DebounceBindingBehavior=e.ThrottleBindingBehavior=e.TwoWayBindingBehavior=e.OneWayBindingBehavior=e.OneTimeBindingBehavior=e.AttrBindingBehavior=e.configure=e.Focus=e.Replaceable=e.SanitizeHTMLValueConverter=e.HTMLSanitizer=e.Hide=e.Show=e.Repeat=e.With=e.If=e.Compose=void 0;var i=n(23),o=n(27),s=n(35),a=n(28),u=n(31),c=n(26),l=n(30),h=n(29),f=n(25),p=n(2),d=n(61),v=n(51),g=n(20),y=n(22),m=n(33),b=n(24),w=n(32),x=n(50),k=n(34),S=n(47),C=n(55),A=n(63),E=n(53),T=n(49),O=n(52),_=n(56),R=n(54),P=n(12),M=n(48),I=n(21);e.Compose=i.Compose,e.If=o.If,e.With=s.With,e.Repeat=a.Repeat,e.Show=u.Show,e.Hide=c.Hide,e.HTMLSanitizer=v.HTMLSanitizer,e.SanitizeHTMLValueConverter=l.SanitizeHTMLValueConverter,e.Replaceable=h.Replaceable,e.Focus=f.Focus,e.configure=r,e.AttrBindingBehavior=g.AttrBindingBehavior,e.OneTimeBindingBehavior=y.OneTimeBindingBehavior,e.OneWayBindingBehavior=y.OneWayBindingBehavior,e.TwoWayBindingBehavior=y.TwoWayBindingBehavior,e.ThrottleBindingBehavior=m.ThrottleBindingBehavior,e.DebounceBindingBehavior=b.DebounceBindingBehavior,e.SignalBindingBehavior=w.SignalBindingBehavior,e.BindingSignaler=x.BindingSignaler,e.UpdateTriggerBindingBehavior=k.UpdateTriggerBindingBehavior,e.AbstractRepeater=S.AbstractRepeater,e.RepeatStrategyLocator=C.RepeatStrategyLocator,e.NullRepeatStrategy=E.NullRepeatStrategy,e.ArrayRepeatStrategy=T.ArrayRepeatStrategy,e.MapRepeatStrategy=O.MapRepeatStrategy,e.SetRepeatStrategy=_.SetRepeatStrategy,e.NumberRepeatStrategy=R.NumberRepeatStrategy,e.createFullOverrideContext=P.createFullOverrideContext,e.updateOverrideContext=P.updateOverrideContext,e.getItemsSourceExpression=P.getItemsSourceExpression,e.isOneTime=P.isOneTime,e.updateOneTimeBinding=P.updateOneTimeBinding,e.unwrapExpression=P.unwrapExpression,e.viewsRequireLifecycle=M.viewsRequireLifecycle},function(t,e,n){"use strict";function r(t){t.singleton(i.RouteLoader,o.TemplatingRouteLoader).singleton(i.Router,i.AppRouter).globalResources("./router-view","./route-href"),t.container.registerAlias(i.Router,i.AppRouter)}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=e.RouteHref=e.RouterView=e.TemplatingRouteLoader=void 0;var i=n(5),o=n(64),s=n(37),a=n(36);e.TemplatingRouteLoader=o.TemplatingRouteLoader,e.RouterView=s.RouterView,e.RouteHref=a.RouteHref,e.configure=r},,function(t,e,n){"use strict";function r(t){throw new Error("History must implement "+t+"().")}Object.defineProperty(e,"__esModule",{value:!0});e.History=function(){function t(){}return t.prototype.activate=function(t){r("activate")},t.prototype.deactivate=function(){r("deactivate")},t.prototype.getAbsoluteRoot=function(){r("getAbsoluteRoot")},t.prototype.navigate=function(t,e){r("navigate")},t.prototype.navigateBack=function(){r("navigateBack")},t.prototype.setTitle=function(t){r("setTitle")},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AbstractRepeater=function(){function t(t){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},t)}return t.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},t.prototype.views=function(){throw new Error("subclass must implement `views`")},t.prototype.view=function(t){throw new Error("subclass must implement `view`")},t.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},t.prototype.addView=function(t,e){throw new Error("subclass must implement `addView`")},t.prototype.insertView=function(t,e,n){throw new Error("subclass must implement `insertView`")},t.prototype.moveView=function(t,e){throw new Error("subclass must implement `moveView`")},t.prototype.removeAllViews=function(t,e){throw new Error("subclass must implement `removeAllViews`")},t.prototype.removeViews=function(t,e,n){throw new Error("subclass must implement `removeView`")},t.prototype.removeView=function(t,e,n){throw new Error("subclass must implement `removeView`")},t.prototype.updateBindings=function(t){throw new Error("subclass must implement `updateBindings`")},t}()},function(t,e,n){"use strict";function r(t){var e=t.type,n=null!==e.elementName?e.elementName:e.attributeName;return s.indexOf(n)===-1&&(e.handlesAttached||e.handlesBind||e.handlesCreated||e.handlesDetached||e.handlesUnbind)||e.viewFactory&&o(e.viewFactory)||t.viewFactory&&o(t.viewFactory)}function i(t){var e=t.behaviorInstructions;if(e)for(var n=e.length;n--;)if(r(e[n]))return!0;return t.viewFactory&&o(t.viewFactory)}function o(t){if("_viewsRequireLifecycle"in t)return t._viewsRequireLifecycle;if(t._viewsRequireLifecycle=!1,t.viewFactory)return t._viewsRequireLifecycle=o(t.viewFactory),t._viewsRequireLifecycle;if(t.template.querySelector(".au-animate"))return t._viewsRequireLifecycle=!0,!0;for(var e in t.instructions)if(i(t.instructions[e]))return t._viewsRequireLifecycle=!0,!0;return t._viewsRequireLifecycle=!1,!1}Object.defineProperty(e,"__esModule",{value:!0}),e.viewsRequireLifecycle=o;var s=e.lifecycleOptionalBehaviors=["focus","if","repeat","show","with"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayRepeatStrategy=void 0;var r=n(12),i=n(3);e.ArrayRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getArrayObserver(e)},t.prototype.instanceChanged=function(t,e){var n=this,i=e.length;if(!e||0===i)return void t.removeAllViews(!0,!t.viewsRequireLifecycle);var o=t.views(),s=o.length;return 0===s?void this._standardProcessInstanceChanged(t,e):void(t.viewsRequireLifecycle?!function(){for(var a=o.slice(0),u=t.local,c=t.matcher(),l=[],h=[],f=0;f<s;f++){var p=a[f],d=p.bindingContext[u];(0,r.indexOf)(e,d,c)===-1?h.push(p):l.push(d)}var v=void 0,g=void 0;l.length>0?(g=t.removeViews(h,!0,!t.viewsRequireLifecycle),v=function(){for(var s=0;s<i;s++){var a=e[s],u=(0,r.indexOf)(l,a,c,s),h=void 0;if(u===-1){var f=(0,r.createFullOverrideContext)(t,e[s],s,i);t.insertView(s,f.bindingContext,f),l.splice(s,0,void 0)}else u===s?(h=o[u],l[u]=void 0):(h=o[u],t.moveView(u,s),l.splice(u,1),l.splice(s,0,void 0));h&&(0,r.updateOverrideContext)(h.overrideContext,s,i)}n._inPlaceProcessItems(t,e)}):(g=t.removeAllViews(!0,!t.viewsRequireLifecycle),v=function(){return n._standardProcessInstanceChanged(t,e)}),g instanceof Promise?g.then(v):v()}():this._inPlaceProcessItems(t,e))},t.prototype._standardProcessInstanceChanged=function(t,e){for(var n=0,i=e.length;n<i;n++){var o=(0,r.createFullOverrideContext)(t,e[n],n,i);t.addView(o.bindingContext,o)}},t.prototype._inPlaceProcessItems=function(t,e){for(var n=e.length,i=t.viewCount();i>n;)i--,t.removeView(i,!0,!t.viewsRequireLifecycle);for(var o=t.local,s=0;s<i;s++){var a=t.view(s),u=s===n-1,c=0!==s&&!u;a.bindingContext[o]===e[s]&&a.overrideContext.$middle===c&&a.overrideContext.$last===u||(a.bindingContext[o]=e[s],a.overrideContext.$middle=c,a.overrideContext.$last=u,t.updateBindings(a))}for(var l=i;l<n;l++){var h=(0,r.createFullOverrideContext)(t,e[l],l,n);t.addView(h.bindingContext,h)}},t.prototype.instanceMutated=function(t,e,n){var r=this;if(t.__queuedSplices){for(var o=0,s=n.length;o<s;++o){var a=n[o],u=a.index,c=a.removed,l=a.addedCount;(0,i.mergeSplice)(t.__queuedSplices,u,c,l)}return void(t.__array=e.slice(0))}var h=this._runSplices(t,e.slice(0),n);h instanceof Promise&&!function(){var e=t.__queuedSplices=[],n=function n(){if(!e.length)return t.__queuedSplices=void 0,void(t.__array=void 0);var i=r._runSplices(t,t.__array,e)||Promise.resolve();e=t.__queuedSplices=[],i.then(n)};h.then(n)}()},t.prototype._runSplices=function(t,e,n){for(var i=this,o=0,s=[],a=0,u=n.length;a<u;++a){for(var c=n[a],l=c.removed,h=0,f=l.length;h<f;++h){var p=t.removeView(c.index+o+s.length,!0);p instanceof Promise&&s.push(p)}o-=c.addedCount}if(s.length>0)return Promise.all(s).then(function(){var o=i._handleAddedSplices(t,e,n);(0,r.updateOverrideContexts)(t.views(),o)});var d=this._handleAddedSplices(t,e,n);(0,r.updateOverrideContexts)(t.views(),d)},t.prototype._handleAddedSplices=function(t,e,n){for(var i=void 0,o=void 0,s=e.length,a=0,u=n.length;a<u;++a){var c=n[a],l=i=c.index,h=c.index+c.addedCount;for(("undefined"==typeof o||null===o||o>c.index)&&(o=i);l<h;++l){var f=(0,r.createFullOverrideContext)(t,e[l],l,s);t.insertView(l,f.bindingContext,f)}}return o},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingSignaler=void 0;var r=n(3);e.BindingSignaler=function(){function t(){this.signals={}}return t.prototype.signal=function(t){var e=this.signals[t];if(e)for(var n=e.length;n--;)e[n].call(r.sourceContext)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;e.HTMLSanitizer=function(){function t(){}return t.prototype.sanitize=function(t){return t.replace(r,"")},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapRepeatStrategy=void 0;var r=n(12);e.MapRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getMapObserver(e)},t.prototype.instanceChanged=function(t,e){var n=this,r=t.removeAllViews(!0,!t.viewsRequireLifecycle);return r instanceof Promise?void r.then(function(){return n._standardProcessItems(t,e)}):void this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var n=0,i=void 0;e.forEach(function(o,s){i=(0,r.createFullOverrideContext)(t,o,n,e.size,s),t.addView(i.bindingContext,i),++n})},t.prototype.instanceMutated=function(t,e,n){var i=void 0,o=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=[],h=void 0;for(o=0,s=n.length;o<s;++o)switch(c=n[o],i=c.key,c.type){case"update":u=this._getViewIndexByKey(t,i),h=t.removeView(u,!0,!t.viewsRequireLifecycle),h instanceof Promise&&l.push(h),a=(0,r.createFullOverrideContext)(t,e.get(i),u,e.size,i),t.insertView(u,a.bindingContext,a);break;case"add":a=(0,r.createFullOverrideContext)(t,e.get(i),e.size-1,e.size,i),t.insertView(e.size-1,a.bindingContext,a);break;case"delete":if(void 0===c.oldValue)return;u=this._getViewIndexByKey(t,i),h=t.removeView(u,!0,!t.viewsRequireLifecycle),h instanceof Promise&&l.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}l.length>0?Promise.all(l).then(function(){(0,r.updateOverrideContexts)(t.views(),0)}):(0,r.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByKey=function(t,e){var n=void 0,r=void 0,i=void 0;for(n=0,r=t.viewCount();n<r;++n)if(i=t.view(n),i.bindingContext[t.key]===e)return n},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.NullRepeatStrategy=function(){function t(){}return t.prototype.instanceChanged=function(t,e){t.removeAllViews(!0)},t.prototype.getCollectionObserver=function(t,e){},
t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NumberRepeatStrategy=void 0;var r=n(12);e.NumberRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(){return null},t.prototype.instanceChanged=function(t,e){var n=this,r=t.removeAllViews(!0,!t.viewsRequireLifecycle);return r instanceof Promise?void r.then(function(){return n._standardProcessItems(t,e)}):void this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var n=t.viewCount(),i=void 0,o=void 0,s=void 0,a=void 0;if(e=Math.floor(e),a=n-e,a>0)for(a>n&&(a=n),i=0,o=a;i<o;++i)t.removeView(n-(i+1),!0,!t.viewsRequireLifecycle);else{for(i=n,o=e;i<o;++i)s=(0,r.createFullOverrideContext)(t,i,i,o),t.addView(s.bindingContext,s);(0,r.updateOverrideContexts)(t.views(),0)}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RepeatStrategyLocator=void 0;var r=n(53),i=n(49),o=n(52),s=n(56),a=n(54);e.RepeatStrategyLocator=function(){function t(){this.matchers=[],this.strategies=[],this.addStrategy(function(t){return null===t||void 0===t},new r.NullRepeatStrategy),this.addStrategy(function(t){return t instanceof Array},new i.ArrayRepeatStrategy),this.addStrategy(function(t){return t instanceof Map},new o.MapRepeatStrategy),this.addStrategy(function(t){return t instanceof Set},new s.SetRepeatStrategy),this.addStrategy(function(t){return"number"==typeof t},new a.NumberRepeatStrategy)}return t.prototype.addStrategy=function(t,e){this.matchers.push(t),this.strategies.push(e)},t.prototype.getStrategy=function(t){for(var e=this.matchers,n=0,r=e.length;n<r;++n)if(e[n](t))return this.strategies[n];return null},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetRepeatStrategy=void 0;var r=n(12);e.SetRepeatStrategy=function(){function t(){}return t.prototype.getCollectionObserver=function(t,e){return t.getSetObserver(e)},t.prototype.instanceChanged=function(t,e){var n=this,r=t.removeAllViews(!0,!t.viewsRequireLifecycle);return r instanceof Promise?void r.then(function(){return n._standardProcessItems(t,e)}):void this._standardProcessItems(t,e)},t.prototype._standardProcessItems=function(t,e){var n=0,i=void 0;e.forEach(function(o){i=(0,r.createFullOverrideContext)(t,o,n,e.size),t.addView(i.bindingContext,i),++n})},t.prototype.instanceMutated=function(t,e,n){var i=void 0,o=void 0,s=void 0,a=void 0,u=void 0,c=void 0,l=[],h=void 0;for(o=0,s=n.length;o<s;++o)switch(c=n[o],i=c.value,c.type){case"add":a=(0,r.createFullOverrideContext)(t,i,e.size-1,e.size),t.insertView(e.size-1,a.bindingContext,a);break;case"delete":u=this._getViewIndexByValue(t,i),h=t.removeView(u,!0,!t.viewsRequireLifecycle),h instanceof Promise&&l.push(h);break;case"clear":t.removeAllViews(!0,!t.viewsRequireLifecycle);break;default:continue}l.length>0?Promise.all(l).then(function(){(0,r.updateOverrideContexts)(t.views(),0)}):(0,r.updateOverrideContexts)(t.views(),0)},t.prototype._getViewIndexByValue=function(t,e){var n=void 0,r=void 0,i=void 0;for(n=0,r=t.viewCount();n<r;++n)if(i=t.view(n),i.bindingContext[t.local]===e)return n},t}()},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){var n=t,r=void 0,i=void 0;if(n.__useDefault&&(n=n.default),a.Origin.set(n,new a.Origin(e,"default")),"object"===("undefined"==typeof n?"undefined":s(n)))for(r in n)i=n[r],"function"==typeof i&&a.Origin.set(i,new a.Origin(e,r));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.WebpackLoader=e.TextTemplateLoader=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.ensureOriginOnExports=o;var a=n(7),u=n(17),c=n(1),l=e.TextTemplateLoader=function(){function t(){}return t.prototype.loadTemplate=function(t,e){return t.loadText(e.address).then(function(t){e.template=c.DOM.createTemplateFromMarkup(t)})},t}(),h=e.WebpackLoader=function(t){function e(){var e=r(this,t.call(this));e.moduleRegistry=Object.create(null),e.loaderPlugins=Object.create(null),e.useTemplateLoader(new l),e.modulesBeingLoaded=Object.create(null);var i=e;return e.addPlugin("template-registry-entry",{fetch:function(t){var e=i.getOrCreateTemplateRegistryEntry(t);return e.templateIsLoaded?e:i.templateLoader.loadTemplate(i,e).then(function(t){return e})}}),c.PLATFORM.eachModule=function(t){var e=n.c;for(var r in e)if("string"==typeof r){var i=e[r].exports;if("object"===("undefined"==typeof i?"undefined":s(i)))try{if(t(r,i))return}catch(t){}}},e}return i(e,t),e.prototype._getActualResult=function(t,e,n){try{var r="function"==typeof t&&/cb\(__webpack_require__/.test(t.toString());return r?t(function(t){return e(t)}):e(t)}catch(t){n(t)}},e.prototype._import=function(t){var e=this;if(this.modulesBeingLoaded[t])return this.modulesBeingLoaded[t];var r=t.split("!"),i=r.splice(r.length-1,1)[0],o=1===r.length?r[0]:null,s=new Promise(function(t,r){if(o)try{return t(e.loaderPlugins[o].fetch(i))}catch(t){return r(t)}else{try{var s=n(i);return e._getActualResult(s,t,r)}catch(t){delete n.c[i]}n.e(0).then(function(o){var s=n(104)("./"+i);return e._getActualResult(s,t,r)}.bind(null,n)).catch(n.oe)}}).then(function(n){return e.modulesBeingLoaded[t]=void 0,n});return this.modulesBeingLoaded[t]=s,s},e.prototype.map=function(t,e){},e.prototype.normalizeSync=function(t,e){return t},e.prototype.normalize=function(t,e){return Promise.resolve(t)},e.prototype.useTemplateLoader=function(t){this.templateLoader=t},e.prototype.loadAllModules=function(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(this.loadModule(t[n]));return Promise.all(e)},e.prototype.loadModule=function(t){var e=this,n=this.moduleRegistry[t];return n?Promise.resolve(n):this._import(t).then(function(n){return e.moduleRegistry[t]=o(n,t)})},e.prototype.loadTemplate=function(t){return this._import(this.applyPluginToUrl(t,"template-registry-entry"))},e.prototype.loadText=function(t){return this._import(t).then(function(t){return t instanceof Array&&t[0]instanceof Array&&t.hasOwnProperty("toString")?t.toString():t})},e.prototype.applyPluginToUrl=function(t,e){return e+"!"+t},e.prototype.addPlugin=function(t,e){this.loaderPlugins[t]=e},e}(u.Loader);c.PLATFORM.Loader=h},function(t,e,n){"use strict";function r(){function t(){}t.name||Object.defineProperty(Function.prototype,"name",{get:function(){var t=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:t}),t}})}function i(){if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var n=0,r=arguments.length;n<r;++n)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}t.classList.toggle("c3",!1),t.classList.contains("c3")&&!function(){var t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){return 1 in arguments&&!this.contains(e)==!n?n:t.call(this,e)}}(),t=null}else!function(){var t="prototype",e=String.prototype.trim,n=Array.prototype.indexOf,r=[],i=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},o=function(t,e){if(""===e)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(t,e)},s=function(t){for(var n=e.call(t.getAttribute("class")||""),i=n?n.split(/\s+/):r,o=0,s=i.length;o<s;++o)this.push(i[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},a=s[t]=[];i[t]=Error[t],a.item=function(t){return this[t]||null},a.contains=function(t){return t+="",o(this,t)!==-1},a.add=function(){var t=arguments,e=0,n=t.length,r=void 0,i=!1;do r=t[e]+"",o(this,r)===-1&&(this.push(r),i=!0);while(++e<n);i&&this._updateClassName()},a.remove=function(){var t=arguments,e=0,n=t.length,r=void 0,i=!1,s=void 0;do for(r=t[e]+"",s=o(this,r);s!==-1;)this.splice(s,1),i=!0,s=o(this,r);while(++e<n);i&&this._updateClassName()},a.toggle=function(t,e){t+="";var n=this.contains(t),r=n?e!==!0&&"remove":e!==!1&&"add";return r&&this[r](t),e===!0||e===!1?e:!n},a.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new s(this)},enumerable:!0,configurable:!0})}()}function o(){
// @license http://opensource.org/licenses/MIT
"performance"in window==!1&&(window.performance={}),"now"in window.performance==!1&&!function(){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}(),f.performance=window.performance}function s(){if(!window.CustomEvent||"function"!=typeof window.CustomEvent){var t=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};t.prototype=window.Event.prototype,window.CustomEvent=t}}function a(){if(Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}}function u(){function t(t){return"template"===t.tagName&&"http://www.w3.org/2000/svg"===t.namespaceURI}function e(t){var e=t.ownerDocument.createElement("template"),r=t.attributes,i=r.length,o=void 0;for(t.parentNode.insertBefore(e,t);i-- >0;)o=r[i],e.setAttribute(o.name,o.value),t.removeAttribute(o.name);return t.parentNode.removeChild(t),n(e)}function n(t){for(var e=t.content=document.createDocumentFragment(),n=void 0;n=t.firstChild;)e.appendChild(n);return t}function r(r){for(var i=n(r).content,o=i.querySelectorAll("template"),s=0,a=o.length;s<a;++s){var u=o[s];t(u)?e(u):n(u)}return r}p.htmlTemplateElement?p.ensureHTMLTemplateElement=function(t){return t}:p.ensureHTMLTemplateElement=r}function c(){h.isInitialized||(s(),r(),u(),a(),i(),o(),(0,h.initializePAL)(function(t,e,n){Object.assign(t,f),Object.assign(e,p),Object.assign(n,v),function(t){t.console=t.console||{};for(var e=t.console,n=void 0,r=void 0,i={},o=function(){},s="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");n=s.pop();)e[n]||(e[n]=i);for(;r=a.pop();)e[r]||(e[r]=o)}(t.global),t.global.console&&"object"===l(console.log)&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(t){console[t]=this.bind(console[t],console)},Function.prototype.call),Object.defineProperty(n,"title",{get:function(){return document.title},set:function(t){document.title=t}}),Object.defineProperty(n,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(t,"XMLHttpRequest",{get:function(){return t.global.XMLHttpRequest}})}))}Object.defineProperty(e,"__esModule",{value:!0}),e._DOM=e._FEATURE=e._PLATFORM=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e._ensureFunctionName=r,e._ensureClassList=i,e._ensurePerformance=o,e._ensureCustomEvent=s,e._ensureElementMatches=a,e._ensureHTMLTemplateElement=u,e.initialize=c;var h=n(1),f=e._PLATFORM={location:window.location,history:window.history,addEventListener:function(t,e,n){this.global.addEventListener(t,e,n)},removeEventListener:function(t,e,n){this.global.removeEventListener(t,e,n)},performance:window.performance,requestAnimationFrame:function(t){return this.global.requestAnimationFrame(t)}},p=e._FEATURE={};p.shadowDOM=function(){return!!HTMLElement.prototype.attachShadow}(),p.scopedCSS=function(){return"scoped"in document.createElement("style")}(),p.htmlTemplateElement=function(){return"content"in document.createElement("template")}(),p.mutationObserver=function(){return!(!window.MutationObserver&&!window.WebKitMutationObserver)}();var d=window.ShadowDOMPolyfill||null,v=e._DOM={Element:Element,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function(t,e,n){document.addEventListener(t,e,n)},removeEventListener:function(t,e,n){document.removeEventListener(t,e,n)},adoptNode:function(t){return document.adoptNode(t,!0)},createElement:function(t){return document.createElement(t)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},createDocumentFragment:function(){return document.createDocumentFragment()},createMutationObserver:function(t){return new(window.MutationObserver||window.WebKitMutationObserver)(t)},createCustomEvent:function(t,e){return new window.CustomEvent(t,e)},dispatchEvent:function(t){document.dispatchEvent(t)},getComputedStyle:function(t){return window.getComputedStyle(t)},getElementById:function(t){return document.getElementById(t)},querySelectorAll:function(t){return document.querySelectorAll(t)},nextElementSibling:function(t){if(t.nextElementSibling)return t.nextElementSibling;do t=t.nextSibling;while(t&&1!==t.nodeType);return t},createTemplateFromMarkup:function(t){var e=document.createElement("div");e.innerHTML=t;var n=e.firstElementChild;if(!n||"TEMPLATE"!==n.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>");return p.ensureHTMLTemplateElement(n)},appendNode:function(t,e){(e||document.body).appendChild(t)},replaceNode:function(t,e,n){e.parentNode?e.parentNode.replaceChild(t,e):null!==d?d.unwrap(n).replaceChild(d.unwrap(t),d.unwrap(e)):n.replaceChild(t,e)},removeNode:function(t,e){t.parentNode?t.parentNode.removeChild(t):e&&(null!==d?d.unwrap(e).removeChild(d.unwrap(t)):e.removeChild(t))},injectStyles:function(t,e,n){var r=document.createElement("style");return r.innerHTML=t,r.type="text/css",e=e||document.head,n&&e.childNodes.length>0?e.insertBefore(r,e.childNodes[0]):e.appendChild(r),r}}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=n(1);!function(t,e){if(!(e in t)){var n,r=i.PLATFORM.global,o=0,s=""+Math.random(),a="__symbol:",u=a.length,c="__symbol@@"+s,l="defineProperty",h="defineProperties",f="getOwnPropertyNames",p="getOwnPropertyDescriptor",d="propertyIsEnumerable",v=t[f],g=t[p],y=t.create,m=t.keys,b=t[l],w=t[h],x=g(t,f),k=t.prototype,S=k.hasOwnProperty,C=k[d],A=k.toString,E=(Array.prototype.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},function(t,e,n){S.call(t,c)||b(t,c,{enumerable:!1,configurable:!1,writable:!1,value:{}}),t[c]["@@"+e]=n}),T=function(t,e){var n=y(t);return v(e).forEach(function(t){M.call(e,t)&&F(n,t,e[t])}),n},O=function(t){var e=y(t);return e.enumerable=!1,e},_=function(){},R=function(t){return t!=c&&!S.call(j,t)},P=function(t){return t!=c&&S.call(j,t)},M=function(t){var e=""+t;return P(e)?S.call(this,e)&&this[c]["@@"+e]:C.call(this,t)},I=function(e){var r={enumerable:!1,configurable:!0,get:_,set:function(t){n(this,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),E(this,e,!0)}};return b(k,e,r),j[e]=b(t(e),"constructor",L)},N=function(t){if(this&&this!==r)throw new TypeError("Symbol is not a constructor");return I(a.concat(t||"",s,++o))},j=y(null),L={value:N},V=function(t){return j[t]},F=function(t,e,r){var i=""+e;return P(i)?(n(t,i,r.enumerable?O(r):r),E(t,i,!!r.enumerable)):b(t,e,r),t},D=function(e){var n=A.call(e);return e="[object String]"===n?e.split(""):t(e),v(e).filter(P).map(V)};x.value=F,b(t,l,x),x.value=D,b(t,e,x),x.value=function(t){return v(t).filter(R)},b(t,f,x),x.value=function(t,e){var n=D(e);return n.length?m(e).concat(n).forEach(function(n){M.call(e,n)&&F(t,n,e[n])}):w(t,e),t},b(t,h,x),x.value=M,b(k,d,x),x.value=N,b(r,"Symbol",x),x.value=function(t){var e=a.concat(a,t,s);return e in k?j[e]:I(e)},b(N,"for",x),x.value=function(t){return S.call(j,t)?t.slice(2*u,-s.length):void 0},b(N,"keyFor",x),x.value=function(t,e){var n=g(t,e);return n&&P(e)&&(n.enumerable=M.call(t,e)),n},b(t,p,x),x.value=function(t,e){return 1===arguments.length?y(t):T(t,e)},b(t,"create",x),x.value=function(){var t=A.call(this);return"[object String]"===t&&P(this)?"[object Symbol]":t},b(k,"toString",x);try{n=y(b({},a,{get:function(){return b(this,a,{value:!1})[a]}}))[a]||b}catch(t){n=function(t,e,n){var r=g(k,e);delete k[e],b(t,e,n),b(k,e,r)}}}}(Object,"getOwnPropertySymbols"),function(t,e){var n,r=t.defineProperty,i=t.prototype,o=i.toString,s="toStringTag";["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",s].forEach(function(e){if(!(e in Symbol))switch(r(Symbol,e,{value:Symbol(e)}),e){case s:n=t.getOwnPropertyDescriptor(i,"toString"),n.value=function(){var t=o.call(this),e="undefined"==typeof this||null===this?void 0:this[Symbol.toStringTag];return"undefined"==typeof e?t:"[object "+e+"]"},r(i,"toString",n)}})}(Object,Symbol),function(t,e,n){function r(){return this}e[t]||(e[t]=function(){var e=0,n=this,i={next:function(){var t=n.length<=e;return t?{done:t}:{done:t,value:n[e++]}}};return i[t]=r,i}),n[t]||(n[t]=function(){var e=String.fromCodePoint,n=this,i=0,o=n.length,s={next:function(){var t=o<=i,r=t?"":e(n.codePointAt(i));return i+=r.length,t?{done:t}:{done:t,value:r}}};return s[t]=r,s})}(Symbol.iterator,Array.prototype,String.prototype),Number.isNaN=Number.isNaN||function(t){return t!==t},Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(t){return!0}}()||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return r!==-1&&r===e}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(t){return!0}}()||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),Array.from||(Array.from=function(){var t=function(t){return isNaN(t=+t)?0:(t>0?Math.floor:Math.ceil)(t)},e=function(e){return e>0?Math.min(t(e),9007199254740991):0},n=function(t,e,n,r){try{return e(n,r)}catch(e){throw"function"==typeof t.return&&t.return(),e}};return function(t){var r,i,o,s,a=Object(t),u="function"==typeof this?this:Array,c=arguments.length,l=c>1?arguments[1]:void 0,h=void 0!==l,f=0,p=a[Symbol.iterator];if(h&&(l=l.bind(c>2?arguments[2]:void 0)),void 0==p||Array.isArray(t))for(r=e(a.length),i=new u(r);r>f;f++)i[f]=h?l(a[f],f):a[f];else for(s=p.call(a),i=new u;!(o=s.next()).done;f++)i[f]=h?n(s,l,o.value,f):o.value;return i.length=f,i}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function t(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function t(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return o;return-1}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(t){var e=Object(this),n=parseInt(e.length)||0;if(0===n)return!1;var r,i=parseInt(arguments[1])||0;i>=0?r=i:(r=n+i,r<0&&(r=0));for(var o;r<n;){if(o=e[r],t===o||t!==t&&o!==o)return!0;r++}return!1}}),function(){var t=!1;try{var e=Object.keys("a");t=1!==e.length||"0"!==e[0]}catch(e){t=!0}t&&(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(void 0===i||null===i)throw TypeError("Cannot convert undefined or null to object");i=Object(i);var o,s,a=[];for(o in i)t.call(i,o)&&a.push(o);if(e)for(s=0;s<r;s++)t.call(i,n[s])&&a.push(n[s]);return a}}())}(),function(t){"assign"in t||t.defineProperty(t,"assign",{configurable:!0,writable:!0,value:function(){var e=t.getOwnPropertySymbols,n=t.propertyIsEnumerable,r=e?function(t){return e(t).filter(n,t)}:function(){return Array.prototype};return function(n){function i(t){n[t]=a[t]}!e||n instanceof t||console.warn("problematic Symbols",n);for(var o=1,s=arguments.length;o<s;++o){var a=arguments[o];null!==a&&void 0!==a&&t.keys(a).concat(r(a)).forEach(i)}return n}}()})}(Object),function(t){function e(t,e){function r(t){return this&&this.constructor===r?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&n.call(this,t))):new r(t)}return e||b(t,"size",{get:g}),t.constructor=r,r.prototype=t,r}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function r(t){return this.has(t)&&(this._keys.splice(m,1),this._values.splice(m,1),this._itp.forEach(function(t){m<t[0]&&t[0]--})),-1<m}function i(t){return this.has(t)?this._values[m]:void 0}function o(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(m=t.length;m--&&!w(t[m],e););else m=t.indexOf(e);return-1<m}function s(t){return o.call(this,this._values,t)}function a(t){return o.call(this,this._keys,t)}function u(t,e){return this.has(t)?this._values[m]=e:this._values[this._keys.push(t)-1]=e,this}function c(t){return this.has(t)||this._values.push(t),this}function l(){(this._keys||0).length=this._values.length=0}function h(){return v(this._itp,this._keys)}function f(){return v(this._itp,this._values)}function p(){return v(this._itp,this._keys,this._values)}function d(){return v(this._itp,this._values,this._values)}function v(t,e,n){var r,i=[0],o=!1;return t.push(i),r={},r[Symbol.iterator]=function(){return this},r.next=function(){var r,s=i[0];return!o&&s<e.length?(r=n?[e[s],n[s]]:e[s],i[0]++):(o=!0,t.splice(t.indexOf(i),1)),{done:o,value:r}},r}function g(){return this._values.length}function y(t,e){for(var n=this.entries();;){var r=n.next();if(r.done)break;t.call(e,r.value[1],r.value[0],this)}}var m,b=Object.defineProperty,w=function(t,e){return t===e||t!==t&&e!==e};if("undefined"==typeof WeakMap&&(t.WeakMap=e({delete:r,clear:l,get:i,has:a,set:u},!0)),"undefined"==typeof Map||"function"!=typeof(new Map).values||!(new Map).values().next){var x;t.Map=e((x={delete:r,has:a,get:i,set:u,keys:h,values:f,entries:p,forEach:y,clear:l},x[Symbol.iterator]=p,x))}if("undefined"==typeof Set||"function"!=typeof(new Set).values||!(new Set).values().next){var k;t.Set=e((k={has:s,add:c,delete:r,clear:l,keys:f,values:f,entries:d,forEach:y},k[Symbol.iterator]=f,k))}"undefined"==typeof WeakSet&&(t.WeakSet=e({delete:r,add:c,clear:l,has:s},!0))}(i.PLATFORM.global);var o=Object.freeze({}),s="__metadata__",a=Function.prototype.bind;"undefined"==typeof i.PLATFORM.global.Reflect&&(i.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(t,e,n){if(e.hasOwnProperty(s))return(e[s][n]||o)[t]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(t,e,n,r){var i=n.hasOwnProperty(s)?n[s]:n[s]={},o=i[r]||(i[r]={});o[t]=e}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(t,e){return function(n,r){Reflect.defineMetadata(t,e,n,r)}}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(t,e,n){if("object"===("undefined"==typeof t?"undefined":r(t))?null===t:"function"!=typeof t)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(t,e,n),!0}catch(t){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(t,e){if(e)switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(a.apply(t,n))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))})},function(t,e,n){"use strict";function r(t,e,n,r){var i=t;"/"===t.charAt(0)&&(i=t.substr(1));for(var o=[],s=i.split("/"),a=0,u=s.length;a<u;++a){var c=s[a],l=c.match(/^:([^?]+)(\?)?$/);if(l){var h=l,g=h[1],y=h[2];if(g.indexOf("=")!==-1)throw new Error("Parameter "+g+" in route "+t+" has a default value, which is not supported.");o.push(new p(g,!!y)),e.push(g),n.dynamics++}else l=c.match(/^\*(.+)$/),l?(o.push(new d(l[1])),e.push(l[1]),n.stars++):""===c?o.push(new v):(o.push(new f(c,r)),n.statics++)}return o}function i(t){return t.sort(function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0})}function o(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];n.push.apply(n,o.match(e))}for(var s=n.filter(function(t){return t.epsilon}),a=function(){var t=[];s.forEach(function(e){n.push.apply(n,e.epsilon),t.push.apply(t,e.epsilon)}),s=t.filter(function(t){return t.epsilon})};s.length>0;)a();return n}function s(t,e,n){for(var r=t.handlers,i=t.regex,o=e.match(i),s=1,a=new g(n),u=0,c=r.length;u<c;u++){for(var l=r[u],h=l.names,f={},p=0,d=h.length;p<d;p++)f[h[p]]=o[s++];a.push({handler:l.handler,params:f,isDynamic:!!h.length})}return a}function a(t,e){var n=t.put({validChars:"/"});return e.eachChar(function(t){n=n.put(t)}),e.optional&&(t.epsilon=t.epsilon||[],t.epsilon.push(n)),n}Object.defineProperty(e,"__esModule",{value:!0}),e.RouteRecognizer=e.EpsilonSegment=e.StarSegment=e.DynamicSegment=e.StaticSegment=e.State=void 0;var u=n(9),c=e.State=function(){function t(t){this.charSpec=t,this.nextStates=[]}return t.prototype.get=function(t){for(var e=this.nextStates,n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{if(r=e.next(),r.done)break;i=r.value}var o=i,s=o.charSpec.validChars===t.validChars&&o.charSpec.invalidChars===t.invalidChars;if(s)return o}},t.prototype.put=function(e){var n=this.get(e);return n?n:(n=new t(e),this.nextStates.push(n),e.repeat&&n.nextStates.push(n),n)},t.prototype.match=function(t){for(var e=this.nextStates,n=[],r=0,i=e.length;r<i;r++){var o=e[r],s=o.charSpec;void 0!==s.validChars?s.validChars.indexOf(t)!==-1&&n.push(o):void 0!==s.invalidChars&&s.invalidChars.indexOf(t)===-1&&n.push(o)}return n},t}(),l=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],h=new RegExp("(\\"+l.join("|\\")+")","g"),f=e.StaticSegment=function(){function t(t,e){this.string=t,this.caseSensitive=e}return t.prototype.eachChar=function(t){for(var e=this.string,n=0,r=e.length;n<r;++n){var i=e[n];t({validChars:this.caseSensitive?i:i.toUpperCase()+i.toLowerCase()})}},t.prototype.regex=function(){return this.string.replace(h,"\\$1")},t.prototype.generate=function(){return this.string},t}(),p=e.DynamicSegment=function(){function t(t,e){this.name=t,this.optional=e}return t.prototype.eachChar=function(t){t({invalidChars:"/",repeat:!0})},t.prototype.regex=function(){return this.optional?"([^/]+)?":"([^/]+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),d=e.StarSegment=function(){function t(t){this.name=t}return t.prototype.eachChar=function(t){t({invalidChars:"",repeat:!0})},t.prototype.regex=function(){return"(.+)"},t.prototype.generate=function(t,e){return e[this.name]=!0,t[this.name]},t}(),v=e.EpsilonSegment=function(){function t(){}return t.prototype.eachChar=function(){},t.prototype.regex=function(){return""},t.prototype.generate=function(){return""},t}(),g=(e.RouteRecognizer=function(){function t(){this.rootState=new c,this.names={}}return t.prototype.add=function(t){var e=this;if(Array.isArray(t))return void t.forEach(function(t){return e.add(t)});for(var n=this.rootState,i="^",o={statics:0,dynamics:0,stars:0},s=[],u=t.handler.name,c=!0,l=!0,h=r(t.path,s,o,t.caseSensitive),f=0,p=h.length;f<p;f++){var d=h[f];d instanceof v||(c=!1,l=l&&d.optional,n=a(n,d),i+=d.optional?"/?":"/",i+=d.regex())}if(l)if(c)n=n.put({validChars:"/"}),i+="/";else{var g=this.rootState.put({validChars:"/"});n.epsilon=[g],n=g}var y=[{handler:t.handler,names:s}];if(u)for(var m=Array.isArray(u)?u:[u],b=0;b<m.length;b++)this.names[m[b]]={segments:h,handlers:y};return n.handlers=y,n.regex=new RegExp(i+"$",t.caseSensitive?"":"i"),n.types=o,n},t.prototype.handlersFor=function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);return[].concat(e.handlers)},t.prototype.hasRoute=function(t){return!!this.names[t]},t.prototype.generate=function(t,e){var n=this.names[t];if(!n)throw new Error("There is no route named "+t);var r=n.handlers[0].handler;if(r.generationUsesHref)return r.href;for(var i=Object.assign({},e),o=n.segments,s={},a="",c=0,l=o.length;c<l;c++){var h=o[c];if(!(h instanceof v)){var f=h.generate(i,s);if(null===f||void 0===f){if(!h.optional)throw new Error("A value is required for route parameter '"+h.name+"' in route '"+t+"'.")}else a+="/",a+=f}}"/"!==a.charAt(0)&&(a="/"+a);for(var p in s)delete i[p];var d=(0,u.buildQueryString)(i);return a+=d?"?"+d:""},t.prototype.recognize=function(t){var e=[this.rootState],n={},r=!1,a=t,c=a.indexOf("?");if(c!==-1){var l=a.substr(c+1,a.length);a=a.substr(0,c),n=(0,u.parseQueryString)(l)}a=decodeURI(a),"/"!==a.charAt(0)&&(a="/"+a);var h=a.length;h>1&&"/"===a.charAt(h-1)&&(a=a.substr(0,h-1),r=!0);for(var f=0,p=a.length;f<p&&(e=o(e,a.charAt(f)),e.length);f++);for(var d=[],v=0,g=e.length;v<g;v++)e[v].handlers&&d.push(e[v]);e=i(d);var y=d[0];if(y&&y.handlers)return r&&"(.+)$"===y.regex.source.slice(-5)&&(a+="/"),s(y,a,n)},t}(),function(t){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=t||{}})},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if("string"!=typeof e)throw new Error("Failed loading required CSS file: "+t);return e.replace(h,function(e,n){var r=n.charAt(0);return"'"!==r&&'"'!==r||(n=n.substr(1,n.length-2)),"url('"+(0,c.relativeToFile)(n,t)+"')"})}function s(t){var e,n,o=(e=(0,a.resource)(new f(t)),e(n=function(t){function e(){return r(this,t.apply(this,arguments))}return i(e,t),e}(p))||n);return o}Object.defineProperty(e,"__esModule",{value:!0}),e._createCSSResource=s;var a=n(2),u=n(17),c=(n(4),n(9)),l=n(1),h=/url\((?!['"]data)([^)]+)\)/gi,f=function(){function t(t){this.address=t,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return t.prototype.initialize=function(t,e){this._scoped=new e(this)},t.prototype.register=function(t,e){"scoped"===e?t.registerViewEngineHooks(this._scoped):this._global=!0},t.prototype.load=function(t){var e=this;return t.get(u.Loader).loadText(this.address).catch(function(t){return null}).then(function(t){t=o(e.address,t),e._scoped.css=t,e._global&&(e._alreadyGloballyInjected=!0,l.DOM.injectStyles(t))})},t}(),p=function(){function t(t){this.owner=t,this.css=null}return t.prototype.beforeCompile=function(t,e,n){if(n.targetShadowDOM)l.DOM.injectStyles(this.css,t,!0);else if(l.FEATURE.scopedCSS){var r=l.DOM.injectStyles(this.css,t,!0);r.setAttribute("scoped","scoped")}else this.owner._alreadyGloballyInjected||(l.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},t}()},function(t,e,n){"use strict";function r(t,e,n){for(var r,o,s,a=(r=(0,i.customElement)(t),o=(0,i.useView)(e),r(s=o(s=function(){function t(){}return t.prototype.bind=function(t){this.$parent=t},t}())||s)||s),u=0,c=n.length;u<c;++u)(0,i.bindable)(n[u])(a);return a}Object.defineProperty(e,"__esModule",{value:!0}),e._createDynamicElement=r;var i=n(2)},function(t,e,n){"use strict";function r(t){return/([^\/^\?]+)\.html/i.exec(t)[1].toLowerCase()}function i(t){var e=t.container.get(o.ViewEngine),n=t.aurelia.loader;e.addResourcePlugin(".html",{fetch:function(t){return n.loadTemplate(t).then(function(e){var n,i=e.template.getAttribute("bindable"),o=r(t);return i?(i=i.split(",").map(function(t){return t.trim()}),e.template.removeAttribute("bindable")):i=[],n={},n[o]=(0,s._createDynamicElement)(o,t,i),n})}})}Object.defineProperty(e,"__esModule",{value:!0}),e.getElementName=r,e.configure=i;var o=n(2),s=n(62)},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TemplatingRouteLoader=void 0;var o,s,a=n(4),u=n(2),c=n(5),l=n(9),h=n(7);e.TemplatingRouteLoader=(o=(0,a.inject)(u.CompositionEngine),o(s=function(t){function e(e){var n=r(this,t.call(this));return n.compositionEngine=e,n}return i(e,t),e.prototype.loadRoute=function(t,e){var n=t.container.createChild(),r={viewModel:(0,l.relativeToFile)(e.moduleId,h.Origin.get(t.container.viewModel.constructor).moduleId),childContainer:n,view:e.view||e.viewStrategy,router:t};return n.getChildRouter=function(){var e=void 0;return n.registerHandler(c.Router,function(r){return e||(e=t.createChild(n))}),n.get(c.Router)},this.compositionEngine.ensureViewModel(r)},e}(c.RouteLoader))||s)},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(e){var r=n(14);(function(){/*! @license Firebase v3.6.8
    Build: 3.6.8-rc.1
    Terms: https://firebase.google.com/terms/ */
(function(){var t,e=e||{},n=this,i=function(){},o=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},s=function(t){return null===t},a=function(t){return"array"==o(t)},u=function(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length},c=function(t){return"string"==typeof t},l=function(t){return"number"==typeof t},h=function(t){return"function"==o(t)},f=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},p=function(t,e,n){return t.call.apply(t.bind,arguments)},d=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},v=function(t,e,n){return v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:d,v.apply(null,arguments)},g=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},y=Date.now||function(){return+new Date},m=function(t,e){function n(){}n.prototype=e.prototype,t.hd=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Bf=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}},b=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};m(b,Error),b.prototype.name="CustomError";var w=function(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},x=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},k=/&/g,S=/</g,C=/>/g,A=/"/g,E=/'/g,T=/\x00/g,O=/[\x00&<>"']/,_=function(t,e){return-1!=t.indexOf(e)},R=function(t,e){return t<e?-1:t>e?1:0},P=function(t,e){e.unshift(t),b.call(this,w.apply(null,e)),e.shift()};m(P,b),P.prototype.name="AssertionError";var M,I=function(t,e,n,r){var i="Assertion failed";if(n)var i=i+(": "+n),o=r;else t&&(i+=": "+t,o=e);throw new P(""+i,o||[])},N=function(t,e,n){t||I("",null,e,Array.prototype.slice.call(arguments,2))},j=function(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},L=function(t,e,n){return l(t)||I("Expected number but got %s: %s.",[o(t),t],e,Array.prototype.slice.call(arguments,2)),t},V=function(t,e,n){c(t)||I("Expected string but got %s: %s.",[o(t),t],e,Array.prototype.slice.call(arguments,2))},F=function(t,e,n){h(t)||I("Expected function but got %s: %s.",[o(t),t],e,Array.prototype.slice.call(arguments,2))},D=Array.prototype.indexOf?function(t,e,n){return N(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,c(t))return c(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){N(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=c(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},q=function(t,e){for(var n=c(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)},U=Array.prototype.map?function(t,e,n){return N(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=c(t)?t.split(""):t,s=0;s<r;s++)s in o&&(i[s]=e.call(n,o[s],s,t));return i},H=Array.prototype.some?function(t,e,n){return N(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=c(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&e.call(n,i[o],o,t))return!0;return!1},z=function(t){var e;t:{e=Pr;for(var n=t.length,r=c(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:c(t)?t.charAt(e):t[e]},W=function(t,e){return 0<=D(t,e)},K=function(t,e){e=D(t,e);var n;return(n=0<=e)&&G(t,e),n},G=function(t,e){return N(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},X=function(t,e){var n=0;q(t,function(r,i){e.call(void 0,r,i,t)&&G(t,i)&&n++})},Q=function(t){return Array.prototype.concat.apply(Array.prototype,arguments)},$=function(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]},J=function(t,e){for(var n in t)e.call(void 0,t[n],n,t)},Y=function(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n},Z=function(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n},tt=function(t){for(var e in t)return!1;return!0},et=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},nt=function(t){var e,n={};for(e in t)n[e]=t[e];return n},rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),it=function(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<rt.length;o++)n=rt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}};t:{var ot=n.navigator;if(ot){var st=ot.userAgent;if(st){M=st;break t}}M=""}var at=function(t){return _(M,t)},ut=function(t){return ut[" "](t),t};ut[" "]=i;var ct,lt=function(t,e){var n=St;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},ht=at("Opera"),ft=at("Trident")||at("MSIE"),pt=at("Edge"),dt=pt||ft,vt=at("Gecko")&&!(_(M.toLowerCase(),"webkit")&&!at("Edge"))&&!(at("Trident")||at("MSIE"))&&!at("Edge"),gt=_(M.toLowerCase(),"webkit")&&!at("Edge"),yt=function(){var t=n.document;return t?t.documentMode:void 0};t:{var mt="",bt=function(){var t=M;return vt?/rv\:([^\);]+)(\)|;)/.exec(t):pt?/Edge\/([\d\.]+)/.exec(t):ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):gt?/WebKit\/(\S+)/.exec(t):ht?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(bt&&(mt=bt?bt[1]:""),ft){var wt=yt();if(null!=wt&&wt>parseFloat(mt)){ct=String(wt);break t}}ct=mt}var xt,kt=ct,St={},Ct=function(t){return lt(t,function(){for(var e=0,n=x(String(kt)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=R(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==s[2].length,0==a[2].length)||R(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})},At=n.document;xt=At&&ft?yt()||("CSS1Compat"==At.compatMode?parseInt(kt,10):5):void 0;var Et,Tt=function(t){return U(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")},Ot=null,_t=null,Rt=function(t){var e="";return Pt(t,function(t){e+=String.fromCharCode(t)}),e},Pt=function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=_t[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Mt();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}},Mt=function(){if(!Ot){Ot={},_t={};for(var t=0;65>t;t++)Ot[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),_t[Ot[t]]=t,62<=t&&(_t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}},It=function(){this.ya=-1},Nt=function(t,e){this.ya=64,this.Qb=n.Uint8Array?new Uint8Array(this.ya):Array(this.ya),this.vc=this.Va=0,this.h=[],this.Ze=t,this.Bd=e,this.xf=n.Int32Array?new Int32Array(64):Array(64),void 0!==Et||(Et=n.Int32Array?new Int32Array(Dt):Dt),this.reset()};m(Nt,It);for(var jt=[],Lt=0;63>Lt;Lt++)jt[Lt]=0;var Vt=Q(128,jt);Nt.prototype.reset=function(){this.vc=this.Va=0,this.h=n.Int32Array?new Int32Array(this.Bd):$(this.Bd)};var Ft=function(t){var e=t.Qb;N(e.length==t.ya);for(var n=t.xf,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var i=0|n[e-15],r=0|n[e-2],o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}for(var r=0|t.h[0],i=0|t.h[1],a=0|t.h[2],u=0|t.h[3],c=0|t.h[4],l=0|t.h[5],h=0|t.h[6],o=0|t.h[7],e=0;64>e;e++)var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0,s=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,s=s+(0|Et[e])|0,s=o+(s+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0;t.h[0]=t.h[0]+r|0,t.h[1]=t.h[1]+i|0,t.h[2]=t.h[2]+a|0,t.h[3]=t.h[3]+u|0,t.h[4]=t.h[4]+c|0,t.h[5]=t.h[5]+l|0,t.h[6]=t.h[6]+h|0,t.h[7]=t.h[7]+o|0};Nt.prototype.update=function(t,e){void 0===e&&(e=t.length);var n=0,r=this.Va;if(c(t))for(;n<e;)this.Qb[r++]=t.charCodeAt(n++),r==this.ya&&(Ft(this),r=0);else{if(!u(t))throw Error("message must be string or array");for(;n<e;){var i=t[n++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");this.Qb[r++]=i,r==this.ya&&(Ft(this),r=0)}}this.Va=r,this.vc+=e},Nt.prototype.digest=function(){var t=[],e=8*this.vc;56>this.Va?this.update(Vt,56-this.Va):this.update(Vt,this.ya-(this.Va-56));for(var n=63;56<=n;n--)this.Qb[n]=255&e,e/=256;for(Ft(this),n=e=0;n<this.Ze;n++)for(var r=24;0<=r;r-=8)t[e++]=this.h[n]>>r&255;return t};var Dt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Bt=function(){Nt.call(this,8,qt)};m(Bt,Nt);var qt=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Ut=!ft||9<=Number(xt),Ht=ft&&!Ct("9");!gt||Ct("528"),vt&&Ct("1.9b")||ft&&Ct("8")||ht&&Ct("9.5")||gt&&Ct("528"),vt&&!Ct("8")||ft&&Ct("9");var zt=function(){this.Aa=this.Aa,this.gc=this.gc};zt.prototype.Aa=!1,zt.prototype.isDisposed=function(){return this.Aa},zt.prototype.Ra=function(){if(this.gc)for(;this.gc.length;)this.gc.shift()()};var Wt=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.$a=!1,this.Md=!0};Wt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Md=!1};var Kt=function(t,e){Wt.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pb=this.state=null,t&&this.init(t,e)};m(Kt,Wt),Kt.prototype.init=function(t,e){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(vt){var i;t:{try{ut(e.nodeName),i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.offsetX=gt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=gt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.pb=t,t.defaultPrevented&&this.preventDefault()},Kt.prototype.preventDefault=function(){Kt.hd.preventDefault.call(this);var t=this.pb;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ht)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Kt.prototype.Be=function(){return this.pb};var Gt="closure_listenable_"+(1e6*Math.random()|0),Xt=0,Qt=function(t,e,n,r,i){this.listener=t,this.lc=null,this.src=e,this.type=n,this.capture=!!r,this.Yb=i,this.key=++Xt,this.gb=this.Pb=!1},$t=function(t){t.gb=!0,t.listener=null,t.lc=null,t.src=null,t.Yb=null},Jt=function(t){this.src=t,this.C={},this.Lb=0};Jt.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.C[o],t||(t=this.C[o]=[],this.Lb++);var s=Zt(t,e,r,i);return-1<s?(e=t[s],n||(e.Pb=!1)):(e=new Qt(e,this.src,o,!!r,i),e.Pb=n,t.push(e)),e},Jt.prototype.remove=function(t,e,n,r){if(t=t.toString(),!(t in this.C))return!1;var i=this.C[t];return e=Zt(i,e,n,r),-1<e&&($t(i[e]),G(i,e),0==i.length&&(delete this.C[t],this.Lb--),!0)};var Yt=function(t,e){var n=e.type;n in t.C&&K(t.C[n],e)&&($t(e),0==t.C[n].length&&(delete t.C[n],t.Lb--))};Jt.prototype.Kc=function(t,e,n,r){t=this.C[t.toString()];var i=-1;return t&&(i=Zt(t,e,n,r)),-1<i?t[i]:null};var Zt=function(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.gb&&o.listener==e&&o.capture==!!n&&o.Yb==r)return i}return-1},te="closure_lm_"+(1e6*Math.random()|0),ee={},ne=0,re=function(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)re(t,e[o],n,r,i);else n=ve(n),t&&t[Gt]?t.listen(e,n,r,i):ie(t,e,n,!1,r,i)},ie=function(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=!!i,a=pe(t);if(a||(t[te]=a=new Jt(t)),n=a.add(e,n,r,i,o),!n.lc){if(r=oe(),n.lc=r,r.src=t,r.listener=n,t.addEventListener)t.addEventListener(e.toString(),r,s);else{if(!t.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");t.attachEvent(ce(e.toString()),r)}ne++}},oe=function(){var t=fe,e=Ut?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e},se=function(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)se(t,e[o],n,r,i);else n=ve(n),t&&t[Gt]?Yn(t,e,n,r,i):ie(t,e,n,!0,r,i)},ae=function(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)ae(t,e[o],n,r,i);else n=ve(n),t&&t[Gt]?t.aa.remove(String(e),n,r,i):t&&(t=pe(t))&&(e=t.Kc(e,n,!!r,i))&&ue(e)},ue=function(t){if(!l(t)&&t&&!t.gb){var e=t.src;if(e&&e[Gt])Yt(e.aa,t);else{var n=t.type,r=t.lc;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent&&e.detachEvent(ce(n),r),ne--,(n=pe(e))?(Yt(n,t),0==n.Lb&&(n.src=null,e[te]=null)):$t(t)}}},ce=function(t){return t in ee?ee[t]:ee[t]="on"+t},le=function(t,e,n,r){var i=!0;if((t=pe(t))&&(e=t.C[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.gb&&(o=he(o,r),i=i&&!1!==o)}return i},he=function(t,e){var n=t.listener,r=t.Yb||t.src;return t.Pb&&ue(t),n.call(r,e)},fe=function(t,e){if(t.gb)return!0;if(!Ut){if(!e)t:{e=["window","event"];for(var r,i=n;r=e.shift();){if(null==i[r]){e=null;break t}i=i[r]}e=i}if(r=e,e=new Kt(r,this),i=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.currentTarget;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;!e.$a&&0<=o;o--){e.currentTarget=r[o];var s=le(r[o],t,!0,e),i=i&&s}for(o=0;!e.$a&&o<r.length;o++)e.currentTarget=r[o],s=le(r[o],t,!1,e),i=i&&s}return i}return he(t,new Kt(e,this))},pe=function(t){return t=t[te],t instanceof Jt?t:null},de="__closure_events_fn_"+(1e9*Math.random()>>>0),ve=function(t){return N(t,"Listener can not be null."),h(t)?t:(N(t.handleEvent,"An object listener must have handleEvent method."),t[de]||(t[de]=function(e){return t.handleEvent(e)}),t[de])},ge=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,ye=function(){this.sc="",this.he=be};ye.prototype.bc=!0,ye.prototype.Wb=function(){return this.sc},ye.prototype.toString=function(){return"Const{"+this.sc+"}"};var me=function(t){return t instanceof ye&&t.constructor===ye&&t.he===be?t.sc:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")},be={},we=function(t){var e=new ye;return e.sc=t,e};we("");var xe=function(){this.jc="",this.ie=ke};xe.prototype.bc=!0,xe.prototype.Wb=function(){return this.jc},xe.prototype.toString=function(){return"TrustedResourceUrl{"+this.jc+"}"};var ke={},Se=function(){this.ma="",this.ge=Te};Se.prototype.bc=!0,Se.prototype.Wb=function(){return this.ma},Se.prototype.toString=function(){return"SafeUrl{"+this.ma+"}"};var Ce=function(t){return t instanceof Se&&t.constructor===Se&&t.ge===Te?t.ma:(j("expected object of type SafeUrl, got '"+t+"' of type "+o(t)),"type_error:SafeUrl")},Ae=/^(?:(?:https?|mailto|ftp):|[^&:\/?#]*(?:[\/?#]|$))/i,Ee=function(t){return t instanceof Se?t:(t=t.bc?t.Wb():String(t),Ae.test(t)||(t="about:invalid#zClosurez"),Oe(t))},Te={},Oe=function(t){var e=new Se;return e.ma=t,e};Oe("about:blank");var _e=function(t){var e=[];return Pe(new Re,t,e),e.join("")},Re=function(){this.nc=void 0},Pe=function(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),i=r[o],Pe(t,t.nc?t.nc.call(r,String(o),i):i,n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),o="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i=e[r],"function"!=typeof i&&(n.push(o),Ne(r,n),n.push(":"),Pe(t,t.nc?t.nc.call(e,r,i):i,n),o=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ne(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}},Me={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ie=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ne=function(t,e){e.push('"',t.replace(Ie,function(t){var e=Me[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Me[t]=e),e}),'"')},je=function(){};je.prototype.ld=null;var Le,Ve=function(t){return t.ld||(t.ld=t.Pc())},Fe=function(){};m(Fe,je),Fe.prototype.Rb=function(){var t=De(this);return t?new ActiveXObject(t):new XMLHttpRequest},Fe.prototype.Pc=function(){var t={};return De(this)&&(t[0]=!0,t[1]=!0),t};var De=function(t){if(!t.Ad&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.Ad=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.Ad};Le=new Fe;var Be=function(){};m(Be,je),Be.prototype.Rb=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new qe;throw Error("Unsupported browser")},Be.prototype.Pc=function(){return{}};var qe=function(){this.pa=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.pa.onload=v(this.Ee,this),this.pa.onerror=v(this.xd,this),this.pa.onprogress=v(this.Fe,this),this.pa.ontimeout=v(this.Ge,this)};t=qe.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.pa.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.pa.send(t)}else this.pa.send()},t.abort=function(){this.pa.abort()},t.setRequestHeader=function(){},t.Ee=function(){this.status=200,this.responseText=this.pa.responseText,Ue(this,4)},t.xd=function(){this.status=500,this.responseText="",Ue(this,4)},t.Ge=function(){this.xd()},t.Fe=function(){this.status=200,Ue(this,1)};var Ue=function(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()},He=function(){this.ma="",this.fe=We};He.prototype.bc=!0,He.prototype.Wb=function(){return this.ma},He.prototype.toString=function(){return"SafeHtml{"+this.ma+"}"};var ze=function(t){return t instanceof He&&t.constructor===He&&t.fe===We?t.ma:(j("expected object of type SafeHtml, got '"+t+"' of type "+o(t)),"type_error:SafeHtml")},We={};He.prototype.Ne=function(t){return this.ma=t,this},!vt&&!ft||ft&&9<=Number(xt)||vt&&Ct("1.9.1"),ft&&Ct("9");var Ke=function(t,e){J(e,function(e,n){"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ge.hasOwnProperty(n)?t.setAttribute(Ge[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})},Ge={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Xe=function(t,e,n){this.Re=n,this.pe=t,this.ef=e,this.fc=0,this.Zb=null};Xe.prototype.get=function(){var t;return 0<this.fc?(this.fc--,t=this.Zb,this.Zb=t.next,t.next=null):t=this.pe(),t},Xe.prototype.put=function(t){this.ef(t),this.fc<this.Re&&(this.fc++,t.next=this.Zb,this.Zb=t)};var Qe,$e=function(t){n.setTimeout(function(){throw t},0)},Je=function(){var t=n.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!at("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=v(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!=typeof t&&!at("Trident")&&!at("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){r=r.next;var t=r.od;r.od=null,t()}},function(t){i.next={od:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}},Ye=function(){this.yc=this.La=null},Ze=new Xe(function(){return new tn},function(t){t.reset()},100);Ye.prototype.add=function(t,e){var n=Ze.get();n.set(t,e),this.yc?this.yc.next=n:(N(!this.La),this.La=n),this.yc=n},Ye.prototype.remove=function(){var t=null;return this.La&&(t=this.La,this.La=this.La.next,this.La||(this.yc=null),t.next=null),t};var tn=function(){this.next=this.scope=this.Jc=null};tn.prototype.set=function(t,e){this.Jc=t,this.scope=e,this.next=null},tn.prototype.reset=function(){this.next=this.scope=this.Jc=null};var en,nn=function(t,e){en||rn(),on||(en(),on=!0),sn.add(t,e)},rn=function(){if(-1!=String(n.Promise).indexOf("[native code]")){var t=n.Promise.resolve(void 0);en=function(){t.then(an)}}else en=function(){var t=an;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!at("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(Qe||(Qe=Je()),Qe(t)):n.setImmediate(t)}},on=!1,sn=new Ye,an=function(){for(var t;t=sn.remove();){try{t.Jc.call(t.scope)}catch(t){$e(t)}Ze.put(t)}on=!1},un=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},cn=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}},ln=function(t,e){if(this.M=0,this.na=void 0,this.Pa=this.ja=this.s=null,this.Xb=this.Ic=!1,t!=i)try{var n=this;t.call(e,function(t){kn(n,2,t)},function(t){if(!(t instanceof Pn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}kn(n,3,t)})}catch(t){kn(this,3,t)}},hn=function(){this.next=this.context=this.Xa=this.Fa=this.child=null,this.nb=!1};hn.prototype.reset=function(){this.context=this.Xa=this.Fa=this.child=null,this.nb=!1};var fn=new Xe(function(){return new hn},function(t){t.reset()},100),pn=function(t,e,n){var r=fn.get();return r.Fa=t,r.Xa=e,r.context=n,r},dn=function(t){if(t instanceof ln)return t;var e=new ln(i);return kn(e,2,t),e},vn=function(t){return new ln(function(e,n){n(t)})},gn=function(t,e,n){Sn(t,e,n,null)||nn(g(e,t))},yn=function(t){return new ln(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{ze:!0,value:o}:{ze:!1,reason:o},0==n&&e(r)},s=0;s<t.length;s++)i=t[s],gn(i,g(o,s,!0),g(o,s,!1));else e(r)})};ln.prototype.then=function(t,e,n){return null!=t&&F(t,"opt_onFulfilled should be a function."),null!=e&&F(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),xn(this,h(t)?t:null,h(e)?e:null,n)},un(ln);var mn=function(t,e){return e=pn(e,e,void 0),e.nb=!0,wn(t,e),t};ln.prototype.c=function(t,e){return xn(this,null,t,e)},ln.prototype.cancel=function(t){0==this.M&&nn(function(){var e=new Pn(t);bn(this,e)},this)};var bn=function(t,e){if(0==t.M)if(t.s){var n=t.s;if(n.ja){for(var r=0,i=null,o=null,s=n.ja;s&&(s.nb||(r++,s.child==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(0==n.M&&1==r?bn(n,e):(o?(r=o,N(n.ja),N(null!=r),r.next==n.Pa&&(n.Pa=r),r.next=r.next.next):En(n),Tn(n,i,3,e)))}t.s=null}else kn(t,3,e)},wn=function(t,e){t.ja||2!=t.M&&3!=t.M||An(t),N(null!=e.Fa),t.Pa?t.Pa.next=e:t.ja=e,t.Pa=e},xn=function(t,e,n,r){var i=pn(null,null,null);return i.child=new ln(function(t,o){i.Fa=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.Xa=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Pn?o(e):t(i)}catch(t){o(t)}}:o}),i.child.s=t,wn(t,i),i.child};ln.prototype.qf=function(t){N(1==this.M),this.M=0,kn(this,2,t)},ln.prototype.rf=function(t){N(1==this.M),this.M=0,kn(this,3,t)};var kn=function(t,e,n){0==t.M&&(t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.M=1,Sn(n,t.qf,t.rf,t)||(t.na=n,t.M=e,t.s=null,An(t),3!=e||n instanceof Pn||_n(t,n)))},Sn=function(t,e,n,r){if(t instanceof ln)return null!=e&&F(e,"opt_onFulfilled should be a function."),null!=n&&F(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),wn(t,pn(e||i,n||null,r)),!0;if(cn(t))return t.then(e,n,r),!0;if(f(t))try{var o=t.then;if(h(o))return Cn(t,o,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1},Cn=function(t,e,n,r,i){var o=!1,s=function(t){o||(o=!0,n.call(i,t))},a=function(t){o||(o=!0,r.call(i,t))};try{e.call(t,s,a)}catch(t){a(t)}},An=function(t){t.Ic||(t.Ic=!0,nn(t.ue,t))},En=function(t){var e=null;return t.ja&&(e=t.ja,t.ja=e.next,e.next=null),t.ja||(t.Pa=null),null!=e&&N(null!=e.Fa),e};ln.prototype.ue=function(){for(var t;t=En(this);)Tn(this,t,this.M,this.na);this.Ic=!1};var Tn=function(t,e,n,r){if(3==n&&e.Xa&&!e.nb)for(;t&&t.Xb;t=t.s)t.Xb=!1;if(e.child)e.child.s=null,On(e,n,r);else try{e.nb?e.Fa.call(e.context):On(e,n,r)}catch(t){Rn.call(null,t)}fn.put(e)},On=function(t,e,n){2==e?t.Fa.call(t.context,n):t.Xa&&t.Xa.call(t.context,n)},_n=function(t,e){t.Xb=!0,nn(function(){t.Xb&&Rn.call(null,e)})},Rn=$e,Pn=function(t){b.call(this,t)};m(Pn,b),Pn.prototype.name="cancel";var Mn=function(t,e){this.pc=[],this.Gd=t,this.rd=e||null,this.rb=this.Ta=!1,this.na=void 0,this.fd=this.kd=this.Dc=!1,this.wc=0,this.s=null,this.Ec=0};Mn.prototype.cancel=function(t){if(this.Ta)this.na instanceof Mn&&this.na.cancel();else{if(this.s){var e=this.s;delete this.s,t?e.cancel(t):(e.Ec--,0>=e.Ec&&e.cancel())}this.Gd?this.Gd.call(this.rd,this):this.fd=!0,this.Ta||jn(this,new Un)}},Mn.prototype.pd=function(t,e){this.Dc=!1,In(this,t,e)};var In=function(t,e,n){t.Ta=!0,t.na=n,t.rb=!e,Bn(t)},Nn=function(t){if(t.Ta){if(!t.fd)throw new qn;t.fd=!1}};Mn.prototype.callback=function(t){Nn(this),Ln(t),In(this,!0,t)};var jn=function(t,e){Nn(t),Ln(e),In(t,!1,e)},Ln=function(t){N(!(t instanceof Mn),"An execution sequence may not be initiated with a blocking Deferred.")},Vn=function(t){var e=Wn("https://apis.google.com/js/client.js?onload="+Ro);Fn(e,null,t,void 0)},Fn=function(t,e,n,r){N(!t.kd,"Blocking Deferreds can not be re-used"),t.pc.push([e,n,r]),t.Ta&&Bn(t)};Mn.prototype.then=function(t,e,n){var r,i,o=new ln(function(t,e){r=t,i=e});return Fn(this,r,function(t){t instanceof Un?o.cancel():i(t)}),o.then(t,e,n)},un(Mn);var Dn=function(t){return H(t.pc,function(t){return h(t[1])})},Bn=function(t){if(t.wc&&t.Ta&&Dn(t)){var e=t.wc,r=zn[e];r&&(n.clearTimeout(r.sb),delete zn[e]),t.wc=0}t.s&&(t.s.Ec--,delete t.s);for(var e=t.na,i=r=!1;t.pc.length&&!t.Dc;){var o=t.pc.shift(),s=o[0],a=o[1],o=o[2];if(s=t.rb?a:s)try{var u=s.call(o||t.rd,e);void 0!==u&&(t.rb=t.rb&&(u==e||u instanceof Error),t.na=e=u),(cn(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.Dc=!0)}catch(n){e=n,t.rb=!0,Dn(t)||(r=!0)}}t.na=e,i&&(u=v(t.pd,t,!0),i=v(t.pd,t,!1),e instanceof Mn?(Fn(e,u,i),e.kd=!0):e.then(u,i)),r&&(e=new Hn(e),zn[e.sb]=e,t.wc=e.sb)},qn=function(){b.call(this)};m(qn,b),qn.prototype.message="Deferred has already fired",qn.prototype.name="AlreadyCalledError";var Un=function(){b.call(this)};m(Un,b),Un.prototype.message="Deferred was canceled",Un.prototype.name="CanceledError";var Hn=function(t){this.sb=n.setTimeout(v(this.pf,this),0),this.O=t};Hn.prototype.pf=function(){throw N(zn[this.sb],"Cannot throw an error that is not scheduled."),delete zn[this.sb],this.O};var zn={},Wn=function(t){var e=new xe;return e.jc=t,Kn(e)},Kn=function(t){var e,n={},r=n.document||document;t instanceof xe&&t.constructor===xe&&t.ie===ke?e=t.jc:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+o(t)),e="type_error:TrustedResourceUrl");var i=document.createElement("SCRIPT");t={Od:i,Kb:void 0};var s=new Mn(Xn,t),a=null,u=null!=n.timeout?n.timeout:5e3;return 0<u&&(a=window.setTimeout(function(){Qn(i,!0),jn(s,new $n(1,"Timeout reached for loading script "+e))},u),t.Kb=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Qn(i,n.Cf||!1,a),s.callback(null))},i.onerror=function(){Qn(i,!0,a),jn(s,new $n(0,"Error while loading script "+e))},t=n.attributes||{},it(t,{type:"text/javascript",charset:"UTF-8",src:e}),Ke(i,t),Gn(r).appendChild(i),s},Gn=function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement},Xn=function(){if(this&&this.Od){var t=this.Od;t&&"SCRIPT"==t.tagName&&Qn(t,!0,this.Kb)}},Qn=function(t,e,r){null!=r&&n.clearTimeout(r),t.onload=i,t.onerror=i,t.onreadystatechange=i,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)},$n=function(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),b.call(this,n),this.code=t};m($n,b);var Jn=function(){zt.call(this),this.aa=new Jt(this),this.le=this,this.Vc=null};m(Jn,zt),Jn.prototype[Gt]=!0,t=Jn.prototype,t.addEventListener=function(t,e,n,r){re(this,t,e,n,r)},t.removeEventListener=function(t,e,n,r){ae(this,t,e,n,r)},t.dispatchEvent=function(t){tr(this);var e,n=this.Vc;if(n){e=[];for(var r=1;n;n=n.Vc)e.push(n),N(1e3>++r,"infinite loop")}if(n=this.le,r=t.type||t,c(t))t=new Wt(t,n);else if(t instanceof Wt)t.target=t.target||n;else{var i=t;t=new Wt(r,n),it(t,i)}var o,i=!0;if(e)for(var s=e.length-1;!t.$a&&0<=s;s--)o=t.currentTarget=e[s],i=Zn(o,r,!0,t)&&i;if(t.$a||(o=t.currentTarget=n,i=Zn(o,r,!0,t)&&i,t.$a||(i=Zn(o,r,!1,t)&&i)),e)for(s=0;!t.$a&&s<e.length;s++)o=t.currentTarget=e[s],i=Zn(o,r,!1,t)&&i;return i},t.Ra=function(){if(Jn.hd.Ra.call(this),this.aa){var t,e=this.aa,n=0;for(t in e.C){for(var r=e.C[t],i=0;i<r.length;i++)++n,$t(r[i]);delete e.C[t],e.Lb--}}this.Vc=null},t.listen=function(t,e,n,r){return tr(this),this.aa.add(String(t),e,!1,n,r)};var Yn=function(t,e,n,r,i){
t.aa.add(String(e),n,!0,r,i)},Zn=function(t,e,n,r){if(e=t.aa.C[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.gb&&s.capture==n){var a=s.listener,u=s.Yb||s.src;s.Pb&&Yt(t.aa,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Md};Jn.prototype.Kc=function(t,e,n,r){return this.aa.Kc(String(t),e,n,r)};var tr=function(t){N(t.aa,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},er="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},nr=function(){};nr.prototype.next=function(){throw er},nr.prototype.ke=function(){return this};var rr=function(t,e){this.ba={},this.w=[],this.mb=this.o=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.addAll(t)};rr.prototype.Y=function(){ir(this);for(var t=[],e=0;e<this.w.length;e++)t.push(this.ba[this.w[e]]);return t},rr.prototype.ka=function(){return ir(this),this.w.concat()},rr.prototype.ob=function(t){return or(this.ba,t)},rr.prototype.remove=function(t){return!!or(this.ba,t)&&(delete this.ba[t],this.o--,this.mb++,this.w.length>2*this.o&&ir(this),!0)};var ir=function(t){if(t.o!=t.w.length){for(var e=0,n=0;e<t.w.length;){var r=t.w[e];or(t.ba,r)&&(t.w[n++]=r),e++}t.w.length=n}if(t.o!=t.w.length){for(var i={},n=e=0;e<t.w.length;)r=t.w[e],or(i,r)||(t.w[n++]=r,i[r]=1),e++;t.w.length=n}};t=rr.prototype,t.get=function(t,e){return or(this.ba,t)?this.ba[t]:e},t.set=function(t,e){or(this.ba,t)||(this.o++,this.w.push(t),this.mb++),this.ba[t]=e},t.addAll=function(t){var e;t instanceof rr?(e=t.ka(),t=t.Y()):(e=Z(t),t=Y(t));for(var n=0;n<e.length;n++)this.set(e[n],t[n])},t.forEach=function(t,e){for(var n=this.ka(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.clone=function(){return new rr(this)},t.ke=function(t){ir(this);var e=0,n=this.mb,r=this,i=new nr;return i.next=function(){if(n!=r.mb)throw Error("The map has changed since the iterator was created");if(e>=r.w.length)throw er;var i=r.w[e++];return t?i:r.ba[i]},i};var or=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},sr=function(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(c(t))return t.split("");if(u(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Y(t)},ar=function(t){if(t.ka&&"function"==typeof t.ka)return t.ka();if(!t.Y||"function"!=typeof t.Y){if(u(t)||c(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}return Z(t)}},ur=function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(u(t)||c(t))B(t,e,void 0);else for(var n=ar(t),r=sr(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)},cr=function(t,e,n,r,i){this.reset(t,e,n,r,i)};cr.prototype.td=null;var lr=0;cr.prototype.reset=function(t,e,n,r,i){"number"==typeof i||lr++,r||y(),this.wb=t,this.We=e,delete this.td},cr.prototype.Rd=function(t){this.wb=t};var hr=function(t){this.Xe=t,this.yd=this.Fc=this.wb=this.s=null},fr=function(t,e){this.name=t,this.value=e};fr.prototype.toString=function(){return this.name};var pr=new fr("SEVERE",1e3),dr=new fr("CONFIG",700),vr=new fr("FINE",500);hr.prototype.getParent=function(){return this.s},hr.prototype.Rd=function(t){this.wb=t};var gr=function(t){return t.wb?t.wb:t.s?gr(t.s):(j("Root logger has no level set."),null)};hr.prototype.log=function(t,e,r){if(t.value>=gr(this).value)for(h(e)&&(e=e()),t=new cr(t,String(e),this.Xe),r&&(t.td=r),r="log:"+t.We,n.console&&(n.console.timeStamp?n.console.timeStamp(r):n.console.markTimeline&&n.console.markTimeline(r)),n.msWriteProfilerMark&&n.msWriteProfilerMark(r),r=this;r;){var i=r,o=t;if(i.yd)for(var s=0;e=i.yd[s];s++)e(o);r=r.getParent()}};var yr={},mr=null,br=function(t){mr||(mr=new hr(""),yr[""]=mr,mr.Rd(dr));var e;if(!(e=yr[t])){e=new hr(t);var n=t.lastIndexOf("."),r=t.substr(n+1),n=br(t.substr(0,n));n.Fc||(n.Fc={}),n.Fc[r]=e,e.s=n,yr[t]=e}return e},wr=function(t,e){t&&t.log(vr,e,void 0)},xr=function(t,e,r){if(h(t))r&&(t=v(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)},kr=function(t){var e=null;return new ln(function(n,r){e=xr(function(){n(void 0)},t),-1==e&&r(Error("Failed to schedule timer."))}).c(function(t){throw n.clearTimeout(e),t})},Sr=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,Cr=function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}},Ar=function(t){Jn.call(this),this.headers=new rr,this.Ac=t||null,this.qa=!1,this.zc=this.b=null,this.vb=this.Ed=this.ec="",this.Ca=this.Nc=this.cc=this.Hc=!1,this.jb=0,this.uc=null,this.Ld="",this.xc=this.cf=this.be=!1};m(Ar,Jn);var Er=Ar.prototype,Tr=br("goog.net.XhrIo");Er.U=Tr;var Or=/^https?$/i,_r=["POST","PUT"];Ar.prototype.send=function(t,e,r,i){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.ec+"; newUri="+t);e=e?e.toUpperCase():"GET",this.ec=t,this.vb="",this.Ed=e,this.Hc=!1,this.qa=!0,this.b=this.Ac?this.Ac.Rb():Le.Rb(),this.zc=Ve(this.Ac?this.Ac:Le),this.b.onreadystatechange=v(this.Id,this),this.cf&&"onprogress"in this.b&&(this.b.onprogress=v(function(t){this.Hd(t,!0)},this),this.b.upload&&(this.b.upload.onprogress=v(this.Hd,this)));try{wr(this.U,Br(this,"Opening Xhr")),this.Nc=!0,this.b.open(e,String(t),!0),this.Nc=!1}catch(t){return wr(this.U,Br(this,"Error opening Xhr: "+t.message)),void this.O(5,t)}t=r||"";var o=this.headers.clone();i&&ur(i,function(t,e){o.set(e,t)}),i=z(o.ka()),r=n.FormData&&t instanceof n.FormData,!W(_r,e)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.b.setRequestHeader(e,t)},this),this.Ld&&(this.b.responseType=this.Ld),"withCredentials"in this.b&&this.b.withCredentials!==this.be&&(this.b.withCredentials=this.be);try{Lr(this),0<this.jb&&(this.xc=Rr(this.b),wr(this.U,Br(this,"Will abort after "+this.jb+"ms if incomplete, xhr2 "+this.xc)),this.xc?(this.b.timeout=this.jb,this.b.ontimeout=v(this.Kb,this)):this.uc=xr(this.Kb,this.jb,this)),wr(this.U,Br(this,"Sending request")),this.cc=!0,this.b.send(t),this.cc=!1}catch(t){wr(this.U,Br(this,"Send error: "+t.message)),this.O(5,t)}};var Rr=function(t){return ft&&Ct(9)&&l(t.timeout)&&void 0!==t.ontimeout},Pr=function(t){return"content-type"==t.toLowerCase()};Ar.prototype.Kb=function(){"undefined"!=typeof e&&this.b&&(this.vb="Timed out after "+this.jb+"ms, aborting",wr(this.U,Br(this,this.vb)),this.dispatchEvent("timeout"),this.abort(8))},Ar.prototype.O=function(t,e){this.qa=!1,this.b&&(this.Ca=!0,this.b.abort(),this.Ca=!1),this.vb=e,Mr(this),jr(this)};var Mr=function(t){t.Hc||(t.Hc=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))};Ar.prototype.abort=function(){this.b&&this.qa&&(wr(this.U,Br(this,"Aborting")),this.qa=!1,this.Ca=!0,this.b.abort(),this.Ca=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),jr(this))},Ar.prototype.Ra=function(){this.b&&(this.qa&&(this.qa=!1,this.Ca=!0,this.b.abort(),this.Ca=!1),jr(this,!0)),Ar.hd.Ra.call(this)},Ar.prototype.Id=function(){this.isDisposed()||(this.Nc||this.cc||this.Ca?Ir(this):this.af())},Ar.prototype.af=function(){Ir(this)};var Ir=function(t){if(t.qa&&"undefined"!=typeof e)if(t.zc[1]&&4==Vr(t)&&2==Fr(t))wr(t.U,Br(t,"Local request error detected and ignored"));else if(t.cc&&4==Vr(t))xr(t.Id,0,t);else if(t.dispatchEvent("readystatechange"),4==Vr(t)){wr(t.U,Br(t,"Request complete")),t.qa=!1;try{var r,i=Fr(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:r=!0;break t;default:r=!1}var o;if(!(o=r)){var s;if(s=0===i){var a=String(t.ec).match(Sr)[1]||null;if(!a&&n.self&&n.self.location)var u=n.self.location.protocol,a=u.substr(0,u.length-1);s=!Or.test(a?a.toLowerCase():"")}o=s}if(o)t.dispatchEvent("complete"),t.dispatchEvent("success");else{var c;try{c=2<Vr(t)?t.b.statusText:""}catch(e){wr(t.U,"Can not get status: "+e.message),c=""}t.vb=c+" ["+Fr(t)+"]",Mr(t)}}finally{jr(t)}}};Ar.prototype.Hd=function(t,e){N("progress"===t.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Nr(t,"progress")),this.dispatchEvent(Nr(t,e?"downloadprogress":"uploadprogress"))};var Nr=function(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}},jr=function(t,e){if(t.b){Lr(t);var n=t.b,r=t.zc[0]?i:null;t.b=null,t.zc=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.U)&&t.log(pr,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Lr=function(t){t.b&&t.xc&&(t.b.ontimeout=null),l(t.uc)&&(n.clearTimeout(t.uc),t.uc=null)},Vr=function(t){return t.b?t.b.readyState:0},Fr=function(t){try{return 2<Vr(t)?t.b.status:-1}catch(t){return-1}},Dr=function(t){try{return t.b?t.b.responseText:""}catch(e){return wr(t.U,"Can not get responseText: "+e.message),""}},Br=function(t,e){return e+" ["+t.Ed+" "+t.ec+" "+Fr(t)+"]"},qr=function(t,e){this.$=this.Ja=this.da="",this.Za=null,this.Ba=this.sa="",this.R=this.Qe=!1;var n;t instanceof qr?(this.R=void 0!==e?e:t.R,Ur(this,t.da),n=t.Ja,$r(this),this.Ja=n,Hr(this,t.$),zr(this,t.Za),Wr(this,t.sa),Kr(this,t.W.clone()),t=t.Ba,$r(this),this.Ba=t):t&&(n=String(t).match(Sr))?(this.R=!!e,Ur(this,n[1]||"",!0),t=n[2]||"",$r(this),this.Ja=Zr(t),Hr(this,n[3]||"",!0),zr(this,n[4]),Wr(this,n[5]||"",!0),Kr(this,n[6]||"",!0),t=n[7]||"",$r(this),this.Ba=Zr(t)):(this.R=!!e,this.W=new ai(null,0,this.R))};qr.prototype.toString=function(){var t=[],e=this.da;e&&t.push(ti(e,ni,!0),":");var n=this.$;return(n||"file"==e)&&(t.push("//"),(e=this.Ja)&&t.push(ti(e,ni,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.Za,null!=n&&t.push(":",String(n))),(n=this.sa)&&(this.$&&"/"!=n.charAt(0)&&t.push("/"),t.push(ti(n,"/"==n.charAt(0)?ii:ri,!0))),(n=this.W.toString())&&t.push("?",n),(n=this.Ba)&&t.push("#",ti(n,si)),t.join("")},qr.prototype.resolve=function(t){var e=this.clone(),n=!!t.da;if(n?Ur(e,t.da):n=!!t.Ja,n){var r=t.Ja;$r(e),e.Ja=r}else n=!!t.$;if(n?Hr(e,t.$):n=null!=t.Za,r=t.sa,n)zr(e,t.Za);else if(n=!!t.sa){if("/"!=r.charAt(0))if(this.$&&!this.sa)r="/"+r;else{var i=e.sa.lastIndexOf("/");-1!=i&&(r=e.sa.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(_(i,"./")||_(i,"/.")){for(var r=0==i.lastIndexOf("/",0),i=i.split("/"),o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?Wr(e,r):n=""!==t.W.toString(),n?Kr(e,t.W.clone()):n=!!t.Ba,n&&(t=t.Ba,$r(e),e.Ba=t),e},qr.prototype.clone=function(){return new qr(this)};var Ur=function(t,e,n){$r(t),t.da=n?Zr(e,!0):e,t.da&&(t.da=t.da.replace(/:$/,""))},Hr=function(t,e,n){$r(t),t.$=n?Zr(e,!0):e},zr=function(t,e){if($r(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Za=e}else t.Za=null},Wr=function(t,e,n){$r(t),t.sa=n?Zr(e,!0):e},Kr=function(t,e,n){$r(t),e instanceof ai?(t.W=e,t.W.ed(t.R)):(n||(e=ti(e,oi)),t.W=new ai(e,0,t.R))},Gr=function(t,e,n){$r(t),t.W.set(e,n)},Xr=function(t,e){return t.W.get(e)},Qr=function(t,e){$r(t),t.W.remove(e)},$r=function(t){if(t.Qe)throw Error("Tried to modify a read-only Uri")};qr.prototype.ed=function(t){return this.R=t,this.W&&this.W.ed(t),this};var Jr=function(t){return t instanceof qr?t.clone():new qr(t,void 0)},Yr=function(t,e){var n=new qr(null,void 0);return Ur(n,"https"),t&&Hr(n,t),e&&Wr(n,e),n},Zr=function(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""},ti=function(t,e,n){return c(t)?(t=encodeURI(t).replace(e,ei),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},ei=function(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)},ni=/[#\/\?@]/g,ri=/[\#\?:]/g,ii=/[\#\?]/g,oi=/[\#\?@]/g,si=/#/g,ai=function(t,e,n){this.o=this.l=null,this.N=t||null,this.R=!!n},ui=function(t){t.l||(t.l=new rr,t.o=0,t.N&&Cr(t.N,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))},ci=function(t){var e=ar(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new ai(null,0,void 0);t=sr(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];a(o)?li(n,i,o):n.add(i,o)}return n};t=ai.prototype,t.add=function(t,e){ui(this),this.N=null,t=this.P(t);var n=this.l.get(t);return n||this.l.set(t,n=[]),n.push(e),this.o=L(this.o)+1,this},t.remove=function(t){return ui(this),t=this.P(t),!!this.l.ob(t)&&(this.N=null,this.o=L(this.o)-this.l.get(t).length,this.l.remove(t))},t.ob=function(t){return ui(this),t=this.P(t),this.l.ob(t)},t.ka=function(){ui(this);for(var t=this.l.Y(),e=this.l.ka(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.Y=function(t){ui(this);var e=[];if(c(t))this.ob(t)&&(e=Q(e,this.l.get(this.P(t))));else{t=this.l.Y();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return ui(this),this.N=null,t=this.P(t),this.ob(t)&&(this.o=L(this.o)-this.l.get(t).length),this.l.set(t,[e]),this.o=L(this.o)+1,this},t.get=function(t,e){return t=t?this.Y(t):[],0<t.length?String(t[0]):e};var li=function(t,e,n){t.remove(e),0<n.length&&(t.N=null,t.l.set(t.P(e),$(n)),t.o=L(t.o)+n.length)};ai.prototype.toString=function(){if(this.N)return this.N;if(!this.l)return"";for(var t=[],e=this.l.ka(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.Y(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.N=t.join("&")},ai.prototype.clone=function(){var t=new ai;return t.N=this.N,this.l&&(t.l=this.l.clone(),t.o=this.o),t},ai.prototype.P=function(t){return t=String(t),this.R&&(t=t.toLowerCase()),t},ai.prototype.ed=function(t){t&&!this.R&&(ui(this),this.N=null,this.l.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),li(this,n,t))},this)),this.R=t};var hi=function(){var t=_i();return ft&&!!xt&&11==xt||/Edge\/\d+/.test(t)},fi=function(){return n.window&&n.window.location.href||""},pi=function(t,e){e=e||n.window;var r="about:blank";t&&(r=Ce(Ee(t))),e.location.href=r},di=function(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):a(t[n])?et(t[n],e[n])||r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<di(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r},vi=function(){var t;return t=_i(),t="Chrome"!=Ti(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!ft||!xt||9<xt)},gi=function(t){return t=(t||_i()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))},yi=function(t){t=t||n.window;try{t.close()}catch(t){}},mi=function(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=_i().toLowerCase(),r&&(e.target=r,_(n,"crios/")&&(e.target="_blank")),"Firefox"==Ti(_i())&&(t=t||"http://localhost",e.scrollbars=!0);var s;n=t||"about:blank",(r=e)||(r={}),t=window,e=n instanceof Se?n:Ee("undefined"!=typeof n.href?n.href:String(n)),n=r.target||n.target,i=[];for(s in r)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+r[s]);break;case"target":case"noreferrer":break;default:i.push(s+"="+(r[s]?1:0))}if(s=i.join(","),(at("iPhone")&&!at("iPod")&&!at("iPad")||at("iPad")||at("iPod"))&&t.navigator&&t.navigator.standalone&&n&&"_self"!=n?(s=t.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(i=s&&(s instanceof HTMLAnchorElement||!(s instanceof Location||s instanceof Element)),o=f(s)?s.constructor.displayName||s.constructor.name||Object.prototype.toString.call(s):void 0===s?"undefined":null===s?"null":typeof s,N(i,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",o)),e=e instanceof Se?e:Ee(e),s.href=Ce(e),s.setAttribute("target",n),r.noreferrer&&s.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,t,1),s.dispatchEvent(r),s={}):r.noreferrer?(s=t.open("",n,s),r=Ce(e),s&&(dt&&_(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),s.opener=null,t=we("b/12014412, meta tag with sanitized URL"),O.test(r)&&(-1!=r.indexOf("&")&&(r=r.replace(k,"&amp;")),-1!=r.indexOf("<")&&(r=r.replace(S,"&lt;")),-1!=r.indexOf(">")&&(r=r.replace(C,"&gt;")),-1!=r.indexOf('"')&&(r=r.replace(A,"&quot;")),-1!=r.indexOf("'")&&(r=r.replace(E,"&#39;")),-1!=r.indexOf("\0")&&(r=r.replace(T,"&#0;"))),r='<META HTTP-EQUIV="refresh" content="0; url='+r+'">',V(me(t),"must provide justification"),N(!/^[\s\xa0]*$/.test(me(t)),"must provide non-empty justification"),s.document.write(ze((new He).Ne(r))),s.document.close())):s=t.open(Ce(e),n,s),s)try{s.focus()}catch(t){}return s},bi=function(t){return new ln(function(e){var n=function(){kr(2e3).then(function(){return t&&!t.closed?n():void e()})};return n()})},wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xi=function(){var t=null;return new ln(function(e){"complete"==n.document.readyState?e():(t=function(){e()},se(window,"load",t))}).c(function(e){throw ae(window,"load",t),e})},ki=function(){return Si(void 0)?xi().then(function(){return new ln(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):vn(Error("Cordova must run in an Android or iOS file scheme."))},Si=function(t){return t=t||_i(),!("file:"!==Ii()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))},Ci=function(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}},Ai=function(){return r.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Ei=function(){var t=Ai();return"ReactNative"===t||"Node"===t},Ti=function(t){var e=t.toLowerCase();return _(e,"opera/")||_(e,"opr/")||_(e,"opios/")?"Opera":_(e,"iemobile")?"IEMobile":_(e,"msie")||_(e,"trident/")?"IE":_(e,"edge/")?"Edge":_(e,"firefox/")?"Firefox":_(e,"silk/")?"Silk":_(e,"blackberry")?"Blackberry":_(e,"webos")?"Webos":!_(e,"safari/")||_(e,"chrome/")||_(e,"crios/")||_(e,"android")?!_(e,"chrome/")&&!_(e,"crios/")||_(e,"edge/")?_(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"},Oi=function(t){var e=Ai();return("Browser"===e?Ti(_i()):e)+"/JsCore/"+t},_i=function(){return n.navigator&&n.navigator.userAgent||""},Ri=function(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e},Pi=function(){var t;if(t=(Mi()||"chrome-extension:"===Ii()||Si()&&!1)&&!Ei())t:{try{var e=n.localStorage,r=Fi();if(e){e.setItem(r,"1"),e.removeItem(r),t=!hi()||!!n.indexedDB;break t}}catch(t){}t=!1}return t},Mi=function(){return"http:"===Ii()||"https:"===Ii()},Ii=function(){return n.location&&n.location.protocol||null},Ni=function(t){return t=t||_i(),!gi(t)&&"Firefox"!=Ti(t)},ji=function(t){return"undefined"==typeof t?null:_e(t)},Li=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n},Vi=function(t){if(null!==t)return JSON.parse(t)},Fi=function(t){return t?t:""+Math.floor(1e9*Math.random()).toString()},Di=function(t){return t=t||_i(),"Safari"!=Ti(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)},Bi=function(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null},qi=function(){return!n.navigator||"boolean"!=typeof n.navigator.onLine||n.navigator.onLine},Ui=function(t,e,n,r){if(t>e)throw Error("Short delay should be less than long delay!");this.lf=t,this.Ve=e,t=n||_i(),r=r||Ai(),this.Pe=gi(t)||"ReactNative"===r};Ui.prototype.get=function(){return this.Pe?this.Ve:this.lf};var Hi;try{var zi={};Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:2}),Hi=2==zi.abcd}catch(t){Hi=!1}var Wi=function(t,e,n){Hi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n},Ki=function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wi(t,n,e[n])},Gi=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},Xi=function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0},Qi=function(t){var e=t;if("object"==typeof t&&null!=t){var n,e="length"in t?[]:{};for(n in t)Wi(e,n,Qi(t[n]))}return e},$i=["client_id","response_type","scope","redirect_uri","state"],Ji={ce:{Ab:500,zb:600,providerId:"facebook.com",oc:$i},de:{Ab:500,zb:620,providerId:"github.com",oc:$i},ee:{Ab:515,zb:680,providerId:"google.com",oc:$i},je:{Ab:485,zb:705,providerId:"twitter.com",oc:"oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" ")}},Yi=function(t){for(var e in Ji)if(Ji[e].providerId==t)return Ji[e];return null},Zi=function(t){return(t=Yi(t))&&t.oc||[]},to=function(t,e){this.code="auth/"+t,this.message=e||no[t]||""};m(to,Error),to.prototype.D=function(){return{name:this.code,code:this.code,message:this.message}};var eo=function(t){var e=t&&(t.name||t.code);return e?new to(e.substring(5),t.message):null},no={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http or https and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ro=function(t,e,n,r,i){if(this.ga=t,this.F=e||null,this.lb=n||null,this.dd=r||null,this.O=i||null,!this.lb&&!this.O)throw new to("invalid-auth-event");if(this.lb&&this.O)throw new to("invalid-auth-event");if(this.lb&&!this.dd)throw new to("invalid-auth-event")};ro.prototype.Vb=function(){return this.dd},ro.prototype.getError=function(){return this.O},ro.prototype.D=function(){return{type:this.ga,eventId:this.F,urlResponse:this.lb,sessionId:this.dd,error:this.O&&this.O.D()}};var io=function(t){return t=t||{},t.type?new ro(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&eo(t.error)):null},oo=function(t){var e="unauthorized-domain",n=void 0,r=Jr(t);t=r.$,r=r.da,"http"!=r&&"https"!=r?e="operation-not-supported-in-this-environment":n=w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t),to.call(this,e,n)};m(oo,to);var so=function(t){this.Ue=t.sub,y(),this.Sb=t.email||null},ao=function(t,e,n,r){var i={};if(f(n)?i=n:e&&c(n)&&c(r)?i={oauthToken:n,oauthTokenSecret:r}:!e&&c(n)&&(i={accessToken:n}),e||!i.idToken&&!i.accessToken){if(!(e&&i.oauthToken&&i.oauthTokenSecret)){if(e)throw new to("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");throw new to("argument-error","credential failed: expected 1 argument (the OAuth access token).")}Wi(this,"accessToken",i.oauthToken),Wi(this,"secret",i.oauthTokenSecret)}else i.idToken&&Wi(this,"idToken",i.idToken),i.accessToken&&Wi(this,"accessToken",i.accessToken);Wi(this,"provider",t)};ao.prototype.Ub=function(t){return Ho(t,uo(this))},ao.prototype.Fd=function(t,e){var n=uo(this);return n.idToken=e,zo(t,n)};var uo=function(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.provider,{postBody:ci(e).toString(),requestUri:Mi()?fi():"http://localhost"}};ao.prototype.D=function(){var t={provider:this.provider};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t};var co=function(t,e,n){var r=!!e,i=n||[];return e=function(){Ki(this,{providerId:t,isOAuthProvider:!0}),this.cd=[],this.qd={},"google.com"==t&&this.addScope("profile")},r||(e.prototype.addScope=function(t){W(this.cd,t)||this.cd.push(t)}),e.prototype.setCustomParameters=function(t){this.qd=nt(t)},e.prototype.Ce=function(){var t,e=Li(this.qd);for(t in e)e[t]=e[t].toString();for(e=nt(e),t=0;t<i.length;t++){var n=i[t];n in e&&delete e[n]}return e},e.prototype.De=function(){return $(this.cd)},e.credential=function(e,n){return new ao(t,r,e,n)},Ki(e,{PROVIDER_ID:t}),e},lo=co("facebook.com",!1,Zi("facebook.com"));lo.prototype.addScope=lo.prototype.addScope||void 0;var ho=co("github.com",!1,Zi("github.com"));ho.prototype.addScope=ho.prototype.addScope||void 0;var fo=co("google.com",!1,Zi("google.com"));fo.prototype.addScope=fo.prototype.addScope||void 0,fo.credential=function(t,e){if(!t&&!e)throw new to("argument-error","credential failed: must provide the ID token and/or the access token.");return new ao("google.com",!1,f(t)?t:{idToken:t||null,accessToken:e||null})};var po=co("twitter.com",!0,Zi("twitter.com")),vo=function(t,e){this.Sb=t,this.Wc=e,Wi(this,"provider","password")};vo.prototype.Ub=function(t){return ls(t,cs,{email:this.Sb,password:this.Wc})},vo.prototype.Fd=function(t,e){return ls(t,is,{idToken:e,email:this.Sb,password:this.Wc})},vo.prototype.D=function(){return{email:this.Sb,password:this.Wc}};var go=function(){Ki(this,{providerId:"password",isOAuthProvider:!1})};Ki(go,{PROVIDER_ID:"password"});var yo={Af:go,ce:lo,ee:fo,de:ho,je:po},mo=function(t){var e=t&&t.providerId;if(!e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;for(var i in yo)if(yo[i].PROVIDER_ID==e)try{return yo[i].credential({accessToken:n,idToken:t,oauthToken:n,oauthTokenSecret:r})}catch(t){break}return null},bo=function(t){if(!t.isOAuthProvider)throw new to("invalid-oauth-provider")},wo=function(t,e,n,r){to.call(this,t,r),Wi(this,"email",e),Wi(this,"credential",n)};m(wo,to),wo.prototype.D=function(){var t={code:this.code,message:this.message,email:this.email},e=this.credential&&this.credential.D();return e&&(it(t,e),t.providerId=e.provider,delete t.provider),t};var xo=function(t){if(t.code){var e=t.code||"";return 0==e.indexOf("auth/")&&(e=e.substring(5)),t.email?new wo(e,t.email,mo(t),t.message):new to(e,t.message||void 0)}return null},ko=function(t){this.zf=t};m(ko,je),ko.prototype.Rb=function(){return new this.zf},ko.prototype.Pc=function(){return{}};var So,Co=function(t,e,i){var o;if(o="Node"==Ai(),o=n.XMLHttpRequest||o&&r.INTERNAL.node&&r.INTERNAL.node.XMLHttpRequest,!o)throw new to("internal-error","The XMLHttpRequest compatibility library was not found.");this.j=t,t=e||{},this.gf=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.hf=t.secureTokenTimeout||Ao,
this.Pd=nt(t.secureTokenHeaders||Eo),this.xe=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.ye=t.firebaseTimeout||To,this.vd=nt(t.firebaseHeaders||Oo),i&&(this.vd["X-Client-Version"]=i,this.Pd["X-Client-Version"]=i),this.oe=new Be,this.yf=new ko(o)},Ao=new Ui(3e4,6e4),Eo={"Content-Type":"application/x-www-form-urlencoded"},To=new Ui(3e4,6e4),Oo={"Content-Type":"application/json"},_o=function(t,e,n,r,i,o,s){qi()?(vi()?t=v(t.kf,t):(So||(So=new ln(function(t,e){Po(t,e)})),t=v(t.jf,t)),t(e,n,r,i,o,s)):n&&n(null)};Co.prototype.kf=function(t,e,n,r,i,o){var s,a="Node"==Ai(),u=Ei()?a?new Ar(this.yf):new Ar:new Ar(this.oe);o&&(u.jb=Math.max(0,o),s=setTimeout(function(){u.dispatchEvent("timeout")},o)),u.listen("complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(Dr(this))||null}catch(e){t=null}e&&e(t)}),Yn(u,"ready",function(){s&&clearTimeout(s),this.Aa||(this.Aa=!0,this.Ra())}),Yn(u,"timeout",function(){s&&clearTimeout(s),this.Aa||(this.Aa=!0,this.Ra()),e&&e(null)}),u.send(t,n,r,i)};var Ro="__fcb"+Math.floor(1e6*Math.random()).toString(),Po=function(t,e){((window.gapi||{}).client||{}).request?t():(n[Ro]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},Vn(function(){e(Error("CORS_UNSUPPORTED"))}))};Co.prototype.jf=function(t,e,n,r,i){var o=this;So.then(function(){window.gapi.client.setApiKey(o.j);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).c(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})};var Mo=function(t,e){return new ln(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?_o(t,t.gf+"?key="+encodeURIComponent(t.j),function(t){t?t.error?r(hs(t)):t.access_token&&t.refresh_token?n(t):r(new to("internal-error")):r(new to("network-request-failed"))},"POST",ci(e).toString(),t.Pd,t.hf.get()):r(new to("internal-error"))})},Io=function(t,e,n,r,i){var o=Jr(t.xe+e);Gr(o,"key",t.j),i&&Gr(o,"cb",y().toString());var s="GET"==n;if(s)for(var a in r)r.hasOwnProperty(a)&&Gr(o,a,r[a]);return new ln(function(e,i){_o(t,o.toString(),function(t){t?t.error?i(hs(t)):e(t):i(new to("network-request-failed"))},n,s?void 0:_e(Li(r)),t.vd,t.ye.get())})},No=function(t){if(!ge.test(t.email))throw new to("invalid-email")},jo=function(t){"email"in t&&No(t)},Lo=function(t,e){return ls(t,Qo,{identifier:e,continueUri:Mi()?fi():"http://localhost"}).then(function(t){return t.allProviders||[]})},Vo=function(t){return ls(t,es,{}).then(function(t){return t.authorizedDomains||[]})},Fo=function(t){if(!t.idToken)throw new to("internal-error")};Co.prototype.signInAnonymously=function(){return ls(this,os,{})},Co.prototype.updateEmail=function(t,e){return ls(this,rs,{idToken:t,email:e})},Co.prototype.updatePassword=function(t,e){return ls(this,is,{idToken:t,password:e})};var Do={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Co.prototype.updateProfile=function(t,e){var n={idToken:t},r=[];return J(Do,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ls(this,rs,n)},Co.prototype.sendPasswordResetEmail=function(t){return ls(this,ts,{requestType:"PASSWORD_RESET",email:t})},Co.prototype.sendEmailVerification=function(t){return ls(this,Zo,{requestType:"VERIFY_EMAIL",idToken:t})};var Bo=function(t,e,n){return ls(t,Jo,{idToken:e,deleteProvider:n})},qo=function(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new to("internal-error")},Uo=function(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=xo(t)):"EMAIL_EXISTS"==t.errorMessage&&(t.code="email-already-in-use",e=xo(t)),e)throw e;if(!t.idToken)throw new to("internal-error")},Ho=function(t,e){return e.returnIdpCredential=!0,ls(t,ss,e)},zo=function(t,e){return e.returnIdpCredential=!0,ls(t,as,e)},Wo=function(t){if(!t.oobCode)throw new to("invalid-action-code")};Co.prototype.confirmPasswordReset=function(t,e){return ls(this,ns,{oobCode:t,newPassword:e})},Co.prototype.checkActionCode=function(t){return ls(this,Go,{oobCode:t})},Co.prototype.applyActionCode=function(t){return ls(this,Ko,{oobCode:t})};var Ko={endpoint:"setAccountInfo",K:Wo,ib:"email"},Go={endpoint:"resetPassword",K:Wo,va:function(t){if(!t.email||!t.requestType)throw new to("internal-error")}},Xo={endpoint:"signupNewUser",K:function(t){if(No(t),!t.password)throw new to("weak-password")},va:Fo,wa:!0},Qo={endpoint:"createAuthUri"},$o={endpoint:"deleteAccount",hb:["idToken"]},Jo={endpoint:"setAccountInfo",hb:["idToken","deleteProvider"],K:function(t){if(!a(t.deleteProvider))throw new to("internal-error")}},Yo={endpoint:"getAccountInfo"},Zo={endpoint:"getOobConfirmationCode",hb:["idToken","requestType"],K:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new to("internal-error")},ib:"email"},ts={endpoint:"getOobConfirmationCode",hb:["requestType"],K:function(t){if("PASSWORD_RESET"!=t.requestType)throw new to("internal-error");No(t)},ib:"email"},es={ne:!0,endpoint:"getProjectConfig",Je:"GET"},ns={endpoint:"resetPassword",K:Wo,ib:"email"},rs={endpoint:"setAccountInfo",hb:["idToken"],K:jo,wa:!0},is={endpoint:"setAccountInfo",hb:["idToken"],K:function(t){if(jo(t),!t.password)throw new to("weak-password")},va:Fo,wa:!0},os={endpoint:"signupNewUser",va:Fo,wa:!0},ss={endpoint:"verifyAssertion",K:qo,va:Uo,wa:!0},as={endpoint:"verifyAssertion",K:function(t){if(qo(t),!t.idToken)throw new to("internal-error")},va:Uo,wa:!0},us={endpoint:"verifyCustomToken",K:function(t){if(!t.token)throw new to("invalid-custom-token")},va:Fo,wa:!0},cs={endpoint:"verifyPassword",K:function(t){if(No(t),!t.password)throw new to("wrong-password")},va:Fo,wa:!0},ls=function(t,e,n){if(!Xi(n,e.hb))return vn(new to("internal-error"));var r,i=e.Je||"POST";return dn(n).then(e.K).then(function(){return e.wa&&(n.returnSecureToken=!0),Io(t,e.endpoint,i,n,e.ne||!1)}).then(function(t){return r=t}).then(e.va).then(function(){if(!e.ib)return r;if(!(e.ib in r))throw new to("internal-error");return r[e.ib]})},hs=function(t){var e,n;n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"";var r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new to(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled"},e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new to(r[i],e);return!e&&t&&(e=ji(t)),new to("internal-error",e)},fs=function(t){this.V=t};fs.prototype.value=function(){return this.V},fs.prototype.Sd=function(t){return this.V.style=t,this};var ps=function(t){this.V=t||{}};ps.prototype.value=function(){return this.V},ps.prototype.Sd=function(t){return this.V.style=t,this};var ds=function(t){this.wf=t,this.ac=null,this.Uc=gs(this)},vs=function(t){var e=new ps;return e.V.where=document.body,e.V.url=t.wf,e.V.messageHandlersFilter=Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),e.V.attributes=e.V.attributes||{},new fs(e.V.attributes).Sd({position:"absolute",top:"-100px",width:"1px",height:"1px"}),e.V.dontclear=!0,e},gs=function(t){return ws().then(function(){return new ln(function(e,n){Ri("gapi.iframes.getContext")().open(vs(t).value(),function(r){t.ac=r,t.ac.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},bs.get()),o=function(){clearTimeout(i),e()};r.ping(o).then(o,function(){n(Error("Network Error"))})})})})};ds.prototype.sendMessage=function(t){var e=this;return this.Uc.then(function(){return new ln(function(n){e.ac.send(t.type,t,n,Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var ys=function(t,e){t.Uc.then(function(){t.ac.register("authEvent",e,Ri("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},ms=new Ui(3e4,6e4),bs=new Ui(5e3,15e3),ws=function(){return new ln(function(t,e){if(qi()){var r=function(){Bi(),Ri("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Bi(),e(Error("Network Error"))},timeout:ms.get()})};if(Ri("gapi.iframes.Iframe"))t();else if(Ri("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){Ri("gapi.load")?r():e(Error("Network Error"))},dn(Wn("https://apis.google.com/js/api.js?onload="+i)).c(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))})},xs=function(t,e,n){this.v=t,this.j=e,this.B=n,this.Ka=null,this.Mb=Yr(this.v,"/__/auth/iframe"),Gr(this.Mb,"apiKey",this.j),Gr(this.Mb,"appName",this.B)};xs.prototype.setVersion=function(t){return this.Ka=t,this},xs.prototype.toString=function(){return this.Ka?Gr(this.Mb,"v",this.Ka):Qr(this.Mb,"v"),this.Mb.toString()};var ks=function(t,e,n,r,i){this.v=t,this.j=e,this.B=n,this.me=r,this.Ka=this.F=this.ad=null,this.kc=i};ks.prototype.setVersion=function(t){return this.Ka=t,this},ks.prototype.toString=function(){var t=Yr(this.v,"/__/auth/handler");if(Gr(t,"apiKey",this.j),Gr(t,"appName",this.B),Gr(t,"authType",this.me),this.kc.isOAuthProvider){Gr(t,"providerId",this.kc.providerId);var e=this.kc.De();e&&e.length&&Gr(t,"scopes",e.join(",")),e=this.kc.Ce(),tt(e)||Gr(t,"customParameters",ji(e))}if(this.ad?Gr(t,"redirectUrl",this.ad):Qr(t,"redirectUrl"),this.F?Gr(t,"eventId",this.F):Qr(t,"eventId"),this.Ka?Gr(t,"v",this.Ka):Qr(t,"v"),this.Nb)for(var n in this.Nb)this.Nb.hasOwnProperty(n)&&!Xr(t,n)&&Gr(t,n,this.Nb[n]);return t.toString()};var Ss=function(t,e,n,r){this.v=t,this.j=e,this.B=n,this.Ae=(this.za=r||null)?Oi(this.za):null,r=this.za,this.Ke=new xs(t,e,n).setVersion(r).toString(),this.ia=[],this.g=new Co(e,null,this.Ae),this.dc=this.ra=null},Cs=function(t){var e=fi();return Vo(t).then(function(t){t:{for(var n=Jr(e),r=n.da,n=n.$,i=0;i<t.length;i++){var o,s=t[i];o=n;var a=r;if(0==s.indexOf("chrome-extension://")?o=Jr(s).$==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:wi.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new oo(fi())})};t=Ss.prototype,t.ub=function(){if(this.dc)return this.dc;var t=this;return this.dc=xi().then(function(){t.$b=new ds(t.Ke),Es(t)})},t.Hb=function(t,e,n){var r=new to("popup-closed-by-user"),i=new to("web-storage-unsupported"),o=this,s=!1;return this.Da().then(function(){Ts(o).then(function(n){n||(t&&yi(t),e(i),s=!0)})}).c(function(){}).then(function(){if(!s)return bi(t)}).then(function(){if(!s)return kr(n).then(function(){e(r)})})},t.Td=function(){var t=_i();return!Ni(t)&&!Di(t)},t.zd=function(){return!1},t.Bb=function(t,e,n,r,i,o,s){if(!t)return vn(new to("popup-blocked"));if(s&&!Ni())return this.Da().c(function(e){yi(t),i(e)}),r(),dn();this.ra||(this.ra=Cs(this.g));var a=this;return this.ra.then(function(){var e=a.Da().c(function(e){throw yi(t),i(e),e});return r(),e}).then(function(){if(bo(n),!s){var r=As(a.v,a.j,a.B,e,n,null,o,a.za);pi(r,t)}}).c(function(t){throw"auth/network-request-failed"==t.code&&(a.ra=null),t})},t.Cb=function(t,e,n){this.ra||(this.ra=Cs(this.g));var r=this;return this.ra.then(function(){bo(e);var i=As(r.v,r.j,r.B,t,e,fi(),n,r.za);pi(i)})},t.Da=function(){var t=this;return this.ub().then(function(){return t.$b.Uc}).c(function(){throw t.ra=null,new to("network-request-failed")})},t.Xd=function(){return!0};var As=function(t,e,n,r,i,o,s,a,u){return t=new ks(t,e,n,r,i),t.ad=o,t.F=s,o=t.setVersion(a),o.Nb=nt(u||null),o.toString()},Es=function(t){if(!t.$b)throw Error("IfcHandler must be initialized!");ys(t.$b,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=io(e.authEvent),n=0;n<t.ia.length;n++)r=t.ia[n](e)||r;return n={},n.status=r?"ACK":"ERROR",dn(n)}return n.status="ERROR",dn(n)})},Ts=function(t){var e={type:"webStorageSupport"};return t.ub().then(function(){return t.$b.sendMessage(e)}).then(function(t){if(t&&t.length&&"undefined"!=typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})};Ss.prototype.Ma=function(t){this.ia.push(t)},Ss.prototype.Fb=function(t){X(this.ia,function(e){return e==t})};var Os=function(t){if(this.A=t||r.INTERNAL.reactNative&&r.INTERNAL.reactNative.AsyncStorage,!this.A)throw new to("internal-error","The React Native compatibility library was not found.")};t=Os.prototype,t.get=function(t){return dn(this.A.getItem(t)).then(function(t){return t&&Vi(t)})},t.set=function(t,e){return dn(this.A.setItem(t,ji(e)))},t.remove=function(t){return dn(this.A.removeItem(t))},t.Na=function(){},t.fb=function(){};var _s=function(){this.A={}};t=_s.prototype,t.get=function(t){return dn(this.A[t])},t.set=function(t,e){return this.A[t]=e,dn()},t.remove=function(t){return delete this.A[t],dn()},t.Na=function(){},t.fb=function(){};var Rs=function(){if(!Ps()){if("Node"==Ai())throw new to("internal-error","The LocalStorage compatibility library was not found.");throw new to("web-storage-unsupported")}this.A=n.localStorage||r.INTERNAL.node.localStorage},Ps=function(){var t="Node"==Ai(),t=n.localStorage||t&&r.INTERNAL.node&&r.INTERNAL.node.localStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=Rs.prototype,t.get=function(t){var e=this;return dn().then(function(){var n=e.A.getItem(t);return Vi(n)})},t.set=function(t,e){var n=this;return dn().then(function(){var r=ji(e);null===r?n.remove(t):n.A.setItem(t,r)})},t.remove=function(t){var e=this;return dn().then(function(){e.A.removeItem(t)})},t.Na=function(t){n.window&&re(n.window,"storage",t)},t.fb=function(t){n.window&&ae(n.window,"storage",t)};var Ms=function(){this.A={}};t=Ms.prototype,t.get=function(){return dn(null)},t.set=function(){return dn()},t.remove=function(){return dn()},t.Na=function(){},t.fb=function(){};var Is=function(){if(!Ns()){if("Node"==Ai())throw new to("internal-error","The SessionStorage compatibility library was not found.");throw new to("web-storage-unsupported")}this.A=n.sessionStorage||r.INTERNAL.node.sessionStorage},Ns=function(){var t="Node"==Ai(),t=n.sessionStorage||t&&r.INTERNAL.node&&r.INTERNAL.node.sessionStorage;if(!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}};t=Is.prototype,t.get=function(t){var e=this;return dn().then(function(){var n=e.A.getItem(t);return Vi(n)})},t.set=function(t,e){var n=this;return dn().then(function(){var r=ji(e);null===r?n.remove(t):n.A.setItem(t,r)})},t.remove=function(t){var e=this;return dn().then(function(){e.A.removeItem(t)})},t.Na=function(){},t.fb=function(){};var js,Ls=function(t,e,r,i,o,s){if(!window.indexedDB)throw new to("web-storage-unsupported");this.qe=t,this.Tc=e,this.Gc=r,this.ae=i,this.mb=o,this.T={},this.Ib=[],this.xb=0,this.Le=s||n.indexedDB},Vs=function(t){return new ln(function(e,n){var r=t.Le.open(t.qe,t.mb);r.onerror=function(t){n(Error(t.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore(t.Tc,{keyPath:t.Gc})}catch(t){n(t)}},r.onsuccess=function(t){e(t.target.result)}})},Fs=function(t){return t.Cd||(t.Cd=Vs(t)),t.Cd},Ds=function(t,e){return e.objectStore(t.Tc)},Bs=function(t,e,n){return e.transaction([t.Tc],n?"readwrite":"readonly")},qs=function(t){return new ln(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})};t=Ls.prototype,t.set=function(t,e){var n,r=!1,i=this;return mn(Fs(this).then(function(e){return n=e,e=Ds(i,Bs(i,n,!0)),qs(e.get(t))}).then(function(o){var s=Ds(i,Bs(i,n,!0));return o?(o.value=e,qs(s.put(o))):(i.xb++,r=!0,o={},o[i.Gc]=t,o[i.ae]=e,qs(s.add(o)))}).then(function(){i.T[t]=e}),function(){r&&i.xb--})},t.get=function(t){var e=this;return Fs(this).then(function(n){return qs(Ds(e,Bs(e,n,!1)).get(t))}).then(function(t){return t&&t.value})},t.remove=function(t){var e=!1,n=this;return mn(Fs(this).then(function(r){return e=!0,n.xb++,qs(Ds(n,Bs(n,r,!0)).delete(t))}).then(function(){delete n.T[t]}),function(){e&&n.xb--})},t.nf=function(){var t=this;return Fs(this).then(function(e){var n=Ds(t,Bs(t,e,!1));return n.getAll?qs(n.getAll()):new ln(function(t,e){var r=[],i=n.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){e(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.xb){for(r=0;r<e.length;r++)n[e[r][t.Gc]]=e[r][t.ae];r=di(t.T,n),t.T=n}return r})},t.Na=function(t){0==this.Ib.length&&this.gd(),this.Ib.push(t)},t.fb=function(t){X(this.Ib,function(e){return e==t}),0==this.Ib.length&&this.rc()},t.gd=function(){var t=this;this.rc();var e=function(){return t.Xc=kr(800).then(v(t.nf,t)).then(function(e){0<e.length&&B(t.Ib,function(t){t(e)})}).then(e).c(function(t){"STOP_EVENT"!=t.message&&e()}),t.Xc};e()},t.rc=function(){this.Xc&&this.Xc.cancel("STOP_EVENT")};var Us,Hs,zs=function(){this.sd={Browser:Ws,Node:Ks,ReactNative:Gs}[Ai()]},Ws={I:Rs,jd:Is},Ks={I:Rs,jd:Is},Gs={I:Os,jd:Ms},Xs=function(t){var e={},n=t.email,r=t.newEmail;if(t=t.requestType,!n||!t)throw Error("Invalid provider user info!");e.fromEmail=r||null,e.email=n,Wi(this,"operation",t),Wi(this,"data",Qi(e))},Qs="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),$s=function(t,e){return{name:t||"",fa:"a valid string",optional:!!e,ha:c}},Js=function(t){return{name:t||"",fa:"a valid object",optional:!1,ha:f}},Ys=function(t,e){return{name:t||"",fa:"a function",optional:!!e,ha:h}},Zs=function(){return{name:"",fa:"null",optional:!1,ha:s}},ta=function(){return{name:"credential",fa:"a valid credential",optional:!1,ha:function(t){return!(!t||!t.Ub)}}},ea=function(){return{name:"authProvider",fa:"a valid Auth provider",optional:!1,ha:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}},na=function(t,e,n,r){return{name:n||"",fa:t.fa+" or "+e.fa,optional:!!r,ha:function(n){return t.ha(n)||e.ha(n)}}},ra=function(t,e){for(var n in e){var r=e[n].name;t[r]=oa(r,t[n],e[n].a)}},ia=function(t,e,n,r){t[e]=oa(e,n,r)},oa=function(t,e,n){if(!n)return e;var r=sa(t);t=function(){var t,i=Array.prototype.slice.call(arguments);t:{t=Array.prototype.slice.call(i);var o;o=0;for(var s=!1,a=0;a<n.length;a++)if(n[a].optional)s=!0;else{if(s)throw new to("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(s=n.length,t.length<o||s<t.length)t="Expected "+(o==s?1==o?"1 argument":o+" arguments":o+"-"+s+" arguments")+" but got "+t.length+".";else{for(o=0;o<t.length;o++)if(s=n[o].optional&&void 0===t[o],!n[o].ha(t[o])&&!s){if(t=n[o],0>o||o>=Qs.length)throw new to("internal-error","Argument validator received an unsupported number of arguments.");t=Qs[o]+" argument "+(t.name?'"'+t.name+'" ':"")+"must be "+t.fa+".";break t}t=null}}if(t)throw new to("argument-error",r+" failed: "+t);return e.apply(this,i)};for(var i in e)t[i]=e[i];for(i in e.prototype)t.prototype[i]=e.prototype[i];return t},sa=function(t){return t=t.split("."),t[t.length-1]},aa=function(t,e,n,r){this.Ye=t,this.Qd=e,this.Nd=n,this.Gb=r,this.S={},Us||(Us=new zs),t=Us;try{var i;hi()?(js||(js=new Ls("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),i=js):i=new t.sd.I,this.Ya=i}catch(t){this.Ya=new _s,this.Gb=!0}try{this.tc=new t.sd.jd}catch(t){this.tc=new _s}this.Ud=v(this.Vd,this),this.T={}},ua=function(){return Hs||(Hs=new aa("firebase",":",!(Di(_i())||!Ci()),Ni())),Hs};t=aa.prototype,t.P=function(t,e){return this.Ye+this.Qd+t.name+(e?this.Qd+e:"")},t.get=function(t,e){return(t.I?this.Ya:this.tc).get(this.P(t,e))},t.remove=function(t,e){return e=this.P(t,e),t.I&&!this.Gb&&(this.T[e]=null),(t.I?this.Ya:this.tc).remove(e)},t.set=function(t,e,n){var r=this.P(t,n),i=this,o=t.I?this.Ya:this.tc;return o.set(r,e).then(function(){return o.get(r)}).then(function(e){t.I&&!this.Gb&&(i.T[r]=e)})},t.addListener=function(t,e,r){t=this.P(t,e),this.Gb||(this.T[t]=n.localStorage.getItem(t)),tt(this.S)&&this.gd(),this.S[t]||(this.S[t]=[]),this.S[t].push(r)},t.removeListener=function(t,e,n){t=this.P(t,e),this.S[t]&&(X(this.S[t],function(t){return t==n}),0==this.S[t].length&&delete this.S[t]),tt(this.S)&&this.rc()},t.gd=function(){this.Gb||this.Nd||hi()?this.Ya.Na(this.Ud):ca(this)};var ca=function(t){la(t),t.Sc=setInterval(function(){for(var e in t.S){var r=n.localStorage.getItem(e);r!=t.T[e]&&(t.T[e]=r,r=new Kt({type:"storage",key:e,target:window,oldValue:t.T[e],newValue:r}),t.Vd(r))}},1e3)},la=function(t){t.Sc&&(clearInterval(t.Sc),t.Sc=null)};aa.prototype.rc=function(){this.Ya.fb(this.Ud),la(this)},aa.prototype.Vd=function(t){if(t&&t.Be){var e=t.pb.key;if(this.Nd){var r=n.localStorage.getItem(e);t=t.pb.newValue,t!=r&&(t?n.localStorage.setItem(e,t):t||n.localStorage.removeItem(e))}this.T[e]=n.localStorage.getItem(e),this.md(e)}else B(t,v(this.md,this))},aa.prototype.md=function(t){this.S[t]&&B(this.S[t],function(t){t()})};var ha=function(t,e){this.u=t,this.i=e||ua()},fa={name:"authEvent",I:!0},pa=function(t){return t.i.get(fa,t.u).then(function(t){return io(t)})};ha.prototype.Ma=function(t){this.i.addListener(fa,this.u,t)},ha.prototype.Fb=function(t){this.i.removeListener(fa,this.u,t)};var da=function(t){this.i=t||ua()},va={name:"sessionId",I:!1};da.prototype.Vb=function(t){return this.i.get(va,t)};var ga=function(t,e,n,r,i,o){this.v=t,this.j=e,this.B=n,this.za=r||null,this.Wd=e+":"+n,this.ff=new da,this.wd=new ha(this.Wd),this.Oc=null,this.ia=[],this.Oe=i||500,this.df=o||2e3,this.tb=this.hc=null},ya=function(t){return new to("invalid-cordova-configuration",t)};ga.prototype.Da=function(){return this.Qc?this.Qc:this.Qc=ki().then(function(){if("function"!=typeof Ri("universalLinks.subscribe",n))throw ya("cordova-universal-links-plugin is not installed");if("undefined"==typeof Ri("BuildInfo.packageName",n))throw ya("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ri("cordova.plugins.browsertab.openUrl",n))throw ya("cordova-plugin-browsertab is not installed");if("function"!=typeof Ri("cordova.InAppBrowser.open",n))throw ya("cordova-plugin-inappbrowser is not installed")},function(){throw new to("cordova-not-ready")})};var ma=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")},ba=function(t){var e=new Bt;return e.update(t),Tt(e.digest())};t=ga.prototype,t.Hb=function(t,e){return e(new to("operation-not-supported-in-this-environment")),dn()},t.Bb=function(){return vn(new to("operation-not-supported-in-this-environment"))},t.Xd=function(){return!1},t.Td=function(){return!0},t.zd=function(){return!0},t.Cb=function(t,e,r){if(this.hc)return vn(new to("redirect-operation-pending"));var i=this,o=n.document,s=null,a=null,u=null,c=null;return this.hc=mn(dn().then(function(){return bo(e),ka(i)}).then(function(){return wa(i,t,e,r)}).then(function(){return new ln(function(t,e){a=function(){var e=Ri("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.tb&&"function"==typeof i.tb.close&&(i.tb.close(),i.tb=null),!1},i.Ma(a),u=function(){s||(s=kr(i.df).then(function(){e(new to("redirect-cancelled-by-user"))}))},c=function(){var t=n.document;(t&&"undefined"!=typeof t.visibilityState?"visible"==t.visibilityState:1)&&u()},o.addEventListener("resume",u,!1),_i().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).c(function(t){return Sa(i).then(function(){throw t})})}),function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Fb(a),i.hc=null})};var wa=function(t,e,r,i){var o=ma(),s=new ro(e,i,null,o,new to("no-auth-event")),a=Ri("BuildInfo.packageName",n);if("string"!=typeof a)throw new to("invalid-cordova-configuration");var u=Ri("BuildInfo.displayName",n),c={};if(_i().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!_i().toLowerCase().match(/android/))return vn(new to("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=ba(o),c.sessionId=o;var l=As(t.v,t.j,t.B,e,r,null,i,t.za,c);return t.Da().then(function(){var e=t.Wd;return t.ff.i.set(fa,s.D(),e)}).then(function(){var e=Ri("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new to("invalid-cordova-configuration");var r=null;e(function(e){if(e){if(r=Ri("cordova.plugins.browsertab.openUrl",n),"function"!=typeof r)throw new to("invalid-cordova-configuration");r(l)}else{if(r=Ri("cordova.InAppBrowser.open",n),"function"!=typeof r)throw new to("invalid-cordova-configuration");e=r;var i;i=_i(),i=!(!i.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!i.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.tb=e(l,i?"_blank":"_system","location=yes")}})})},xa=function(t,e){for(var n=0;n<t.ia.length;n++)try{t.ia[n](e)}catch(t){}},ka=function(t){return t.Oc||(t.Oc=t.Da().then(function(){return new ln(function(e){var n=function(r){return e(r),t.Fb(n),!1};t.Ma(n),Ca(t)})})),t.Oc},Sa=function(t){var e=null;return pa(t.wd).then(function(n){return e=n,n=t.wd,n.i.remove(fa,n.u)}).then(function(){return e})},Ca=function(t){var e=Ri("universalLinks.subscribe",n);if("function"!=typeof e)throw new to("invalid-cordova-configuration");var r=new ro("unknown",null,null,null,new to("no-auth-event")),i=!1,o=kr(t.Oe).then(function(){return Sa(t).then(function(){i||xa(t,r)})}),s=function(e){i=!0,o&&o.cancel(),Sa(t).then(function(n){var i=r;if(n&&e&&e.url){var o,i=null;o=e.url;var s=Jr(o),a=Xr(s,"link"),u=Xr(Jr(a),"link"),s=Xr(s,"deep_link_id");o=Xr(Jr(s),"link")||s||u||a||o,-1!=o.indexOf("/__/auth/callback")&&(i=Jr(o),i=Vi(Xr(i,"error")||null),i=(i="object"==typeof i?eo(i):null)?new ro(n.ga,n.F,null,null,i):new ro(n.ga,n.F,o,n.Vb())),i=i||r}xa(t,i)})},a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.indexOf(Ri("BuildInfo.packageName",n)+"://")&&s({url:t}),"function"==typeof a)try{a(t)}catch(t){console.error(t)}},e(null,s)};ga.prototype.Ma=function(t){this.ia.push(t),ka(this).c(function(){})},ga.prototype.Fb=function(t){X(this.ia,function(e){return e==t})};var Aa=function(t){this.u=t,this.i=ua()},Ea={name:"pendingRedirect",I:!1},Ta=function(t){return t.i.set(Ea,"pending",t.u)},Oa=function(t){return t.i.remove(Ea,t.u)},_a=function(t){return t.i.get(Ea,t.u).then(function(t){return"pending"==t})},Ra=function(t,e,n){this.v=t,this.j=e,this.B=n,this.Jb=[],this.Wa=!1,this.Cc=v(this.Mc,this),this.ab=new Fa(this),this.Jd=new za(this),this.yb=new Aa(this.j+":"+this.B),this.kb={},this.kb.unknown=this.ab,this.kb.signInViaRedirect=this.ab,this.kb.linkViaRedirect=this.ab,this.kb.signInViaPopup=this.Jd,this.kb.linkViaPopup=this.Jd,this.G=Pa(this.v,this.j,this.B)},Pa=function(t,e,n){var i=r.SDK_VERSION||null;return Si()?new ga(t,e,n,i):new Ss(t,e,n,i)};Ra.prototype.reset=function(){this.Wa=!1,this.G.Fb(this.Cc),this.G=Pa(this.v,this.j,this.B)},Ra.prototype.ub=function(){var t=this;this.Wa||(this.Wa=!0,this.G.Ma(this.Cc));var e=this.G;return this.G.Da().c(function(n){throw t.G==e&&t.reset(),n})};var Ma=function(t){t.G.Td()&&t.ub().c(function(e){var n=new ro("unknown",null,null,null,new to("operation-not-supported-in-this-environment"));ja(e)&&t.Mc(n)}),t.G.zd()||Da(t.ab)};Ra.prototype.subscribe=function(t){if(W(this.Jb,t)||this.Jb.push(t),!this.Wa){var e=this;_a(this.yb).then(function(t){t?Oa(e.yb).then(function(){e.ub().c(function(t){var n=new ro("unknown",null,null,null,new to("operation-not-supported-in-this-environment"));ja(t)&&e.Mc(n)})}):Ma(e)}).c(function(){Ma(e)})}},Ra.prototype.unsubscribe=function(t){X(this.Jb,function(e){return e==t})},Ra.prototype.Mc=function(t){if(!t)throw new to("invalid-auth-event");for(var e=!1,n=0;n<this.Jb.length;n++){var r=this.Jb[n];if(r.nd(t.ga,t.F)){(e=this.kb[t.ga])&&e.Kd(t,r),e=!0;break}}return Da(this.ab),e};var Ia=new Ui(2e3,1e4),Na=new Ui(3e4,6e4);Ra.prototype.getRedirectResult=function(){return this.ab.getRedirectResult()},Ra.prototype.Bb=function(t,e,n,r,i){var o=this;return this.G.Bb(t,e,n,function(){o.Wa||(o.Wa=!0,o.G.Ma(o.Cc))},function(){o.reset()},r,i)};var ja=function(t){return!(!t||"auth/cordova-not-ready"!=t.code)};Ra.prototype.Cb=function(t,e,n){var r,i=this;return Ta(this.yb).then(function(){return i.G.Cb(t,e,n).c(function(t){if(ja(t))throw new to("operation-not-supported-in-this-environment");return r=t,Oa(i.yb).then(function(){throw r})}).then(function(){return i.G.Xd()?new ln(function(){}):Oa(i.yb).then(function(){return i.getRedirectResult()}).then(function(){}).c(function(){})})})},Ra.prototype.Hb=function(t,e,n,r){return this.G.Hb(n,function(n){t.Ia(e,null,n,r)},Ia.get())};var La={},Va=function(t,e,n){var r=e+":"+n;return La[r]||(La[r]=new Ra(t,e,n)),La[r]},Fa=function(t){this.i=t,this.eb=null,this.Eb=[],this.Db=[],this.bb=null,this.$c=!1};Fa.prototype.reset=function(){this.eb=null,this.bb&&(this.bb.cancel(),this.bb=null)},Fa.prototype.Kd=function(t,e){if(!t)return vn(new to("invalid-auth-event"));this.reset(),this.$c=!0;var n=t.ga,r=t.F,i=t.getError()&&"auth/web-storage-unsupported"==t.getError().code,o=t.getError()&&"auth/operation-not-supported-in-this-environment"==t.getError().code;return"unknown"!=n||i||o?t=t.O?this.Yc(t,e):e.qb(n,r)?this.Zc(t,e):vn(new to("invalid-auth-event")):(Ua(this,!1,null,null),t=dn()),t};var Da=function(t){t.$c||(t.$c=!0,Ua(t,!1,null,null))};Fa.prototype.Yc=function(t){return Ua(this,!0,null,t.getError()),dn()},Fa.prototype.Zc=function(t,e){var n=this,r=t.ga;e=e.qb(r,t.F);var i=t.lb;t=t.Vb();var o="signInViaRedirect"==r||"linkViaRedirect"==r;return e(i,t).then(function(t){Ua(n,o,t,null)}).c(function(t){Ua(n,o,null,t)})};var Ba=function(t,e){if(t.eb=function(){return vn(e)},t.Db.length)for(var n=0;n<t.Db.length;n++)t.Db[n](e)},qa=function(t,e){if(t.eb=function(){return dn(e)},t.Eb.length)for(var n=0;n<t.Eb.length;n++)t.Eb[n](e)},Ua=function(t,e,n,r){e?r?Ba(t,r):qa(t,n):qa(t,{user:null}),t.Eb=[],t.Db=[]};Fa.prototype.getRedirectResult=function(){var t=this;return new ln(function(e,n){t.eb?t.eb().then(e,n):(t.Eb.push(e),t.Db.push(n),Ha(t))})};var Ha=function(t){var e=new to("timeout");t.bb&&t.bb.cancel(),t.bb=kr(Na.get()).then(function(){t.eb||Ua(t,!0,null,e)})},za=function(t){this.i=t};za.prototype.Kd=function(t,e){if(!t)return vn(new to("invalid-auth-event"));var n=t.ga,r=t.F;return t.O?this.Yc(t,e):e.qb(n,r)?this.Zc(t,e):vn(new to("invalid-auth-event"))},za.prototype.Yc=function(t,e){return e.Ia(t.ga,null,t.getError(),t.F),dn()},za.prototype.Zc=function(t,e){var n=t.F,r=t.ga,i=e.qb(r,n),o=t.lb;return t=t.Vb(),i(o,t).then(function(t){e.Ia(r,t,null,n)}).c(function(t){e.Ia(r,null,t,n)})};var Wa=function(t){this.g=t,this.xa=this.X=null,this.Sa=0};Wa.prototype.D=function(){return{apiKey:this.g.j,refreshToken:this.X,accessToken:this.xa,expirationTime:this.Sa}};var Ka=function(t,e){var n=e.idToken,r=e.refreshToken;e=Ga(e.expiresIn),t.xa=n,t.Sa=e,t.X=r},Ga=function(t){return y()+1e3*parseInt(t,10)},Xa=function(t,e){return Mo(t.g,e).then(function(e){return t.xa=e.access_token,t.Sa=Ga(e.expires_in),t.X=e.refresh_token,{accessToken:t.xa,
expirationTime:t.Sa,refreshToken:t.X}}).c(function(e){throw"auth/user-token-expired"==e.code&&(t.X=null),e})},Qa=function(t){return!(!t.xa||t.X)};Wa.prototype.getToken=function(t){return t=!!t,Qa(this)?vn(new to("user-token-expired")):t||!this.xa||y()>this.Sa-3e4?this.X?Xa(this,{grant_type:"refresh_token",refresh_token:this.X}):dn(null):dn({accessToken:this.xa,expirationTime:this.Sa,refreshToken:this.X})};var $a=function(t,e,n,r,i){Ki(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,providerId:e})},Ja=function(t,e){Wt.call(this,t);for(var n in e)this[n]=e[n]};m(Ja,Wt);var Ya=function(t,e,n){this.Z=[],this.j=t.apiKey,this.B=t.appName,this.v=t.authDomain||null,t=r.SDK_VERSION?Oi(r.SDK_VERSION):null,this.g=new Co(this.j,null,t),this.ea=new Wa(this.g),Za(this,e.idToken),Ka(this.ea,e),Wi(this,"refreshToken",this.ea.X),ru(this,n||{}),Jn.call(this),this.ic=!1,this.v&&Pi()&&(this.m=Va(this.v,this.j,this.B)),this.qc=[],this.Bc=dn()};m(Ya,Jn),Ya.prototype.ta=function(t,e){var n=Array.prototype.slice.call(arguments,1),r=this;return this.Bc=this.Bc.then(function(){return t.apply(r,n)},function(){return t.apply(r,n)})};var Za=function(t,e){t.Dd=e,Wi(t,"_lat",e)},tu=function(t,e){X(t.qc,function(t){return t==e})},eu=function(t){for(var e=[],n=0;n<t.qc.length;n++)e.push(t.qc[n](t));return yn(e).then(function(){return t})},nu=function(t){t.m&&!t.ic&&(t.ic=!0,t.m.subscribe(t))},ru=function(t,e){Ki(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,isAnonymous:e.isAnonymous||!1,providerData:[]})};Wi(Ya.prototype,"providerId","firebase");var iu=function(){},ou=function(t){return dn().then(function(){if(t.se)throw new to("app-deleted")})},su=function(t){return U(t.providerData,function(t){return t.providerId})},au=function(t,e){e&&(uu(t,e.providerId),t.providerData.push(e))},uu=function(t,e){X(t.providerData,function(t){return t.providerId==e})},cu=function(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wi(t,e,n)};Ya.prototype.copy=function(t){var e=this;e!=t&&(Ki(this,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,isAnonymous:t.isAnonymous,providerData:[]}),B(t.providerData,function(t){au(e,t)}),this.ea=t.ea,Wi(this,"refreshToken",this.ea.X))},Ya.prototype.reload=function(){var t=this;return ou(this).then(function(){return lu(t).then(function(){return eu(t)}).then(iu)})};var lu=function(t){return t.getToken().then(function(e){var n=t.isAnonymous;return fu(t,e).then(function(){return n||cu(t,"isAnonymous",!1),e}).c(function(e){throw"auth/user-token-expired"==e.code&&(t.dispatchEvent(new Ja("userDeleted")),yu(t)),e})})};Ya.prototype.getToken=function(t){var e=this,n=Qa(this.ea);return ou(this).then(function(){return e.ea.getToken(t)}).then(function(t){if(!t)throw new to("internal-error");return t.accessToken!=e.Dd&&(Za(e,t.accessToken),e.Ea()),cu(e,"refreshToken",t.refreshToken),t.accessToken}).c(function(t){if("auth/user-token-expired"==t.code&&!n)return eu(e).then(function(){throw cu(e,"refreshToken",null),t});throw t})};var hu=function(t,e){e.idToken&&t.Dd!=e.idToken&&(Ka(t.ea,e),t.Ea(),Za(t,e.idToken),cu(t,"refreshToken",t.ea.X))};Ya.prototype.Ea=function(){this.dispatchEvent(new Ja("tokenChanged"))};var fu=function(t,e){return ls(t.g,Yo,{idToken:e}).then(v(t.bf,t))};Ya.prototype.bf=function(t){if(t=t.users,!t||!t.length)throw new to("internal-error");t=t[0],ru(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified});for(var e=pu(t),n=0;n<e.length;n++)au(this,e[n]);cu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))};var pu=function(t){return(t=t.providerUserInfo)&&t.length?U(t,function(t){return new $a(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl)}):[]};Ya.prototype.reauthenticate=function(t){var e=this;return this.f(t.Ub(this.g).then(function(t){var n;t:{var r=t.idToken.split(".");if(3==r.length){for(var r=r[1],i=(4-r.length%4)%4,o=0;o<i;o++)r+=".";try{var s=JSON.parse(Rt(r));if(s.sub&&s.iss&&s.aud&&s.exp){n=new so(s);break t}}catch(t){}}n=null}if(!n||e.uid!=n.Ue)throw new to("user-mismatch");return hu(e,t),e.reload()}))};var du=function(t,e){return lu(t).then(function(){if(W(su(t),e))return eu(t).then(function(){throw new to("provider-already-linked")})})};t=Ya.prototype,t.Se=function(t){var e=this;return this.f(du(this,t.provider).then(function(){return e.getToken()}).then(function(n){return t.Fd(e.g,n)}).then(v(this.ud,this)))},t.link=function(t){return this.ta(this.Se,t)},t.ud=function(t){hu(this,t);var e=this;return this.reload().then(function(){return e})},t.tf=function(t){var e=this;return this.f(this.getToken().then(function(n){return e.g.updateEmail(n,t)}).then(function(t){return hu(e,t),e.reload()}))},t.updateEmail=function(t){return this.ta(this.tf,t)},t.uf=function(t){var e=this;return this.f(this.getToken().then(function(n){return e.g.updatePassword(n,t)}).then(function(t){return hu(e,t),e.reload()}))},t.updatePassword=function(t){return this.ta(this.uf,t)},t.vf=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return ou(this);var e=this;return this.f(this.getToken().then(function(n){return e.g.updateProfile(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return hu(e,t),cu(e,"displayName",t.displayName||null),cu(e,"photoURL",t.photoUrl||null),eu(e)}).then(iu))},t.updateProfile=function(t){return this.ta(this.vf,t)},t.sf=function(t){var e=this;return this.f(lu(this).then(function(n){return W(su(e),t)?Bo(e.g,n,[t]).then(function(t){var n={};return B(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),B(su(e),function(t){n[t]||uu(e,t)}),eu(e)}):eu(e).then(function(){throw new to("no-such-provider")})}))},t.unlink=function(t){return this.ta(this.sf,t)},t.re=function(){var t=this;return this.f(this.getToken().then(function(e){return ls(t.g,$o,{idToken:e})}).then(function(){t.dispatchEvent(new Ja("userDeleted"))})).then(function(){yu(t)})},t.delete=function(){return this.ta(this.re)},t.nd=function(t,e){return!!("linkViaPopup"==t&&(this.la||null)==e&&this.ca||"linkViaRedirect"==t&&(this.mc||null)==e)},t.Ia=function(t,e,n,r){"linkViaPopup"==t&&r==(this.la||null)&&(n&&this.Ga?this.Ga(n):e&&!n&&this.ca&&this.ca(e),this.J&&(this.J.cancel(),this.J=null),delete this.ca,delete this.Ga)},t.qb=function(t,e){return"linkViaPopup"==t&&e==(this.la||null)||"linkViaRedirect"==t&&(this.mc||null)==e?v(this.ve,this):null},t.Tb=function(){return Fi(this.uid+":::")};var vu=function(t,e){if(!Pi())return vn(new to("operation-not-supported-in-this-environment"));var n=Yi(e.providerId),i=t.Tb(),o=null;(!Ni()||Ci())&&t.v&&e.isOAuthProvider&&(o=As(t.v,t.j,t.B,"linkViaPopup",e,null,i,r.SDK_VERSION||null));var s=mi(o,n&&n.Ab,n&&n.zb),n=du(t,e.providerId).then(function(){return eu(t)}).then(function(){return gu(t),t.getToken()}).then(function(){return t.m.Bb(s,"linkViaPopup",e,i,!!o)}).then(function(){return new ln(function(e,n){t.Ia("linkViaPopup",null,new to("cancelled-popup-request"),t.la||null),t.ca=e,t.Ga=n,t.la=i,t.J=t.m.Hb(t,"linkViaPopup",s,i)})}).then(function(t){return s&&yi(s),t}).c(function(t){throw s&&yi(s),t});return t.f(n)};Ya.prototype.linkWithPopup=function(t){var e=vu(this,t);return this.ta(function(){return e})},Ya.prototype.Te=function(t){if(!Pi())return vn(new to("operation-not-supported-in-this-environment"));var e=this,n=null,r=this.Tb(),i=du(this,t.providerId).then(function(){return gu(e),e.getToken()}).then(function(){return e.mc=r,eu(e)}).then(function(t){return e.Ha&&(t=e.Ha,t=t.i.set(xu,e.D(),t.u)),t}).then(function(){return e.m.Cb("linkViaRedirect",t,r)}).c(function(t){if(n=t,e.Ha)return ku(e.Ha);throw n}).then(function(){if(n)throw n});return this.f(i)},Ya.prototype.linkWithRedirect=function(t){return this.ta(this.Te,t)};var gu=function(t){if(!t.m||!t.ic){if(t.m&&!t.ic)throw new to("internal-error");throw new to("auth-domain-config-required")}};Ya.prototype.ve=function(t,e){var n=this;this.J&&(this.J.cancel(),this.J=null);var r=null,i=this.getToken().then(function(r){return zo(n.g,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=mo(t),n.ud(t)}).then(function(t){return{user:t,credential:r}});return this.f(i)},Ya.prototype.sendEmailVerification=function(){var t=this;return this.f(this.getToken().then(function(e){return t.g.sendEmailVerification(e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))};var yu=function(t){for(var e=0;e<t.Z.length;e++)t.Z[e].cancel("app-deleted");t.Z=[],t.se=!0,Wi(t,"refreshToken",null),t.m&&t.m.unsubscribe(t)};Ya.prototype.f=function(t){var e=this;return this.Z.push(t),mn(t,function(){K(e.Z,t)}),t},Ya.prototype.toJSON=function(){return this.D()},Ya.prototype.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.j,appName:this.B,authDomain:this.v,stsTokenManager:this.ea.D(),redirectEventId:this.mc||null};return B(this.providerData,function(e){t.providerData.push(Gi(e))}),t};var mu=function(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n.idToken=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-y())/1e3;var r=new Ya(e,n,t);return t.providerData&&B(t.providerData,function(t){if(t){var e={};Ki(e,t),au(r,e)}}),t.redirectEventId&&(r.mc=t.redirectEventId),r},bu=function(t,e,n){var r=new Ya(t,e);return n&&(r.Ha=n),r.reload().then(function(){return r})},wu=function(t){this.u=t,this.i=ua()},xu={name:"redirectUser",I:!1},ku=function(t){return t.i.remove(xu,t.u)},Su=function(t,e){return t.i.get(xu,t.u).then(function(t){return t&&e&&(t.authDomain=e),mu(t||{})})},Cu=function(t){this.u=t,this.i=ua()},Au={name:"authUser",I:!0},Eu=function(t,e){return t.i.set(Au,e.D(),t.u)},Tu=function(t){return t.i.remove(Au,t.u)},Ou=function(t,e){return t.i.get(Au,t.u).then(function(t){return t&&e&&(t.authDomain=e),mu(t||{})})},_u=function(t){if(this.Qa=!1,Wi(this,"app",t),!Fu(this).options||!Fu(this).options.apiKey)throw new to("invalid-api-key");t=r.SDK_VERSION?Oi(r.SDK_VERSION):null,this.g=new Co(Fu(this).options&&Fu(this).options.apiKey,null,t),this.Z=[],this.Oa=[],this.$e=r.INTERNAL.createSubscribe(v(this.Me,this)),Iu(this,null),this.oa=new Cu(Fu(this).options.apiKey+":"+Fu(this).name),this.cb=new wu(Fu(this).options.apiKey+":"+Fu(this).name),this.Ob=this.f(ju(this)),this.ua=this.f(Lu(this)),this.Rc=!1,this.Lc=v(this.mf,this),this.Zd=v(this.Ua,this),this.$d=v(this.Ie,this),this.Yd=v(this.He,this),Pu(this),this.INTERNAL={},this.INTERNAL.delete=v(this.delete,this)};_u.prototype.toJSON=function(){return{apiKey:Fu(this).options.apiKey,authDomain:Fu(this).options.authDomain,appName:Fu(this).name,currentUser:Du(this)&&Du(this).D()}};var Ru=function(t){return t.te||vn(new to("auth-domain-config-required"))},Pu=function(t){var e=Fu(t).options.authDomain,n=Fu(t).options.apiKey;e&&Pi()&&(t.te=t.Ob.then(function(){if(!t.Qa)return t.m=Va(e,n,Fu(t).name),t.m.subscribe(t),Du(t)&&nu(Du(t)),t.bd&&(nu(t.bd),t.bd=null),t.m}))};t=_u.prototype,t.nd=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.la==e&&!!this.ca;default:return!1}},t.Ia=function(t,e,n,r){"signInViaPopup"==t&&this.la==r&&(n&&this.Ga?this.Ga(n):e&&!n&&this.ca&&this.ca(e),this.J&&(this.J.cancel(),this.J=null),delete this.ca,delete this.Ga)},t.qb=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.la==e&&this.ca?v(this.we,this):null},t.we=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.J&&(this.J.cancel(),this.J=null);var r=null,i=Ho(n.g,t).then(function(t){return r=mo(t),t});return t=n.Ob.then(function(){return i}).then(function(t){return Mu(n,t)}).then(function(){return{user:Du(n),credential:r}}),this.f(t)},t.Tb=function(){return Fi()},t.signInWithPopup=function(t){if(!Pi())return vn(new to("operation-not-supported-in-this-environment"));var e=this,n=Yi(t.providerId),i=this.Tb(),o=null;(!Ni()||Ci())&&Fu(this).options.authDomain&&t.isOAuthProvider&&(o=As(Fu(this).options.authDomain,Fu(this).options.apiKey,Fu(this).name,"signInViaPopup",t,null,i,r.SDK_VERSION||null));var s=mi(o,n&&n.Ab,n&&n.zb),n=Ru(this).then(function(e){return e.Bb(s,"signInViaPopup",t,i,!!o)}).then(function(){return new ln(function(t,n){e.Ia("signInViaPopup",null,new to("cancelled-popup-request"),e.la),e.ca=t,e.Ga=n,e.la=i,e.J=e.m.Hb(e,"signInViaPopup",s,i)})}).then(function(t){return s&&yi(s),t}).c(function(t){throw s&&yi(s),t});return this.f(n)},t.signInWithRedirect=function(t){if(!Pi())return vn(new to("operation-not-supported-in-this-environment"));var e=this,n=Ru(this).then(function(){return e.m.Cb("signInViaRedirect",t)});return this.f(n)},t.getRedirectResult=function(){if(!Pi())return vn(new to("operation-not-supported-in-this-environment"));var t=this,e=Ru(this).then(function(){return t.m.getRedirectResult()});return this.f(e)};var Mu=function(t,e){var n={};return n.apiKey=Fu(t).options.apiKey,n.authDomain=Fu(t).options.authDomain,n.appName=Fu(t).name,t.Ob.then(function(){return bu(n,e,t.cb)}).then(function(e){return Du(t)&&e.uid==Du(t).uid?(Du(t).copy(e),t.Ua(e)):(Iu(t,e),nu(e),t.Ua(e))}).then(function(){t.Ea()})},Iu=function(t,e){Du(t)&&(tu(Du(t),t.Zd),ae(Du(t),"tokenChanged",t.$d),ae(Du(t),"userDeleted",t.Yd)),e&&(e.qc.push(t.Zd),re(e,"tokenChanged",t.$d),re(e,"userDeleted",t.Yd)),Wi(t,"currentUser",e)};_u.prototype.signOut=function(){var t=this,e=this.ua.then(function(){return Du(t)?(Iu(t,null),Tu(t.oa).then(function(){t.Ea()})):dn()});return this.f(e)};var Nu=function(t){var e=Su(t.cb,Fu(t).options.authDomain).then(function(e){return(t.bd=e)&&(e.Ha=t.cb),ku(t.cb)});return t.f(e)},ju=function(t){var e=Fu(t).options.authDomain,n=Nu(t).then(function(){return Ou(t.oa,e)}).then(function(e){return e?(e.Ha=t.cb,e.reload().then(function(){return Eu(t.oa,e).then(function(){return e})}).c(function(n){return"auth/network-request-failed"==n.code?e:Tu(t.oa)})):null}).then(function(e){Iu(t,e||null)});return t.f(n)},Lu=function(t){return t.Ob.then(function(){return t.getRedirectResult()}).c(function(){}).then(function(){if(!t.Qa)return t.Lc()}).c(function(){}).then(function(){if(!t.Qa){t.Rc=!0;var e=t.oa;e.i.addListener(Au,e.u,t.Lc)}})};_u.prototype.mf=function(){var t=this;return Ou(this.oa,Fu(this).options.authDomain).then(function(e){if(!t.Qa){var n;if(n=Du(t)&&e){n=Du(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Du(t).copy(e),Du(t).getToken();(Du(t)||e)&&(Iu(t,e),e&&(nu(e),e.Ha=t.cb),t.m&&t.m.subscribe(t),t.Ea())}})},_u.prototype.Ua=function(t){return Eu(this.oa,t)},_u.prototype.Ie=function(){this.Ea(),this.Ua(Du(this))},_u.prototype.He=function(){this.signOut()};var Vu=function(t,e){return t.f(e.then(function(e){return Mu(t,e)}).then(function(){return Du(t)}))};t=_u.prototype,t.Me=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Du(e))})},t.onAuthStateChanged=function(t,e,n){var i=this;return this.Rc&&r.Promise.resolve().then(function(){h(t)?t(Du(i)):h(t.next)&&t.next(Du(i))}),this.$e(t,e,n)},t.getToken=function(t){var e=this,n=this.ua.then(function(){return Du(e)?Du(e).getToken(t).then(function(t){return{accessToken:t}}):null});return this.f(n)},t.signInWithCustomToken=function(t){var e=this;return this.ua.then(function(){return Vu(e,ls(e.g,us,{token:t}))}).then(function(t){return cu(t,"isAnonymous",!1),e.Ua(t)}).then(function(){return Du(e)})},t.signInWithEmailAndPassword=function(t,e){var n=this;return this.ua.then(function(){return Vu(n,ls(n.g,cs,{email:t,password:e}))})},t.createUserWithEmailAndPassword=function(t,e){var n=this;return this.ua.then(function(){return Vu(n,ls(n.g,Xo,{email:t,password:e}))})},t.signInWithCredential=function(t){var e=this;return this.ua.then(function(){return Vu(e,t.Ub(e.g))})},t.signInAnonymously=function(){var t=Du(this),e=this;return t&&t.isAnonymous?dn(t):this.ua.then(function(){return Vu(e,e.g.signInAnonymously())}).then(function(t){return cu(t,"isAnonymous",!0),e.Ua(t)}).then(function(){return Du(e)})};var Fu=function(t){return t.app},Du=function(t){return t.currentUser};t=_u.prototype,t.Ea=function(){if(this.Rc)for(var t=0;t<this.Oa.length;t++)this.Oa[t]&&this.Oa[t](Du(this)&&Du(this)._lat||null)},t.addAuthTokenListener=function(t){var e=this;this.Oa.push(t),this.f(this.ua.then(function(){e.Qa||W(e.Oa,t)&&t(Du(e)&&Du(e)._lat||null)}))},t.removeAuthTokenListener=function(t){X(this.Oa,function(e){return e==t})},t.delete=function(){this.Qa=!0;for(var t=0;t<this.Z.length;t++)this.Z[t].cancel("app-deleted");return this.Z=[],this.oa&&(t=this.oa,t.i.removeListener(Au,t.u,this.Lc)),this.m&&this.m.unsubscribe(this),r.Promise.resolve()},t.f=function(t){var e=this;return this.Z.push(t),mn(t,function(){K(e.Z,t)}),t},t.fetchProvidersForEmail=function(t){return this.f(Lo(this.g,t))},t.verifyPasswordResetCode=function(t){return this.checkActionCode(t).then(function(t){return t.data.email})},t.confirmPasswordReset=function(t,e){return this.f(this.g.confirmPasswordReset(t,e).then(function(){}))},t.checkActionCode=function(t){return this.f(this.g.checkActionCode(t).then(function(t){return new Xs(t)}))},t.applyActionCode=function(t){return this.f(this.g.applyActionCode(t).then(function(){}))},t.sendPasswordResetEmail=function(t){return this.f(this.g.sendPasswordResetEmail(t).then(function(){}))},ra(_u.prototype,{applyActionCode:{name:"applyActionCode",a:[$s("code")]},checkActionCode:{name:"checkActionCode",a:[$s("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[$s("code"),$s("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[$s("email"),$s("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[$s("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[na(Js(),Ys(),"nextOrObserver"),Ys("opt_error",!0),Ys("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[$s("email")]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[ta()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[$s("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[$s("email"),$s("password")]},signInWithPopup:{name:"signInWithPopup",a:[ea()]},signInWithRedirect:{name:"signInWithRedirect",a:[ea()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[$s(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[$s("code")]}}),ra(Ya.prototype,{delete:{name:"delete",a:[]},getToken:{name:"getToken",a:[{name:"opt_forceRefresh",fa:"a boolean",optional:!0,ha:function(t){return"boolean"==typeof t}}]},link:{name:"link",a:[ta()]},linkWithPopup:{name:"linkWithPopup",a:[ea()]},linkWithRedirect:{name:"linkWithRedirect",a:[ea()]},reauthenticate:{name:"reauthenticate",a:[ta()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[$s(null,!0)]},unlink:{name:"unlink",a:[$s("provider")]},updateEmail:{name:"updateEmail",a:[$s("email")]},updatePassword:{name:"updatePassword",a:[$s("password")]},updateProfile:{name:"updateProfile",a:[Js("profile")]}}),ra(ln.prototype,{c:{name:"catch"},then:{name:"then"}}),ia(go,"credential",function(t,e){return new vo(t,e)},[$s("email"),$s("password")]),ra(lo.prototype,{addScope:{name:"addScope",a:[$s("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Js("customOAuthParameters")]}}),ia(lo,"credential",lo.credential,[na($s(),Js(),"token")]),ra(ho.prototype,{addScope:{name:"addScope",a:[$s("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Js("customOAuthParameters")]}}),ia(ho,"credential",ho.credential,[na($s(),Js(),"token")]),ra(fo.prototype,{addScope:{name:"addScope",a:[$s("scope")]},setCustomParameters:{name:"setCustomParameters",a:[Js("customOAuthParameters")]}}),ia(fo,"credential",fo.credential,[na($s(),na(Js(),Zs()),"idToken"),na($s(),Zs(),"accessToken",!0)]),ra(po.prototype,{setCustomParameters:{name:"setCustomParameters",a:[Js("customOAuthParameters")]}}),ia(po,"credential",po.credential,[na($s(),Js(),"token"),$s("secret",!0)]),function(){if("undefined"==typeof r||!r.INTERNAL||!r.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:_u,Error:to};ia(t,"EmailAuthProvider",go,[]),ia(t,"FacebookAuthProvider",lo,[]),ia(t,"GithubAuthProvider",ho,[]),ia(t,"GoogleAuthProvider",fo,[]),ia(t,"TwitterAuthProvider",po,[]),r.INTERNAL.registerService("auth",function(t,e){return t=new _u(t),e({INTERNAL:{getToken:v(t.getToken,t),addAuthTokenListener:v(t.addAuthTokenListener,t),removeAuthTokenListener:v(t.removeAuthTokenListener,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),r.INTERNAL.extendNamespace({User:Ya})}()}).call(this)}).call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{}),t.exports=r.auth}).call(e,n(11))},function(module,exports,__webpack_require__){(function(global){var firebase=__webpack_require__(14);(function(){/*! @license Firebase v3.6.8
    Build: 3.6.8-rc.1
    Terms: https://firebase.google.com/terms/

    ---

    typedarray.js
    Copyright (c) 2010, Linden Research, Inc.

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE. */
!function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.Vb=function(){return t.Ye?t.Ye:t.Ye=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function la(t,e){function n(){}n.prototype=e.prototype,t.wg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.sg=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ma(){this.Wa=-1}function na(){this.Wa=-1,this.Wa=64,this.M=[],this.Vd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var t=1;t<this.Wa;++t)this.zd[t]=0;this.Pd=this.$b=0,this.reset()}function oa(t,e,n){n||(n=0);var r=t.Af;if(p(e))for(var i=0;16>i;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}e=t.M[0],n=t.M[1];for(var s,a=t.M[2],u=t.M[3],c=t.M[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(a^u),s=1518500249):(o=n^a^u,s=1859775393):60>i?(o=n&a|u&(n|a),s=2400959708):(o=n^a^u,s=3395469782),o=(e<<5|e>>>27)+o+c+s+r[i]&4294967295,c=u,u=a,a=4294967295&(n<<30|n>>>2),n=e,e=o;t.M[0]=t.M[0]+e&4294967295,t.M[1]=t.M[1]+n&4294967295,t.M[2]=t.M[2]+a&4294967295,t.M[3]=t.M[3]+u&4294967295,t.M[4]=t.M[4]+c&4294967295}function r(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pa(t,e){var n,r={};for(n in t)r[n]=e.call(void 0,t[n],n,t);return r}function qa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function ra(t){var e,n=0;for(e in t)n++;return n}function sa(t){for(var e in t)return e}function ta(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function ua(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function va(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function wa(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r}function xa(t,e){var n=wa(t,e,void 0);return n&&t[n]}function ya(t){for(var e in t)return!1;return!0}function za(t){var e,n={};for(e in t)n[e]=t[e];return n}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Fd=void 0}function Ca(t,e,n){switch(typeof e){case"string":Da(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var r=e.length;n.push("[");for(var i="",o=0;o<r;o++)n.push(i),i=e[o],Ca(t,t.Fd?t.Fd.call(e,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i=e[o],"function"!=typeof i&&(n.push(r),Da(o,n),n.push(":"),Ca(t,t.Fd?t.Fd.call(e,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Da(t,e){e.push('"',t.replace(Fa,function(t){if(t in Ea)return Ea[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Ea[t]=n+e.toString(16)}),'"')}function Oa(t,e){var n=Pa(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Pa(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function Qa(t,e){var n=Ia(t,e);0<=n&&v.splice.call(t,n,1)}function Ra(t,e,n){return 2>=arguments.length?v.slice.call(t,e):v.slice.call(t,e,n)}function Sa(t,e){t.sort(e||Ta)}function Ta(t,e){return t>e?1:t<e?-1:0}function ab(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=e?Za:Ya,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,o=(3&o)<<4|a>>4,a=(15&a)<<2|c>>6,c=63&c;u||(c=64,s||(a=64)),r.push(n[l],n[o],n[a],n[c])}return r.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var t=0;65>t;t++)Ya[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Za[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),$a[Za[t]]=t,62<=t&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function cb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function db(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function y(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")}function A(t,e,r,i){if((!i||n(r))&&!ha(r))throw Error(y(t,e,i)+"must be a valid function.")}function eb(t,e,r){if(n(r)&&(!ia(r)||null===r))throw Error(y(t,e,!0)+"must be a valid context object.")}function fb(t){var e=[];return db(t,function(t,n){ea(n)?Ja(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function hb(){var t=this;this.reject=this.resolve=null,this.ra=new gb(function(e,n){t.resolve=e,t.reject=n})}function ib(t,e){return function(n,r){n?t.reject(n):t.resolve(r),ha(e)&&(jb(t.ra),1===e.length?e(n):e(n,r))}}function jb(t){t.then(void 0,ba)}function kb(t,e){if(!t)throw lb(e)}function lb(t){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}function mb(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);55296<=i&&56319>=i&&(i-=55296,r++,kb(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(t.charCodeAt(r)-56320)),128>i?e[n++]=i:(2048>i?e[n++]=i>>6|192:(65536>i?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function nb(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e++:2048>r?e+=2:55296<=r&&56319>=r?(e+=4,n++):e+=3}return e}function ob(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):Aa(t)}function B(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ca(new Ba,t,e),t=e.join("")}return t}function pb(t,e){this.committed=t,this.snapshot=e}function qb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function rb(t){this.re=t,this.Bd=[],this.Qb=0,this.Xd=-1,this.Fb=null}function sb(t,e,n){t.Xd=e,t.Fb=n,t.Xd<t.Qb&&(t.Fb(),t.Fb=null)}function tb(t,e,n){for(t.Bd[e]=n;t.Bd[t.Qb];){var r=t.Bd[t.Qb];delete t.Bd[t.Qb];for(var i=0;i<r.length;++i)if(r[i]){var o=t;ub(function(){o.re(r[i])})}if(t.Qb===t.Xd){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}function vb(){this.pc={}}function wb(t){this.uc=t,this.Cd="firebase:"}function xb(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wb(e)}}catch(t){}return new vb}function Ab(t,e,n){this.type=Bb,this.source=t,this.path=e,this.Ga=n}function Cb(t,e){this.type=Db,this.source=t,this.path=e}function Eb(t){this.oc=t}function Fb(t,e){t.oc.INTERNAL.addAuthTokenListener(e)}function Gb(){this.Jd=G}function Hb(t,e,n,r,i){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=e,this.ne=n,this.qg=r,this.gf=i||"",this.$a=yb.get("host:"+t)||this.host}function Ib(t,e){e!==t.$a&&(t.$a=e,"s-"===t.$a.substr(0,2)&&yb.set("host:"+t.host,t.$a))}function Jb(t,e,n){if(H("string"==typeof e,"typeof type must == string"),H("object"==typeof n,"typeof params must == object"),"websocket"===e)e=(t.Sc?"wss://":"ws://")+t.$a+"/.ws?";else{if("long_polling"!==e)throw Error("Unknown connection type: "+e);e=(t.Sc?"https://":"http://")+t.$a+"/.lp?"}t.host!==t.$a&&(n.ns=t.ne);var i=[];return r(n,function(t,e){i.push(e+"="+t)}),e+i.join("&")}function Kb(){this.tc={}}function Lb(t,e,r){n(r)||(r=1),cb(t.tc,e)||(t.tc[e]=0),t.tc[e]+=r}function Mb(t){this.Ef=t,this.rd=null}function Nb(){this.vb=[]}function Ob(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.Yb();null===n||o.Z(n.Yb())||(t.vb.push(n),n=null),null===n&&(n=new Pb(o)),n.add(i)}n&&t.vb.push(n)}function Qb(t,e,n){Ob(t,n),Rb(t,function(t){return t.Z(e)})}function Sb(t,e,n){Ob(t,n),Rb(t,function(t){return t.contains(e)||e.contains(t)})}function Rb(t,e){for(var n=!0,r=0;r<t.vb.length;r++){var i=t.vb[r];if(i)if(i=i.Yb(),e(i)){for(var i=t.vb[r],o=0;o<i.jd.length;o++){var s=i.jd[o];if(null!==s){i.jd[o]=null;var a=s.Tb();Tb&&E("event: "+s.toString()),ub(a)}}t.vb[r]=null}else n=!1}n&&(t.vb=[])}function Pb(t){this.qa=t,this.jd=[]}function Ub(t,e,n,r){this.$d=e,this.Md=n,this.Dd=r,this.hd=t}function Vb(t,e,n){this.$d=t,this.error=e,this.path=n}function Wb(){}function Yb(t,e,n){this.xf=t,this.Ka=e,this.yd=n}function I(t,e,n,r){this.type=t,this.Ja=e,this.Xa=n,this.oe=r,this.Dd=void 0}function bc(t){return new I(cc,t)}function $b(t,e,n){this.A=t,this.da=e,this.Sb=n}function dc(t){return t.da}function ec(t){return t.Sb}function fc(t,e){return e.e()?t.da&&!t.Sb:Zb(t,J(e))}function Zb(t,e){return t.da&&!t.Sb||t.A.Da(e)}function gc(t,e){return hc(t.name,e.name)}function ic(t,e){return hc(t,e)}function K(t,e){this.name=t,this.R=e}function jc(t,e){return new K(t,e)}function kc(t,e){return t&&"object"==typeof t?(H(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function lc(t,e){var n=new mc;return nc(t,new L(""),function(t,r){oc(n,t,pc(r,e))}),n}function pc(t,e){var n,r=t.C().H(),r=kc(r,e);if(t.J()){var i=kc(t.Ca(),e);return i!==t.Ca()||r!==t.C().H()?new qc(i,M(r)):t}return n=t,r!==t.C().H()&&(n=n.fa(new qc(r))),t.O(N,function(t,r){var i=pc(r,e);i!==r&&(n=n.T(t,i))}),n}function tc(t){try{var e;bb();for(var n=$a,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;var a=i<t.length?n[t.charAt(i)]:64;++i;var u=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!=a&&(r.push(s<<4&240|a>>2),64!=u&&r.push(a<<6&192|u))}if(8192>r.length)e=String.fromCharCode.apply(null,r);else{for(t="",n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,Ra(r,n,n+8192));e=t}return e}catch(t){E("base64Decode failed: ",t)}return null}function uc(t){var e=mb(t);t=new na,t.update(e);var e=[],n=8*t.Pd;56>t.$b?t.update(t.zd,56-t.$b):t.update(t.zd,t.Wa-(t.$b-56));for(var r=t.Wa-1;56<=r;r--)t.Vd[r]=255&n,n/=256;for(oa(t,t.Vd),r=n=0;5>r;r++)for(var i=24;0<=i;i-=8)e[n]=t.M[r]>>i&255,++n;return ab(e)}function vc(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+vc.apply(null,arguments[n]):"object"==typeof arguments[n]?e+B(arguments[n]):e+arguments[n],e+=" ";return e}function xc(t,e){kb(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Tb=q(console.log,console):"object"==typeof console.log&&(Tb=function(t){console.log(t)})),e&&zb.set("logging_enabled",!0)):ha(t)?Tb=t:(Tb=null,zb.remove("logging_enabled"))}function E(t){if(!0===wc&&(wc=!1,null===Tb&&!0===zb.get("logging_enabled")&&xc(!0)),Tb){var e=vc.apply(null,arguments);Tb(e)}}function yc(t){return function(){E(t,arguments)}}function zc(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+vc.apply(null,arguments);"undefined"!=typeof console.error?console.error(e):console.log(e)}}function Ac(t){var e=vc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function O(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+vc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(e):console.log(e)}}function Bc(t){var e,n,r,i,o,s=t;if(o=n=t=e="",r=!0,i="https",p(s)){var a=s.indexOf("//");for(0<=a&&(i=s.substring(0,a-1),s=s.substring(a+2)),a=s.indexOf("/"),-1===a&&(a=s.length),e=s.substring(0,a),o="",s=s.substring(a).split("/"),a=0;a<s.length;a++)if(0<s[a].length){var u=s[a];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(t){}o+="/"+u}s=e.split("."),3===s.length?(t=s[1],n=s[0].toLowerCase()):2===s.length&&(t=s[0]),a=e.indexOf(":"),0<=a&&(r="https"===i||"wss"===i)}return"firebase"===t&&Ac(e+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Ac("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new Hb(e,r,n,"ws"===i||"wss"===i),path:new L(o)}}function Cc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Dc(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function hc(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Ec(t),r=Ec(e);return null!==n?null!==r?0==n-r?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}function Fc(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function Gc(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var r=0;r<n.length;r++)0!==r&&(e+=","),e+=B(n[r]),e+=":",e+=Gc(t[n[r]]);return e+"}"}function Hc(t,e){if(t.length<=e)return[t];for(var n=[],r=0;r<t.length;r+=e)r+e>t?n.push(t.substring(r,t.length)):n.push(t.substring(r,r+e));return n}function Ic(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else r(t,e)}function Jc(t){H(!Cc(t),"Invalid JSON number");var e,n,r,i;for(0===t?(r=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,r=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),i=[],t=52;t;--t)i.push(r%2?1:0),r=Math.floor(r/2);for(t=11;t;--t)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(e?1:0),i.reverse(),e=i.join(""),n="",t=0;64>t;t+=8)r=parseInt(e.substr(t,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function Ec(t){return Kc.test(t)&&(t=Number(t),-2147483648<=t&&2147483647>=t)?t:null}function ub(t){try{t()}catch(t){setTimeout(function(){throw O("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function Lc(t,e,n){Object.defineProperty(t,e,{get:n})}function Mc(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}function Nc(t){var e={},n={},r={},i="";try{var o=t.split("."),e=ob(tc(o[0])||""),n=ob(tc(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(t){}return{tg:e,Ie:n,data:r,mg:i}}function Oc(t){t=Nc(t);var e=t.Ie;return!!t.mg&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function Pc(t){return t=Nc(t).Ie,"object"==typeof t&&!0===w(t,"admin")}function Qc(t,e,n){this.f=yc("p:rest:"),this.L=t,this.Gb=e,this.$c=n,this.$={}}function Rc(t,e){return n(e)?"tag$"+e:(H(Sc(t.m),"should have a tag if it's not a default query."),t.path.toString())}function Uc(t,e,n,r){n=n||{},n.format="export",t.$c.getToken(!1).then(function(i){(i=i&&i.accessToken)&&(n.auth=i);var o=(t.L.Sc?"https://":"http://")+t.L.host+e+"?"+fb(n);t.f("Sending REST request for "+o);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(r&&4===s.readyState){t.f("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);var e=null;if(200<=s.status&&300>s.status){try{e=ob(s.responseText)}catch(t){O("Failed to parse JSON response for "+o+": "+s.responseText)}r(null,e)}else 401!==s.status&&404!==s.status&&O("Got unsuccessful REST response for "+o+" Status: "+s.status),r(s.status);r=null}},s.open("GET",o,!0),s.send()})}function Vc(t,e,n){this.type=Wc,this.source=t,this.path=e,this.children=n}function Xc(t,e){this.rf={},this.Vc=new Mb(t),this.va=e;var n=1e4+2e4*Math.random();Mc(q(this.lf,this),Math.floor(n))}function $c(t){return t=t.toString(),Yc[t]||(Yc[t]=new Kb),Yc[t]}function ad(t,e){var n=t.toString();return Zc[n]||(Zc[n]=e()),Zc[n]}function cd(t,e,n,r){this.Yd=t,this.f=yc(this.Yd),this.frames=this.zc=null,this.pb=this.qb=this.De=0,this.Va=$c(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),r&&(t.ls=r),this.Je=Jb(e,"websocket",t)}function fd(t,e){if(t.frames.push(e),t.frames.length==t.De){var n=t.frames.join("");t.frames=null,n=ob(n),t.Xf(n)}}function ed(t){clearInterval(t.zc),t.zc=setInterval(function(){t.Ia&&gd(t,"0"),ed(t)},Math.floor(45e3))}function gd(t,e){try{t.Ia.send(e)}catch(e){t.f("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(q(t.bb,t),0)}}function hd(){this.fb={}}function jd(t,e){var n=e.type,r=e.Xa;H("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),H(".priority"!==r,"Only non-priority child changes can be tracked.");var i=w(t.fb,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)t.fb[r]=new I("child_changed",e.Ja,r,i.Ja);else if("child_removed"==n&&"child_added"==o)delete t.fb[r];else if("child_removed"==n&&"child_changed"==o)t.fb[r]=new I("child_removed",i.oe,r);else if("child_changed"==n&&"child_added"==o)t.fb[r]=new I("child_added",e.Ja,r);else{if("child_changed"!=n||"child_changed"!=o)throw sc("Illegal combination of changes: "+e+" occurred after "+i);t.fb[r]=new I("child_changed",e.Ja,r,i.oe)}}else t.fb[r]=e}function kd(t){this.V=t,this.g=t.m.g}function ld(t,e,n,r){var i=[],o=[];return Ja(e,function(e){"child_changed"===e.type&&t.g.nd(e.oe,e.Ja)&&o.push(new I("child_moved",e.Ja,e.Xa))}),md(t,i,"child_removed",e,r,n),md(t,i,"child_added",e,r,n),md(t,i,"child_moved",o,r,n),md(t,i,"child_changed",e,r,n),md(t,i,cc,e,r,n),i}function md(t,e,n,r,i,o){r=Ka(r,function(t){return t.type===n}),Sa(r,q(t.Ff,t)),Ja(r,function(n){var r=nd(t,n,o);Ja(i,function(i){i.nf(n.type)&&e.push(i.createEvent(r,t.V))})})}function nd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Dd=n.Ve(e.Xa,e.Ja,t.g)),e}function od(t,e){this.Sd=t,this.Df=e}function pd(t){this.U=t}function xd(t,e,n,r,i,o){var s=e.N;if(null!=r.lc(n))return e;var a;if(n.e())H(dc(e.w()),"If change path is empty, we must have complete server data"),ec(e.w())?(i=ac(e),r=r.rc(i instanceof P?i:G)):r=r.Aa(ac(e)),o=t.U.ya(e.N.j(),r,o);else{var u=J(n);if(".priority"==u)H(1==Ad(n),"Can't have a priority with additional path components"),o=s.j(),a=e.w().j(),r=r.ad(n,o,a),o=null!=r?t.U.fa(o,r):s.j();else{var c=D(n);Zb(s,u)?(a=e.w().j(),r=r.ad(n,s.j(),a),r=null!=r?s.j().Q(u).F(c,r):s.j().Q(u)):r=r.qc(u,e.w()),o=null!=r?t.U.F(s.j(),u,r,c,i,o):s.j()}}return vd(e,o,s.da||n.e(),t.U.Na())}function rd(t,e,n,r,i,o,s,a){var u=e.w();if(s=s?t.U:t.U.Ub(),n.e())r=s.ya(u.j(),r,null);else if(s.Na()&&!u.Sb)r=u.j().F(n,r),r=s.ya(u.j(),r,null);else{var c=J(n);if(!fc(u,n)&&1<Ad(n))return e;var l=D(n);r=u.j().Q(c).F(l,r),r=".priority"==c?s.fa(u.j(),r):s.F(u.j(),c,r,l,Xb,null)}return u=u.da||n.e(),e=new yd(e.N,new $b(r,u,s.Na())),xd(t,e,n,i,new Yb(i,e,o),a)}function qd(t,e,n,r,i,o,s){var a=e.N;if(i=new Yb(i,e,o),n.e())s=t.U.ya(e.N.j(),r,s),t=vd(e,s,!0,t.U.Na());else if(o=J(n),".priority"===o)s=t.U.fa(e.N.j(),r),t=vd(e,s,a.da,a.Sb);else{n=D(n);var u=a.j().Q(o);if(!n.e()){var c=i.Te(o);r=null!=c?".priority"===Bd(n)&&c.P(n.parent()).e()?c:c.F(n,r):G}u.Z(r)?t=e:(s=t.U.F(a.j(),o,r,n,i,s),t=vd(e,s,a.da,t.U.Na()))}return t}function sd(t,e,n,r,i,o,s){var a=e;return Cd(r,function(r,u){var c=n.n(r);Zb(e.N,J(c))&&(a=qd(t,a,c,u,i,o,s))}),Cd(r,function(r,u){var c=n.n(r);Zb(e.N,J(c))||(a=qd(t,a,c,u,i,o,s))}),a}function Dd(t,e){return Cd(e,function(e,n){t=t.F(e,n)}),t}function td(t,e,n,r,i,o,s,a){if(e.w().j().e()&&!dc(e.w()))return e;var u=e;n=n.e()?r:Ed(Q,n,r);var c=e.w().j();return n.children.ha(function(n,r){if(c.Da(n)){var l=e.w().j().Q(n),l=Dd(l,r);u=rd(t,u,new L(n),l,i,o,s,a)}}),n.children.ha(function(n,r){var l=!Zb(e.w(),n)&&null==r.value;c.Da(n)||l||(l=e.w().j().Q(n),l=Dd(l,r),u=rd(t,u,new L(n),l,i,o,s,a))}),u}function wd(t,e,n,r,i,o,s){if(null!=i.lc(n))return e;var a=ec(e.w()),u=e.w();if(null!=r.value){if(n.e()&&u.da||fc(u,n))return rd(t,e,n,u.j().P(n),i,o,a,s);if(n.e()){var c=Q;return u.j().O(Fd,function(t,e){c=c.set(new L(t),e)}),td(t,e,n,c,i,o,a,s)}return e}return c=Q,Cd(r,function(t){var e=n.n(t);fc(u,e)&&(c=c.set(t,u.j().P(e)))}),td(t,e,n,c,i,o,a,s)}function Gd(t){this.g=t}function Hd(t){this.fe=new Gd(t.g),this.g=t.g;var e;t.ka?(e=Id(t),e=t.g.Ec(Jd(t),e)):e=t.g.Hc(),this.Uc=e,t.na?(e=Kd(t),t=t.g.Ec(Ld(t),e)):t=t.g.Fc(),this.vc=t}function Md(t){this.sa=new Hd(t),this.g=t.g,H(t.xa,"Only valid if limit has been set"),this.oa=t.oa,this.Ib=!Nd(t)}function Od(t,e,n,r,i,o){var s;if(t.Ib){var a=Pd(t.g);s=function(t,e){return a(e,t)}}else s=Pd(t.g);H(e.Eb()==t.oa,"");var u=new K(n,r),c=t.Ib?Qd(e,t.g):Rd(e,t.g),l=t.sa.matches(u);if(e.Da(n)){for(var h=e.Q(n),c=i.de(t.g,c,t.Ib);null!=c&&(c.name==n||e.Da(c.name));)c=i.de(t.g,c,t.Ib);return i=null==c?1:s(c,u),l&&!r.e()&&0<=i?(null!=o&&jd(o,new I("child_changed",r,n,h)),e.T(n,r)):(null!=o&&jd(o,new I("child_removed",h,n)),e=e.T(n,G),null!=c&&t.sa.matches(c)?(null!=o&&jd(o,new I("child_added",c.R,c.name)),e.T(c.name,c.R)):e)}return r.e()?e:l&&0<=s(c,u)?(null!=o&&(jd(o,new I("child_removed",c.R,c.name)),jd(o,new I("child_added",r,n))),e.T(n,r).T(c.name,G)):e}function qc(t,e){this.B=t,H(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=e||G,Sd(this.aa),this.Db=null}function Vd(){}function Pd(t){return q(t.compare,t)}function Yd(t){H(!t.e()&&".priority"!==J(t),"Can't create PathIndex with empty path or .priority key"),this.bc=t}function $d(){}function ae(){}function be(){}function ee(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=N}function Nd(t){return""===t.mb?t.ka:"l"===t.mb}function Jd(t){return H(t.ka,"Only valid if start has been set"),t.dc}function Id(t){return H(t.ka,"Only valid if start has been set"),t.Kb?t.zb:"[MIN_NAME]"}function Ld(t){return H(t.na,"Only valid if end has been set"),t.ac}function Kd(t){return H(t.na,"Only valid if end has been set"),t.Rb?t.xb:"[MAX_NAME]"}function ge(t){var e=new ee;return e.xa=t.xa,e.oa=t.oa,e.ka=t.ka,e.dc=t.dc,e.Kb=t.Kb,e.zb=t.zb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.xb=t.xb,e.g=t.g,e.mb=t.mb,e}function he(t,e){var n=ge(t);return n.g=e,n}function ie(t){var e={};if(t.ka&&(e.sp=t.dc,t.Kb&&(e.sn=t.zb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.xb)),t.xa){e.l=t.oa;var n=t.mb;""===n&&(n=Nd(t)?"l":"r"),e.vf=n}return t.g!==N&&(e.i=t.g.toString()),e}function S(t){return!(t.ka||t.na||t.xa)}function Sc(t){return S(t)&&t.g==N}function Tc(t){var e={};if(Sc(t))return e;var n;return t.g===N?n="$priority":t.g===de?n="$value":t.g===Fd?n="$key":(H(t.g instanceof Yd,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=B(n),t.ka&&(e.startAt=B(t.dc),t.Kb&&(e.startAt+=","+B(t.zb))),t.na&&(e.endAt=B(t.ac),t.Rb&&(e.endAt+=","+B(t.xb))),t.xa&&(Nd(t)?e.limitToFirst=t.oa:e.limitToLast=t.oa),e}function je(t,e){this.od=t,this.cc=e}function ke(t,e,n){var r=pa(t.od,function(r,i){var o=w(t.cc,i);if(H(o,"Missing index implementation for "+i),r===Wd){if(o.xc(e.R)){for(var s=[],a=n.Wb(jc),u=R(a);u;)u.name!=e.name&&s.push(u),u=R(a);return s.push(e),le(s,Pd(o))}return Wd}return o=n.get(e.name),s=r,o&&(s=s.remove(new K(e.name,o))),s.Oa(e,e.R)});return new je(r,t.cc)}function me(t,e,n){var r=pa(t.od,function(t){if(t===Wd)return t;var r=n.get(e.name);return r?t.remove(new K(e.name,r)):t});return new je(r,t.cc)}function oe(){this.set={}}function pe(t,e){r(t.set,function(t,n){e(n,t)})}function qe(t,e,n,r){this.Yd=t,this.f=yc(t),this.jc=e,this.pb=this.qb=0,this.Va=$c(e),this.tf=n,this.wc=!1,this.Cb=r,this.Yc=function(t){return Jb(e,"long_polling",t)}}function ue(t,e){var n=B(e).length;t.pb+=n,Lb(t.Va,"bytes_received",n)}function te(t,e,n,r){if(this.Yc=r,this.ib=n,this.te=new oe,this.Qc=[],this.Zd=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=rc(),window["pLPCommand"+this.Qd]=t,window["pRTLPCB"+this.Qd]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||E("No IE domain setting required")}catch(e){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.gb=t.contentDocument:t.contentWindow?t.gb=t.contentWindow.document:t.document&&(t.gb=t.document),this.Ea=t,t="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(t),this.Ea.gb.close()}catch(t){E("frame writing exception"),t.stack&&E(t.stack),E(t)}}function we(t){if(t.Ud&&t.Kd&&t.te.count()<(0<t.Qc.length?2:1)){t.Zd++;var e={};e.id=t.Vf,e.pw=t.Wf,e.ser=t.Zd;for(var e=t.Yc(e),n="",r=0;0<t.Qc.length&&1870>=t.Qc[0].Oe.length+30+n.length;){var i=t.Qc.shift(),n=n+"&seg"+r+"="+i.jg+"&ts"+r+"="+i.pg+"&d"+r+"="+i.Oe;r++}return xe(t,e+n,t.Zd),!0}return!1}function xe(t,e,n){function r(){t.te.remove(n),we(t)}t.te.add(n,1);var i=setTimeout(r,Math.floor(25e3));ve(t,e,function(){clearTimeout(i),r()})}function ve(t,e,n){setTimeout(function(){try{if(t.Kd){var r=t.Ea.gb.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){E("Long-poll script failed to load: "+e),t.Kd=!1,t.close()},t.Ea.gb.body.appendChild(r)}}catch(t){}},Math.floor(1))}function ye(t){ze(this,t)}function ze(t,e){var n=cd&&cd.isAvailable(),r=n&&!(yb.Ze||!0===yb.get("previous_websocket_failure"));if(e.qg&&(n||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)t.Wc=[cd];else{var i=t.Wc=[];Ic(Ae,function(t,e){e&&e.isAvailable()&&i.push(e)})}}function Be(t){if(0<t.Wc.length)return t.Wc[0];throw Error("No transports available")}function Ce(t,e,n,r,i,o,s){this.id=t,this.f=yc("c:"+this.id+":"),this.re=n,this.Lc=r,this.ia=i,this.qe=o,this.L=e,this.Ad=[],this.Ke=0,this.sf=new ye(e),this.Ua=0,this.Cb=s,this.f("Connection created"),De(this)}function De(t){var e=Be(t.sf);t.I=new e("c:"+t.id+":"+t.Ke++,t.L,void 0,t.Cb),t.ve=e.responsesRequiredToBeHealthy||0;var n=Ee(t,t.I),r=Fe(t,t.I);t.Xc=t.I,t.Rc=t.I,t.D=null,t.Bb=!1,setTimeout(function(){t.I&&t.I.open(n,r)},Math.floor(0)),e=e.healthyTimeout||0,0<e&&(t.md=Mc(function(){t.md=null,t.Bb||(t.I&&102400<t.I.pb?(t.f("Connection exceeded healthy timeout but has received "+t.I.pb+" bytes.  Marking connection healthy."),t.Bb=!0,t.I.sd()):t.I&&10240<t.I.qb?t.f("Connection exceeded healthy timeout but has sent "+t.I.qb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function Fe(t,e){return function(n){e===t.I?(t.I=null,n||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.L.$a.substr(0,2)&&(yb.remove("host:"+t.L.host),t.L.$a=t.L.host)),t.close()):e===t.D?(t.f("Secondary connection lost."),n=t.D,t.D=null,t.Xc!==n&&t.Rc!==n||t.close()):t.f("closing an old connection")}}function Ee(t,e){return function(n){if(2!=t.Ua)if(e===t.Rc){var r=Fc("t",n);if(n=Fc("d",n),"c"==r){if(r=Fc("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;t.qf=n.s,Ib(t.L,o),0==t.Ua&&(t.I.start(),Ge(t,t.I,r),"5"!==i&&O("Protocol version mismatch detected"),n=t.sf,(n=1<n.Wc.length?n.Wc[1]:null)&&He(t,n))}else if("n"===r){for(t.f("recvd end transmission on primary"),t.Rc=t.D,n=0;n<t.Ad.length;++n)t.wd(t.Ad[n]);t.Ad=[],Ie(t)}else"s"===r?(t.f("Connection shutdown command received. Shutting down..."),t.qe&&(t.qe(n),t.qe=null),t.ia=null,t.close()):"r"===r?(t.f("Reset packet received.  New host: "+n),Ib(t.L,n),1===t.Ua?t.close():(Je(t),De(t))):"e"===r?zc("Server Error: "+n):"o"===r?(t.f("got pong on primary."),Ke(t),Le(t)):zc("Unknown control packet command: "+r)}else"d"==r&&t.wd(n)}else if(e===t.D)if(r=Fc("t",n),n=Fc("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Me(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.D.close(),t.Xc!==t.D&&t.Rc!==t.D||t.close()):"o"===n&&(t.f("got pong on secondary."),t.pf--,Me(t)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);t.Ad.push(n)}else t.f("message on old connection")}}function Ie(t){t.Xc===t.D&&t.Rc===t.D&&(t.f("cleaning up and promoting a connection: "+t.D.Yd),t.I=t.D,t.D=null)}function Me(t){0>=t.pf?(t.f("Secondary connection is healthy."),t.Bb=!0,t.D.sd(),t.D.start(),t.f("sending client ack on secondary"),t.D.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.I.send({t:"c",d:{t:"n",d:{}}}),t.Xc=t.D,Ie(t)):(t.f("sending ping on secondary."),t.D.send({t:"c",d:{t:"p",d:{}}}))}function Ke(t){t.Bb||(t.ve--,0>=t.ve&&(t.f("Primary connection is healthy."),t.Bb=!0,t.I.sd()))}function He(t,e){t.D=new e("c:"+t.id+":"+t.Ke++,t.L,t.qf),t.pf=e.responsesRequiredToBeHealthy||0,t.D.open(Ee(t,t.D),Fe(t,t.D)),Mc(function(){t.D&&(t.f("Timed out trying to upgrade."),t.D.close())},Math.floor(6e4))}function Ge(t,e,n){t.f("Realtime connection established."),t.I=e,t.Ua=1,t.Lc&&(t.Lc(n,t.qf),t.Lc=null),0===t.ve?(t.f("Primary connection is healthy."),t.Bb=!0):Mc(function(){Le(t)},Math.floor(5e3))}function Le(t){t.Bb||1!==t.Ua||(t.f("sending ping on primary."),Ne(t,{t:"c",d:{t:"p",d:{}}}))}function Ne(t,e){if(1!==t.Ua)throw"Connection is not connected";t.Xc.send(e)}function Je(t){t.f("Shutting down all connections"),t.I&&(t.I.close(),t.I=null),t.D&&(t.D.close(),t.D=null),t.md&&(clearTimeout(t.md),t.md=null)}function L(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,r=0;r<this.o.length;r++)0<this.o[r].length&&(this.o[n]=this.o[r],n++);this.o.length=n,this.Y=0}else this.o=t,this.Y=e}function T(t,e){var n=J(t);if(null===n)return e;if(n===J(e))return T(D(t),D(e));
throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Oe(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=hc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function J(t){return t.Y>=t.o.length?null:t.o[t.Y]}function Ad(t){return t.o.length-t.Y}function D(t){var e=t.Y;return e<t.o.length&&e++,new L(t.o,e)}function Bd(t){return t.Y<t.o.length?t.o[t.o.length-1]:null}function Pe(t,e){this.Qa=t.slice(),this.Ha=Math.max(1,this.Qa.length),this.Pe=e;for(var n=0;n<this.Qa.length;n++)this.Ha+=nb(this.Qa[n]);Qe(this)}function Qe(t){if(768<t.Ha)throw Error(t.Pe+"has a key path longer than 768 bytes ("+t.Ha+").");if(32<t.Qa.length)throw Error(t.Pe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Re(t))}function Re(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Se(t){t instanceof Te||Ac("Don't call new Database() directly - please use firebase.database()."),this.ta=t,this.ba=new U(t,C),this.INTERNAL=new Ue(this)}function We(t,e){null===t.ta&&Ac("Cannot call "+e+" on a deleted database.")}function Ue(t){this.Ya=t}function mc(){this.k=this.B=null}function oc(t,e,n){if(e.e())t.B=n,t.k=null;else if(null!==t.B)t.B=t.B.F(e,n);else{null==t.k&&(t.k=new oe);var r=J(e);t.k.contains(r)||t.k.add(r,new mc),t=t.k.get(r),e=D(e),oc(t,e,n)}}function Ze(t,e){if(e.e())return t.B=null,t.k=null,!0;if(null!==t.B){if(t.B.J())return!1;var n=t.B;return t.B=null,n.O(N,function(e,n){oc(t,new L(e),n)}),Ze(t,e)}return null===t.k||(n=J(e),e=D(e),t.k.contains(n)&&Ze(t.k.get(n),e)&&t.k.remove(n),!!t.k.e()&&(t.k=null,!0))}function nc(t,e,n){null!==t.B?n(e,t.B):t.O(function(t,r){var i=new L(e.toString()+"/"+t);nc(r,i,n)})}function bf(t){return p(t)&&0!==t.length&&!$e.test(t)}function cf(t){return null===t||p(t)||ga(t)&&!Cc(t)||ia(t)&&cb(t,".sv")}function df(t,e,r,i){i&&!n(e)||ef(y(t,1,i),e,r)}function ef(t,e,r){if(r instanceof L&&(r=new Pe(r,t)),!n(e))throw Error(t+"contains undefined "+Re(r));if(ha(e))throw Error(t+"contains a function "+Re(r)+" with contents: "+e.toString());if(Cc(e))throw Error(t+"contains "+e.toString()+" "+Re(r));if(p(e)&&e.length>10485760/3&&10485760<nb(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+Re(r)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var i=!1,o=!1;if(db(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!bf(e)))throw Error(t+" contains an invalid key ("+e+") "+Re(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ef(t,n,r),r.pop()}),i&&o)throw Error(t+' contains ".value" child '+Re(r)+" in addition to actual children.")}}function ff(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!bf(i[o]))throw Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(e.sort(Oe),i=null,n=0;n<e.length;n++){if(r=e[n],null!==i&&i.contains(r))throw Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function gf(t,e,n){var r=y(t,1,!1);if(!ia(e)||ea(e))throw Error(r+" must be an object containing the children to replace.");var i=[];db(e,function(t,e){var o=new L(t);if(ef(r,e,n.n(o)),".priority"===Bd(o)&&!cf(e))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),ff(r,i)}function hf(t,e,n){if(Cc(n))throw Error(y(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cf(n))throw Error(y(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function jf(t,e,r){if(!r||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(y(t,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function kf(t,e){if(n(e)&&!bf(e))throw Error(y(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function lf(t,e){if(!p(e)||0===e.length||af.test(e))throw Error(y(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function mf(t,e){if(".info"===J(e))throw Error(t+" failed: Can't modify data under /.info/")}function Xe(t,e){var n,r=e.path.toString();if(!(n=!p(e.jc.host)||0===e.jc.host.length||!bf(e.jc.ne))&&(n=0!==r.length)&&(r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),n=!(p(r)&&0!==r.length&&!af.test(r))),n)throw Error(y(t,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function V(t,e){this.ta=t,this.qa=e}function qf(t){H(ea(t)&&0<t.length,"Requires a non-empty array"),this.Bf=t,this.Dc={}}function rf(t,e){H(Oa(t.Bf,function(t){return t===e}),"Unknown event: "+e)}function sf(){if(qf.call(this,["online"]),this.hc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&!qb()){var t=this;window.addEventListener("online",function(){t.hc||(t.hc=!0,t.Ee("online",!0))},!1),window.addEventListener("offline",function(){t.hc&&(t.hc=!1,t.Ee("online",!1))},!1)}}function tf(){qf.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Mb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Mb&&(n.Mb=e,n.Ee("visible",e))},!1)}}function vf(t,e){this.La=t,this.ba=e?e:wf}function xf(t,e){for(var n,r=t.ba,i=null;!r.e();){if(n=t.La(e,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:0<n&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function yf(t,e,n,r,i){for(this.Hd=i||null,this.je=r,this.Pa=[],i=1;!t.e();)if(i=e?n(t.key,e):1,r&&(i*=-1),0>i)t=this.je?t.left:t.right;else{if(0===i){this.Pa.push(t);break}this.Pa.push(t),t=this.je?t.right:t.left}}function R(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Hd?t.Hd(n.key,n.value):{key:n.key,value:n.value},t.je)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function zf(t){if(0===t.Pa.length)return null;var e;return e=t.Pa,e=e[e.length-1],t.Hd?t.Hd(e.key,e.value):{key:e.key,value:e.value}}function Af(t,e,n,r,i){this.key=t,this.value=e,this.color=null==n||n,this.left=null!=r?r:wf,this.right=null!=i?i:wf}function Bf(t){return t.left.e()?t:Bf(t.left)}function Df(t){return t.left.e()?wf:(t.left.ea()||t.left.left.ea()||(t=Ef(t)),t=t.X(null,null,null,Df(t.left),null),Cf(t))}function Cf(t){return t.right.ea()&&!t.left.ea()&&(t=Hf(t)),t.left.ea()&&t.left.left.ea()&&(t=Ff(t)),t.left.ea()&&t.right.ea()&&(t=Gf(t)),t}function Ef(t){return t=Gf(t),t.right.left.ea()&&(t=t.X(null,null,null,null,Ff(t.right)),t=Hf(t),t=Gf(t)),t}function Hf(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function Ff(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function Gf(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function If(){}function P(t,e,n){this.k=t,(this.aa=e)&&Sd(this.aa),t.e()&&H(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=n,this.Db=null}function Qd(t,e){var n;return n=(n=Kf(t,e))?(n=n.Gc())&&n.name:t.k.Gc(),n?new K(n,t.k.get(n)):null}function Rd(t,e){var n;return n=(n=Kf(t,e))?(n=n.ec())&&n.name:t.k.ec(),n?new K(n,t.k.get(n)):null}function Kf(t,e){return e===Fd?null:t.yb.get(e.toString())}function M(t,e){if(null===t)return G;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),H(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new qc(t,M(n));if(t instanceof Array){var i=G,o=t;return r(o,function(t,e){if(cb(o,e)&&"."!==e.substring(0,1)){var n=M(t);!n.J()&&n.e()||(i=i.T(e,n))}}),i.fa(M(n))}var s=[],a=!1,u=t;if(db(u,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=M(u[t]);e.e()||(a=a||!e.C().e(),s.push(new K(t,e)))}}),0==s.length)return G;var c=le(s,gc,function(t){return t.name},ic);if(a){var l=le(s,Pd(N));return new P(c,M(n),new je({".priority":l},{".priority":N}))}return new P(c,M(n),ne)}function Mf(t){this.count=parseInt(Math.log(t+1)/Lf,10),this.Ne=this.count-1,this.Cf=t+1&parseInt(Array(this.count+1).join("1"),2)}function Nf(t){var e=!(t.Cf&1<<t.Ne);return t.Ne--,e}function le(t,e,n,r){function i(e,r){var o=r-e;if(0==o)return null;if(1==o){var s=t[e],a=n?n(s):s;return new Af(a,s.R,!1,null,null)}var s=parseInt(o/2,10)+e,o=i(e,s),u=i(s+1,r),s=t[s],a=n?n(s):s;return new Af(a,s.R,!1,o,u)}t.sort(e);var o=function(e){function r(e,r){var u=a-e,c=a;a-=e;var c=i(u+1,c),u=t[u],l=n?n(u):u,c=new Af(l,u.R,r,null,c);o?o.left=c:s=c,o=c}for(var o=null,s=null,a=t.length,u=0;u<e.count;++u){var c=Nf(e),l=Math.pow(2,e.count-(u+1));c?r(l,!1):(r(l,!1),r(l,!0))}return s}(new Mf(t.length));return null!==o?new vf(r||e,o):new vf(r||e)}function Ud(t){return"number"==typeof t?"number:"+Jc(t):"string:"+t}function Sd(t){if(t.J()){var e=t.H();H("string"==typeof e||"number"==typeof e||"object"==typeof e&&cb(e,".sv"),"Priority must be a string or number.")}else H(t===Zd||t.e(),"priority of unexpected type.");H(t===Zd||t.C().e(),"Priority nodes can't have a priority of their own.")}function Of(){P.call(this,new vf(ic),G,ne)}function W(t,e,n){this.A=t,this.V=e,this.g=n}function yd(t,e){this.N=t,this.Ld=e}function vd(t,e,n,r){return new yd(new $b(e,n,r),t.Ld)}function zd(t){return t.N.da?t.N.j():null}function ac(t){return t.Ld.da?t.Ld.j():null}function Pf(t,e){this.V=t;var n=t.m,r=new Gd(n.g),n=S(n)?new Gd(n.g):n.xa?new Md(n):new Hd(n);this.hf=new pd(n);var i=e.w(),o=e.N,s=r.ya(G,i.j(),null),a=n.ya(G,o.j(),null);this.Ka=new yd(new $b(a,o.da,n.Na()),new $b(s,i.da,r.Na())),this.Za=[],this.Jf=new kd(t)}function Qf(t){return t.V}function Sf(t,e){var n=t.Ka.N,r=[];return n.j().J()||n.j().O(N,function(t,e){r.push(new I("child_added",e,t))}),n.da&&r.push(bc(n.j())),Rf(t,r,n.j(),e)}function Rf(t,e,n,r){return ld(t.Jf,e,n,r?[r]:t.Za)}function Tf(t,e,n){this.Pb=t,this.rb=e,this.tb=n||null}function Uf(t,e,n){this.ga=t,this.rb=e,this.tb=n}function X(t,e,n,r){this.u=t,this.path=e,this.m=n,this.Nc=r}function Vf(t){var e=null,n=null;if(t.ka&&(e=Jd(t)),t.na&&(n=Ld(t)),t.g===Fd){if(t.ka){if("[MIN_NAME]"!=Id(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=Kd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===N){if(null!=e&&!cf(e)||null!=n&&!cf(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(t.g instanceof Yd||t.g===de,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Wf(t){if(t.ka&&t.na&&t.xa&&(!t.xa||""===t.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Xf(t,e){if(!0===t.Nc)throw Error(e+": You can't combine multiple orderBy calls.")}function Yf(t,e,n){var r={cancel:null,Ma:null};if(e&&n)r.cancel=e,A(t,3,r.cancel,!0),r.Ma=n,eb(t,4,r.Ma);else if(e)if("object"==typeof e&&null!==e)r.Ma=e;else{if("function"!=typeof e)throw Error(y(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r}function $f(t,e){this.value=t,this.children=e||ag}function bg(t){var e=Q;return r(t,function(t,n){e=e.set(new L(n),t)}),e}function cg(t,e,n){if(null!=t.value&&n(t.value))return{path:C,value:t.value};if(e.e())return null;var r=J(e);return t=t.children.get(r),null!==t?(e=cg(t,D(e),n),null!=e?{path:new L(r).n(e.path),value:e.value}:null):null}function dg(t,e){return cg(t,e,function(){return!0})}function Ed(t,e,n){if(e.e())return n;var r=J(e);return e=Ed(t.children.get(r)||Q,D(e),n),r=e.e()?t.children.remove(r):t.children.Oa(r,e),new $f(t.value,r)}function eg(t,e){return fg(t,C,e)}function fg(t,e,n){var r={};return t.children.ha(function(t,i){r[t]=fg(i,e.n(t),n)}),n(e,t.value,r)}function gg(t,e,n){return hg(t,e,C,n)}function hg(t,e,n,r){var i=!!t.value&&r(n,t.value);return i?i:e.e()?null:(i=J(e),(t=t.children.get(i))?hg(t,D(e),n.n(i),r):null)}function ig(t,e,n){jg(t,e,C,n)}function jg(t,e,n,r){if(e.e())return t;t.value&&r(n,t.value);var i=J(e);return(t=t.children.get(i))?jg(t,D(e),n.n(i),r):Q}function Cd(t,e){kg(t,C,e)}function kg(t,e,n){t.children.ha(function(t,r){kg(r,e.n(t),n)}),t.value&&n(e,t.value)}function lg(t,e){t.children.ha(function(t,n){n.value&&e(t,n.value)})}function mg(t,e,n){this.type=ud,this.source=ng,this.path=t,this.Ob=e,this.Id=n}function og(t,e,n,r){this.ce=t,this.Se=e,this.Hb=n,this.Ce=r,H(!r||e,"Tagged queries must be from server.")}function qg(t){this.W=t}function sg(t,e,n){if(e.e())return new qg(new $f(n));var r=dg(t.W,e);if(null!=r){var i=r.path,r=r.value;return e=T(i,e),r=r.F(e,n),new qg(t.W.set(i,r))}return t=Ed(t.W,e,new $f(n)),new qg(t)}function tg(t,e,n){var r=t;return db(n,function(t,n){r=sg(r,e.n(t),n)}),r}function ug(t,e){var n=dg(t.W,e);return null!=n?t.W.get(n.path).P(T(n.path,e)):null}function vg(t){var e=[],n=t.W.value;return null!=n?n.J()||n.O(N,function(t,n){e.push(new K(t,n))}):t.W.children.ha(function(t,n){null!=n.value&&e.push(new K(t,n.value))}),e}function wg(t,e){if(e.e())return t;var n=ug(t,e);return new qg(null!=n?new $f(n):t.W.subtree(e))}function xg(t,e,n){if(null!=e.value)return n.F(t,e.value);var r=null;return e.children.ha(function(e,i){".priority"===e?(H(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=xg(t.n(e),i,n)}),n.P(t).e()||null===r||(n=n.F(t.n(".priority"),r)),n}function yg(){this.za={}}function Ag(t){return Ka(ta(t.za),function(t){return!S(t.V.m)})}function Bg(t,e){if(S(e.m))return zg(t);var n=e.ja();return w(t.za,n)}function zg(t){return xa(t.za,function(t){return S(t.V.m)})||null}function Cg(){this.S=rg,this.la=[],this.Bc=-1}function Dg(t,e){for(var n=0;n<t.la.length;n++){var r=t.la[n];if(r.Zc===e)return r}return null}function Eg(t,e){return t.Ga?t.path.contains(e):!!wa(t.children,function(n,r){return t.path.n(r).contains(e)})}function Gg(t){return t.visible}function Fg(t,e,n){for(var r=rg,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path;if(o.Ga)n.contains(s)?(s=T(n,s),r=sg(r,s,o.Ga)):s.contains(n)&&(s=T(s,n),r=sg(r,C,o.Ga.P(s)));else{if(!o.children)throw sc("WriteRecord should have .snap or .children");n.contains(s)?(s=T(n,s),r=tg(r,s,o.children)):s.contains(n)&&(s=T(s,n),s.e()?r=tg(r,C,o.children):(o=w(o.children,J(s)))&&(o=o.P(D(s)),r=sg(r,C,o)))}}}return r}function Hg(t,e){this.Lb=t,this.W=e}function Ig(){this.children={},this.bd=0,this.value=null}function Jg(t,e,n){this.ud=t?t:"",this.Pc=e?e:null,this.A=n?n:new Ig}function Kg(t,e){for(var n,r=e instanceof L?e:new L(e),i=t;null!==(n=J(r));)i=new Jg(n,i,w(i.A.children,n)||new Ig),r=D(r);return i}function Lg(t,e){H("undefined"!=typeof e,"Cannot set value to undefined"),t.A.value=e,Mg(t)}function Ng(t,e,n,r){n&&!r&&e(t),t.O(function(t){Ng(t,e,!0,r)}),n&&r&&e(t)}function Og(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Mg(t){if(null!==t.Pc){var e=t.Pc,n=t.ud,r=t.e(),i=cb(e.A.children,n);r&&i?(delete e.A.children[n],e.A.bd--,Mg(e)):r||i||(e.A.children[n]=t.A,e.A.bd++,Mg(e))}}function Pg(t,e,n,r,i,o){if(this.id=Qg++,this.f=yc("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1e3,this.td=3e5,this.Gb=e,this.Jc=n,this.se=r,this.L=t,this.ob=this.Fa=this.Cb=this.xe=null,this.$c=i,this.be=!1,this.ie=0,o)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Ge=o||null,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.ke=null,Rg(this,0),tf.Vb().gc("visible",this.Zf,this),-1===t.host.indexOf("fblocal")&&sf.Vb().gc("online",this.Yf,this)}function Tg(t,e){var n=e.eg,r=n.path.toString(),i=n.ja();t.f("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=ie(n.m),o.t=e.tag),o.h=e.ld(),t.ua("q",o,function(o){var s=o.d,a=o.s;if(s&&"object"==typeof s&&cb(s,"w")){var u=w(s,"w");ea(u)&&0<=Ia(u,"no_index")&&O("Using an unspecified index. Consider adding "+('".indexOn": "'+n.m.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.$[r]&&t.$[r][i])===e&&(t.f("listen response",o),"ok"!==a&&Ug(t,r,i),e.G&&e.G(a,s))})}function Vg(t){if(t.ma&&t.ob){var e=t.ob,n=Oc(e)?"auth":"gauth",r={cred:e};t.Ge&&(r.authvar=t.Ge),t.ua(n,r,function(n){var r=n.s;n=n.d||"error",t.ob===e&&("ok"===r?t.ie=0:Wg(t,r,n))})}}function Xg(t,e,n,r,i){n={p:n,d:r},t.f("onDisconnect "+e,n),t.ua(e,n,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})}function Yg(t,e,r,i,o,s){i={p:r,d:i},n(s)&&(i.h=s),t.pa.push({action:e,mf:i,G:o}),t.Oc++,e=t.pa.length-1,t.ma?Zg(t,e):t.f("Buffering put: "+r)}function Zg(t,e){var n=t.pa[e].action,r=t.pa[e].mf,i=t.pa[e].G;t.pa[e].fg=t.ma,t.ua(n,r,function(r){t.f(n+" response",r),delete t.pa[e],t.Oc--,0===t.Oc&&(t.pa=[]),i&&i(r.s,r.d)})}function Rg(t,e){H(!t.Fa,"Scheduling a connect when we're already connected/ing?"),t.ub&&clearTimeout(t.ub),t.ub=setTimeout(function(){t.ub=null,bh(t)},Math.floor(e))}function bh(t){if(ch(t)){t.f("Making a connection attempt"),t.ke=(new Date).getTime(),t.Ac=null;var e=q(t.wd,t),n=q(t.Lc,t),r=q(t.df,t),i=t.id+":"+Sg++,o=t.Cb,s=!1,a=null,u=function(){a?a.close():(s=!0,r())};t.Fa={close:u,ua:function(t){H(a,"sendRequest call when we're not connected not allowed."),a.ua(t)}};var c=t.be;t.be=!1,t.$c.getToken(c).then(function(u){s?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),t.ob=u&&u.accessToken,a=new Ce(i,t.L,e,n,r,function(e){O(e+" ("+t.L.toString()+")"),t.ab("server_kill")},o))}).then(null,function(e){t.f("Failed to get token: "+e),s||u()})}}function $g(t,e,n){n=n?La(n,function(t){return Gc(t)}).join("$"):"default",(t=Ug(t,e,n))&&t.G&&t.G("permission_denied")}function Ug(t,e,r){e=new L(e).toString();var i;return n(t.$[e])?(i=t.$[e][r],delete t.$[e][r],0===ra(t.$[e])&&delete t.$[e]):i=void 0,i}function Wg(t,e,n){E("Auth token revoked: "+e+"/"+n),t.ob=null,t.be=!0,t.Fa.close(),"invalid_token"===e&&(t.ie++,3<=t.ie&&(t.Sa=3e4,t=t.$c,e='Provided authentication credentials for the app named "'+t.oc.name+'" are invalid. This usually indicates your app was not initialized correctly. ',e="credential"in t.oc.options?e+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in t.oc.options?e+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(e)))}function ah(t){Vg(t),r(t.$,function(e){r(e,function(e){Tg(t,e)})});for(var e=0;e<t.pa.length;e++)t.pa[e]&&Zg(t,e);for(;t.Kc.length;)e=t.Kc.shift(),Xg(t,e.action,e.ue,e.data,e.G)}function ch(t){var e;return e=sf.Vb().hc,ya(t.qd)&&e}function dh(t){this.wa=Q,this.jb=new Cg,this.Be={},this.ic={},this.Cc=t}function eh(t,e,r,i,o){var s=t.jb,a=o;return H(i>s.Bc,"Stacking an older write on top of newer ones"),n(a)||(a=!0),s.la.push({path:e,Ga:r,Zc:i,visible:a}),a&&(s.S=sg(s.S,e,r)),s.Bc=i,o?fh(t,new Ab(ng,e,r)):[]}function gh(t,e,n,r){var i=t.jb;return H(r>i.Bc,"Stacking an older merge on top of newer ones"),i.la.push({path:e,children:n,Zc:r,visible:!0}),i.S=tg(i.S,e,n),i.Bc=r,n=bg(n),fh(t,new Vc(ng,e,n))}function hh(t,e,n){n=n||!1;var r=Dg(t.jb,e);if(t.jb.Ed(e)){var i=Q;return null!=r.Ga?i=i.set(C,!0):db(r.children,function(t,e){i=i.set(new L(t),e)}),fh(t,new mg(r.path,i,n))}return[]}function ih(t,e,n){return n=bg(n),fh(t,new Vc(pg,e,n))}function jh(t,e,n,r){if(r=kh(t,r),null!=r){var i=lh(r);return r=i.path,i=i.Hb,e=T(r,e),n=new Ab(new og(!1,!0,i,!0),e,n),mh(t,r,n)}return[]}function nh(t,e,n,r){if(r=kh(t,r)){var i=lh(r);return r=i.path,i=i.Hb,e=T(r,e),n=bg(n),n=new Vc(new og(!1,!0,i,!0),e,n),mh(t,r,n)}return[]}function rh(t){return eg(t,function(t,e,n){if(e&&null!=zg(e))return[zg(e)];var i=[];return e&&(i=Ag(e)),r(n,function(t){i=i.concat(t)}),i})}function vh(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!S(r.m)){var r=oh(r),i=t.ic[r];delete t.ic[r],delete t.Be["_"+i]}}}function th(t){return S(t.m)&&!Sc(t.m)?t.wb():t}function qh(t,e,n){var i=e.path,o=uh(t,e);if(n=sh(t,n),e=t.Cc.ye(th(e),o,n.ld,n.G),i=t.wa.subtree(i),o)H(null==zg(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=eg(i,function(t,e,n){if(!t.e()&&e&&null!=zg(e))return[Qf(zg(e))];var i=[];return e&&(i=i.concat(La(Ag(e),function(t){return t.V}))),r(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Cc.Od(th(n),uh(t,n));return e}function sh(t,e){var n=e.V,r=uh(t,n);return{ld:function(){return(e.w()||G).hash()},G:function(e){if("ok"===e){if(r){var i=n.path;if(e=kh(t,r)){var o=lh(e);e=o.path,o=o.Hb,i=T(e,i),i=new Cb(new og(!1,!0,o,!0),i),e=mh(t,e,i)}else e=[]}else e=fh(t,new Cb(pg,n.path));return e}return i="Unknown Error","too_big"===e?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?i="Client doesn't have permission to access the desired data.":"unavailable"==e&&(i="The service is unavailable"),i=Error(e+" at "+n.path.toString()+": "+i),i.code=e.toUpperCase(),t.kb(n,null,i)}}}function oh(t){return t.path.toString()+"$"+t.ja()}function lh(t){var e=t.indexOf("$");return H(-1!==e&&e<t.length-1,"Bad queryKey."),{Hb:t.substr(e+1),path:new L(t.substr(0,e))}}function kh(t,e){var n=t.Be,r="_"+e;return r in n?n[r]:void 0}function uh(t,e){var n=oh(e);return w(t.ic,n)}function mh(t,e,n){var r=t.wa.get(e);return H(r,"Missing sync point for query tag that we're tracking"),r.eb(n,new Hg(e,t.jb),null)}function fh(t,e){return wh(t,e,t.wa,null,new Hg(C,t.jb))}function wh(t,e,n,r,i){if(e.path.e())return xh(t,e,n,r,i);var o=n.get(C);null==r&&null!=o&&(r=o.hb(C));var s=[],a=J(e.path),u=e.Mc(a);if((n=n.children.get(a))&&u)var c=r?r.Q(a):null,a=i.n(a),s=s.concat(wh(t,u,n,c,a));return o&&(s=s.concat(o.eb(e,i,r))),s}function xh(t,e,n,r,i){var o=n.get(C);null==r&&null!=o&&(r=o.hb(C));var s=[];return n.children.ha(function(n,o){var a=r?r.Q(n):null,u=i.n(n),c=e.Mc(n);c&&(s=s.concat(xh(t,c,o,a,u)))}),o&&(s=s.concat(o.eb(e,i,r))),s}function Te(t,e,n){this.app=n;var r=new Eb(n);if(this.L=t,this.Va=$c(t),this.Vc=null,this.ca=new Nb,this.vd=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Qc(this.L,q(this.Gb,this),r),setTimeout(q(this.Jc,this,!0),0);else{if(e=n.options.databaseAuthVariableOverride||null,null!==e){if("object"!==da(e))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{B(e)}catch(t){throw Error("Invalid authOverride provided: "+t)}}this.va=this.Ra=new Pg(this.L,q(this.Gb,this),q(this.Jc,this),q(this.se,this),r,e)}var i=this;Fb(r,function(t){i.va.kf(t)}),this.og=ad(t,q(function(){return new Xc(this.Va,this.va)},this)),this.mc=new Jg,this.ge=new Gb,this.pd=new dh({ye:function(t,e,n,r){return e=[],n=i.ge.j(t.path),n.e()||(e=fh(i.pd,new Ab(pg,t.path,n)),setTimeout(function(){r("ok")},0)),e},Od:ba}),yh(this,"connected",!1),this.ia=new mc,this.Ya=new Se(this),this.fd=0,this.he=null,this.K=new dh({ye:function(t,e,n,r){return i.va.$e(t,n,e,function(e,n){var o=r(e,n);Sb(i.ca,t.path,o)}),[]},Od:function(t,e){i.va.uf(t,e)}})}function zh(t){return t=t.ge.j(new L(".info/serverTimeOffset")).H()||0,(new Date).getTime()+t}function Ah(t){return t=t={timestamp:zh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function yh(t,e,n){e=new L("/.info/"+e),n=M(n);var r=t.ge;r.Jd=r.Jd.F(e,n),n=fh(t.pd,new Ab(pg,e,n)),Sb(t.ca,e,n)}function Ch(t){t.f("onDisconnectEvents");var e=Ah(t),n=[];nc(lc(t.ia,e),C,function(e,r){n=n.concat(fh(t.K,new Ab(pg,e,r)));var i=Eh(t,e);Bh(t,i)}),t.ia=new mc,Sb(t.ca,C,n)}function nf(t,e,n,r){var i=M(n);t.va.pe(e.toString(),i.H(!0),function(n,o){"ok"===n&&oc(t.ia,e,i),Dh(r,n,o)})}function of(t,e,n,r,i){var o=M(n,r);t.va.pe(e.toString(),o.H(!0),function(n,r){"ok"===n&&oc(t.ia,e,o),Dh(i,n,r)})}function pf(t,e,n,r){var i,o=!0;for(i in n)o=!1;o?(E("onDisconnect().update() called with empty data.  Don't do anything."),Dh(r,"ok")):t.va.cf(e.toString(),n,function(i,o){if("ok"===i)for(var s in n){var a=M(n[s]);oc(t.ia,e.n(s),a)}Dh(r,i,o)})}function Zf(t,e,n){n=".info"===J(e.path)?t.pd.Nb(e,n):t.K.Nb(e,n),Qb(t.ca,e.path,n)}function Dh(t,e,n){t&&ub(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,t(i)}})}function Fh(t,e,r,i,o){function s(){}t.f("transaction on "+e);var a=new U(t,e);if(a.gc("value",s),r={path:e,update:r,G:i,status:null,ef:rc(),Fe:o,of:0,Rd:function(){a.Ic("value",s)},Td:null,Ba:null,cd:null,dd:null,ed:null},i=t.K.Aa(e,void 0)||G,r.cd=i,i=r.update(i.H()),n(i)){ef("transaction failed: Data returned ",i,r.path),r.status=1,o=Kg(t.mc,e);var u=o.Ca()||[];u.push(r),Lg(o,u),"object"==typeof i&&null!==i&&cb(i,".priority")?(u=w(i,".priority"),H(cf(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(t.K.Aa(e)||G).C().H(),o=Ah(t),i=M(i,u),o=pc(i,o),r.dd=i,r.ed=o,r.Ba=t.vd++,r=eh(t.K,e,o,r.Ba,r.Fe),Sb(t.ca,e,r),Gh(t)}else r.Rd(),r.dd=null,r.ed=null,r.G&&(t=new W(r.cd,new U(t,r.path),N),r.G(null,!1,t))}function Gh(t,e){var n=e||t.mc;if(e||Hh(t,n),null!==n.Ca()){var r=Ih(t,n);H(0<r.length,"Sending zero length transaction queue"),Na(r,function(t){return 1===t.status})&&Jh(t,n.path(),r)}else n.kd()&&n.O(function(e){Gh(t,e)})}function Jh(t,e,n){for(var r=La(n,function(t){return t.Ba}),i=t.K.Aa(e,r)||G,r=i,i=i.hash(),o=0;o<n.length;o++){var s=n[o];H(1===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=2,s.of++;var a=T(e,s.path),r=r.F(a,s.dd)}r=r.H(!0),t.va.put(e.toString(),r,function(r){t.f("transaction put response",{path:e.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(hh(t.K,n[o].Ba)),n[o].G){var s=n[o].ed,a=new U(t,n[o].path);r.push(q(n[o].G,null,null,!0,new W(s,a,N)))}n[o].Rd()}for(Hh(t,Kg(t.mc,e)),Gh(t),Sb(t.ca,e,i),o=0;o<r.length;o++)ub(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(O("transaction at "+e.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].Td=r;Bh(t,e)}},i)}function Bh(t,e){var n=Kh(t,e),r=n.path(),n=Ih(t,n);return Lh(t,n,r),r}function Lh(t,e,r){if(0!==e.length){for(var i=[],o=[],s=Ka(e,function(t){return 1===t.status}),s=La(s,function(t){return t.Ba}),a=0;a<e.length;a++){var u,c=e[a],l=T(r,c.path),h=!1;if(H(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)h=!0,u=c.Td,o=o.concat(hh(t.K,c.Ba,!0));else if(1===c.status)if(25<=c.of)h=!0,u="maxretry",o=o.concat(hh(t.K,c.Ba,!0));else{var f=t.K.Aa(c.path,s)||G;c.cd=f;var p=e[a].update(f.H());n(p)?(ef("transaction failed: Data returned ",p,c.path),l=M(p),"object"==typeof p&&null!=p&&cb(p,".priority")||(l=l.fa(f.C())),f=c.Ba,p=Ah(t),p=pc(l,p),c.dd=l,c.ed=p,c.Ba=t.vd++,Qa(s,f),o=o.concat(eh(t.K,c.path,p,c.Ba,c.Fe)),o=o.concat(hh(t.K,f,!0))):(h=!0,u="nodata",o=o.concat(hh(t.K,c.Ba,!0)))}Sb(t.ca,r,o),o=[],h&&(e[a].status=3,setTimeout(e[a].Rd,Math.floor(0)),e[a].G&&("nodata"===u?(c=new U(t,e[a].path),i.push(q(e[a].G,null,null,!1,new W(e[a].cd,c,N)))):i.push(q(e[a].G,null,Error(u),!1,null))))}for(Hh(t,t.mc),a=0;a<i.length;a++)ub(i[a]);Gh(t)}}function Kh(t,e){for(var n,r=t.mc;null!==(n=J(e))&&null===r.Ca();)r=Kg(r,n),e=D(e);return r}function Ih(t,e){var n=[];return Mh(t,e,n),n.sort(function(t,e){return t.ef-e.ef}),n}function Mh(t,e,n){var r=e.Ca();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.O(function(e){Mh(t,e,n)})}function Hh(t,e){var n=e.Ca();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Lg(e,0<n.length?n:null)}e.O(function(e){Hh(t,e)})}function Eh(t,e){var n=Kh(t,e).path(),r=Kg(t.mc,e);return Og(r,function(e){Nh(t,e)}),Nh(t,r),Ng(r,function(e){Nh(t,e)}),n}function Nh(t,e){var n=e.Ca();if(null!==n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)4!==n[s].status&&(2===n[s].status?(H(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=4,n[s].Td="set"):(H(1===n[s].status,"Unexpected transaction status in abort"),n[s].Rd(),i=i.concat(hh(t.K,n[s].Ba,!0)),n[s].G&&r.push(q(n[s].G,null,Error("set"),!1,null))));for(-1===o?Lg(e,null):n.length=o+1,Sb(t.ca,e.path(),i),s=0;s<r.length;s++)ub(r[s])}}function Ye(){this.lb={},this.wf=!1}function U(t,e){if(!(t instanceof Te))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,t,e,fe,!1),this.then=void 0,this.catch=void 0}var g,aa=this;la(na,ma),na.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},na.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var r=e-this.Wa,i=0,o=this.Vd,s=this.$b;i<e;){if(0==s)for(;i<=r;)oa(this,t,i),i+=this.Wa;if(p(t)){for(;i<e;)if(o[s]=t.charCodeAt(i),++s,++i,s==this.Wa){oa(this,o),s=0;break}}else for(;i<e;)if(o[s]=t[i],++s,++i,s==this.Wa){oa(this,o),s=0;break}}this.$b=s,this.Pd+=e}};var Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Fa=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,t;t:{var Ga=aa.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){t=Ha;break t}}t=""}var v=Array.prototype,Ia=v.indexOf?function(t,e,n){return v.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ja=v.forEach?function(t,e,n){v.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},Ka=v.filter?function(t,e,n){return v.filter.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=[],o=0,s=p(t)?t.split(""):t,a=0;a<r;a++)if(a in s){var u=s[a];e.call(n,u,a,t)&&(i[o++]=u)}return i},La=v.map?function(t,e,n){return v.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=p(t)?t.split(""):t,s=0;s<r;s++)s in o&&(i[s]=e.call(n,o[s],s,t));return i},Ma=v.reduce?function(t,e,n,r){for(var i=[],o=1,s=arguments.length;o<s;o++)i.push(arguments[o]);return r&&(i[0]=q(e,r)),v.reduce.apply(t,i)}:function(t,e,n,r){var i=n;return Ja(t,function(n,o){i=e.call(r,i,n,o,t)}),i},Na=v.every?function(t,e,n){return v.every.call(t,e,n)}:function(t,e,n){
for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0},Ua=-1!=t.indexOf("Opera")||-1!=t.indexOf("OPR"),Va=-1!=t.indexOf("Trident")||-1!=t.indexOf("MSIE"),Wa=-1!=t.indexOf("Gecko")&&-1==t.toLowerCase().indexOf("webkit")&&!(-1!=t.indexOf("Trident")||-1!=t.indexOf("MSIE")),Xa=-1!=t.toLowerCase().indexOf("webkit");!function(){var e,n="";return Ua&&aa.opera?(n=aa.opera.version,ha(n)?n():n):(Wa?e=/rv\:([^\);]+)(\)|;)/:Va?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(e=/WebKit\/(\S+)/),e&&(n=(n=e.exec(t))?n[1]:""),Va&&(e=(e=aa.document)?e.documentMode:void 0,e>parseFloat(n))?String(e):n)}();var Ya=null,Za=null,$a=null,gb=firebase.Promise;vb.prototype.set=function(t,e){null==e?delete this.pc[t]:this.pc[t]=e},vb.prototype.get=function(t){return cb(this.pc,t)?this.pc[t]:null},vb.prototype.remove=function(t){delete this.pc[t]},vb.prototype.Ze=!0,g=wb.prototype,g.set=function(t,e){null==e?this.uc.removeItem(this.Cd+t):this.uc.setItem(this.Cd+t,B(e))},g.get=function(t){return t=this.uc.getItem(this.Cd+t),null==t?null:ob(t)},g.remove=function(t){this.uc.removeItem(this.Cd+t)},g.Ze=!1,g.toString=function(){return this.uc.toString()};var yb=xb("localStorage"),zb=xb("sessionStorage");Ab.prototype.Mc=function(t){return this.path.e()?new Ab(this.source,C,this.Ga.Q(t)):new Ab(this.source,D(this.path),this.Ga)},Ab.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"},Cb.prototype.Mc=function(){return this.path.e()?new Cb(this.source,C):new Cb(this.source,D(this.path))},Cb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},Eb.prototype.getToken=function(t){return this.oc.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},Gb.prototype.j=function(t){return this.Jd.P(t)},Gb.prototype.toString=function(){return this.Jd.toString()},Hb.prototype.toString=function(){var t=(this.Sc?"https://":"http://")+this.host;return this.gf&&(t+="<"+this.gf+">"),t},Kb.prototype.get=function(){return za(this.tc)},Mb.prototype.get=function(){var t=this.Ef.get(),e=za(t);if(this.rd)for(var n in this.rd)e[n]-=this.rd[n];return this.rd=t,e},Pb.prototype.add=function(t){this.jd.push(t)},Pb.prototype.Yb=function(){return this.qa},Ub.prototype.Yb=function(){var t=this.Md.wb();return"value"===this.hd?t.path:t.getParent().path},Ub.prototype.ee=function(){return this.hd},Ub.prototype.Tb=function(){return this.$d.Tb(this)},Ub.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+B(this.Md.Qe())},Vb.prototype.Yb=function(){return this.path},Vb.prototype.ee=function(){return"cancel"},Vb.prototype.Tb=function(){return this.$d.Tb(this)},Vb.prototype.toString=function(){return this.path.toString()+":cancel"},Wb.prototype.Te=function(){return null},Wb.prototype.de=function(){return null};var Xb=new Wb;Yb.prototype.Te=function(t){var e=this.Ka.N;return Zb(e,t)?e.j().Q(t):(e=null!=this.yd?new $b(this.yd,!0,!1):this.Ka.w(),this.xf.qc(t,e))},Yb.prototype.de=function(t,e,n){var r=null!=this.yd?this.yd:ac(this.Ka);return t=this.xf.Wd(r,e,1,n,t),0===t.length?null:t[0]};var cc="value";$b.prototype.j=function(){return this.A};var rc=function(){var t=1;return function(){return t++}}(),H=kb,sc=lb,Tb=null,wc=!0,Kc=/^-?\d{1,10}$/;g=Qc.prototype,g.$e=function(t,e,n,r){var i=t.path.toString();this.f("Listen called for "+i+" "+t.ja());var o=Rc(t,n),s={};this.$[o]=s,t=Tc(t.m);var a=this;Uc(this,i+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&a.Gb(i,u,!1,n),w(a.$,o)===s&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},g.uf=function(t,e){var n=Rc(t,e);delete this.$[n]},g.kf=function(){},g.pe=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.we=function(){},Vc.prototype.Mc=function(t){return this.path.e()?(t=this.children.subtree(new L(t)),t.e()?null:t.value?new Ab(this.source,C,t.value):new Vc(this.source,C,t)):(H(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Vc(this.source,D(this.path),this.children))},Vc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Xc.prototype.lf=function(){var t,e=this.Vc.get(),n={},r=!1;for(t in e)0<e[t]&&cb(this.rf,t)&&(n[t]=e[t],r=!0);r&&this.va.we(n),Mc(q(this.lf,this),Math.floor(6e5*Math.random()))};var Yc={},Zc={},bd=null;"undefined"!=typeof MozWebSocket?bd=MozWebSocket:"undefined"!=typeof WebSocket&&(bd=WebSocket);var dd;cd.prototype.open=function(t,e){this.ib=e,this.Xf=t,this.f("Websocket connecting to "+this.Je),this.wc=!1,yb.set("previous_websocket_failure",!0);try{this.Ia=new bd(this.Je)}catch(t){this.f("Error instantiating WebSocket.");var n=t.message||t.data;return n&&this.f(n),void this.bb()}var r=this;this.Ia.onopen=function(){r.f("Websocket connected."),r.wc=!0},this.Ia.onclose=function(){r.f("Websocket connection was disconnected."),r.Ia=null,r.bb()},this.Ia.onmessage=function(t){if(null!==r.Ia)if(t=t.data,r.pb+=t.length,Lb(r.Va,"bytes_received",t.length),ed(r),null!==r.frames)fd(r,t);else{t:{if(H(null===r.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){r.De=e,r.frames=[],t=null;break t}}r.De=1,r.frames=[]}null!==t&&fd(r,t)}},this.Ia.onerror=function(t){r.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.f(t),r.bb()}},cd.prototype.start=function(){},cd.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==bd&&!dd},cd.responsesRequiredToBeHealthy=2,cd.healthyTimeout=3e4,g=cd.prototype,g.sd=function(){yb.remove("previous_websocket_failure")},g.send=function(t){ed(this),t=B(t),this.qb+=t.length,Lb(this.Va,"bytes_sent",t.length),t=Hc(t,16384),1<t.length&&gd(this,String(t.length));for(var e=0;e<t.length;e++)gd(this,t[e])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())},kd.prototype.Ff=function(t,e){if(null==t.Xa||null==e.Xa)throw sc("Should only compare child_ events.");return this.g.compare(new K(t.Xa,t.Ja),new K(e.Xa,e.Ja))},pd.prototype.eb=function(t,e,n,r){var i,o=new hd;if(e.type===Bb)e.source.ce?n=qd(this,t,e.path,e.Ga,n,r,o):(H(e.source.Se,"Unknown source."),i=e.source.Ce||ec(t.w())&&!e.path.e(),n=rd(this,t,e.path,e.Ga,n,r,i,o));else if(e.type===Wc)e.source.ce?n=sd(this,t,e.path,e.children,n,r,o):(H(e.source.Se,"Unknown source."),i=e.source.Ce||ec(t.w()),n=td(this,t,e.path,e.children,n,r,i,o));else if(e.type===ud)if(e.Id)if(e=e.path,null!=n.lc(e))n=t;else{if(i=new Yb(n,t,r),r=t.N.j(),e.e()||".priority"===J(e))dc(t.w())?e=n.Aa(ac(t)):(e=t.w().j(),H(e instanceof P,"serverChildren would be complete if leaf node"),e=n.rc(e)),e=this.U.ya(r,e,o);else{var s=J(e),a=n.qc(s,t.w());null==a&&Zb(t.w(),s)&&(a=r.Q(s)),e=null!=a?this.U.F(r,s,a,D(e),i,o):t.N.j().Da(s)?this.U.F(r,s,G,D(e),i,o):r,e.e()&&dc(t.w())&&(r=n.Aa(ac(t)),r.J()&&(e=this.U.ya(e,r,o)))}r=dc(t.w())||null!=n.lc(C),n=vd(t,e,r,this.U.Na())}else n=wd(this,t,e.path,e.Ob,n,r,o);else{if(e.type!==Db)throw sc("Unknown operation type: "+e.type);r=e.path,e=t.w(),i=e.j(),s=e.da||r.e(),n=xd(this,new yd(t.N,new $b(i,s,e.Sb)),r,n,Xb,o)}return o=ta(o.fb),r=n,e=r.N,e.da&&(i=e.j().J()||e.j().e(),s=zd(t),(0<o.length||!t.N.da||i&&!e.j().Z(s)||!e.j().C().Z(s.C()))&&o.push(bc(zd(r)))),new od(n,o)},g=Gd.prototype,g.F=function(t,e,n,r,i,o){return H(t.yc(this.g),"A node must be indexed if only a child is updated"),i=t.Q(e),i.P(r).Z(n.P(r))&&i.e()==n.e()?t:(null!=o&&(n.e()?t.Da(e)?jd(o,new I("child_removed",i,e)):H(t.J(),"A child remove without an old child only makes sense on a leaf node"):i.e()?jd(o,new I("child_added",n,e)):jd(o,new I("child_changed",n,e,i))),t.J()&&n.e()?t:t.T(e,n).nb(this.g))},g.ya=function(t,e,n){return null!=n&&(t.J()||t.O(N,function(t,r){e.Da(t)||jd(n,new I("child_removed",r,t))}),e.J()||e.O(N,function(e,r){if(t.Da(e)){var i=t.Q(e);i.Z(r)||jd(n,new I("child_changed",r,e,i))}else jd(n,new I("child_added",r,e))})),e.nb(this.g)},g.fa=function(t,e){return t.e()?G:t.fa(e)},g.Na=function(){return!1},g.Ub=function(){return this},g=Hd.prototype,g.matches=function(t){return 0>=this.g.compare(this.Uc,t)&&0>=this.g.compare(t,this.vc)},g.F=function(t,e,n,r,i,o){return this.matches(new K(e,n))||(n=G),this.fe.F(t,e,n,r,i,o)},g.ya=function(t,e,n){e.J()&&(e=G);var r=e.nb(this.g),r=r.fa(G),i=this;return e.O(N,function(t,e){i.matches(new K(t,e))||(r=r.T(t,G))}),this.fe.ya(t,r,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.fe},g=Md.prototype,g.F=function(t,e,n,r,i,o){return this.sa.matches(new K(e,n))||(n=G),t.Q(e).Z(n)?t:t.Eb()<this.oa?this.sa.Ub().F(t,e,n,r,i,o):Od(this,t,e,n,i,o)},g.ya=function(t,e,n){var r;if(e.J()||e.e())r=G.nb(this.g);else if(2*this.oa<e.Eb()&&e.yc(this.g)){r=G.nb(this.g),e=this.Ib?e.Zb(this.sa.vc,this.g):e.Xb(this.sa.Uc,this.g);for(var i=0;0<e.Pa.length&&i<this.oa;){var o,s=R(e);if(!(o=this.Ib?0>=this.g.compare(this.sa.Uc,s):0>=this.g.compare(s,this.sa.vc)))break;r=r.T(s.name,s.R),i++}}else{r=e.nb(this.g),r=r.fa(G);var a,u,c;if(this.Ib){e=r.We(this.g),a=this.sa.vc,u=this.sa.Uc;var l=Pd(this.g);c=function(t,e){return l(e,t)}}else e=r.Wb(this.g),a=this.sa.Uc,u=this.sa.vc,c=Pd(this.g);for(var i=0,h=!1;0<e.Pa.length;)s=R(e),!h&&0>=c(a,s)&&(h=!0),(o=h&&i<this.oa&&0>=c(s,u))?i++:r=r.T(s.name,G)}return this.sa.Ub().ya(t,r,n)},g.fa=function(t){return t},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Td=["object","boolean","number","string"];g=qc.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(t){return new qc(this.B,t)},g.Q=function(t){return".priority"===t?this.aa:G},g.P=function(t){return t.e()?this:".priority"===J(t)?this.aa:G},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(t,e){return".priority"===t?this.fa(e):e.e()&&".priority"!==t?this:G.T(t,e).fa(this.aa)},g.F=function(t,e){var n=J(t);return null===n?e:e.e()&&".priority"!==n?this:(H(".priority"!==n||1===Ad(t),".priority must be the last token in a path"),this.T(n,G.F(D(t),e)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(t){return t&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var t="";this.aa.e()||(t+="priority:"+Ud(this.aa.H())+":");var e=typeof this.B,t=t+(e+":"),t="number"===e?t+Jc(this.B):t+this.B;this.Db=uc(t)}return this.Db},g.Ca=function(){return this.B},g.sc=function(t){if(t===G)return 1;if(t instanceof P)return-1;H(t.J(),"Unknown node type");var e=typeof t.B,n=typeof this.B,r=Ia(Td,e),i=Ia(Td,n);return H(0<=r,"Unknown leaf type: "+e),H(0<=i,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:i-r},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(t){return t===this||!!t.J()&&(this.B===t.B&&this.aa.Z(t.aa))},g.toString=function(){return B(this.H(!0))};var Wd={};Vd.prototype.nd=function(t,e){return 0!==this.compare(new K("[MIN_NAME]",t),new K("[MIN_NAME]",e))},Vd.prototype.Hc=function(){return Xd},la(Yd,Vd),g=Yd.prototype,g.xc=function(t){return!t.P(this.bc).e()},g.compare=function(t,e){var n=t.R.P(this.bc),r=e.R.P(this.bc),n=n.sc(r);return 0===n?hc(t.name,e.name):n},g.Ec=function(t,e){var n=M(t),n=G.F(this.bc,n);return new K(e,n)},g.Fc=function(){var t=G.F(this.bc,Zd);return new K("[MAX_NAME]",t)},g.toString=function(){return this.bc.slice().join("/")},la($d,Vd),g=$d.prototype,g.compare=function(t,e){var n=t.R.C(),r=e.R.C(),n=n.sc(r);return 0===n?hc(t.name,e.name):n},g.xc=function(t){return!t.C().e()},g.nd=function(t,e){return!t.C().Z(e.C())},g.Hc=function(){return Xd},g.Fc=function(){return new K("[MAX_NAME]",new qc("[PRIORITY-POST]",Zd))},g.Ec=function(t,e){var n=M(t);return new K(e,new qc("[PRIORITY-POST]",n))},g.toString=function(){return".priority"};var N=new $d;la(ae,Vd),g=ae.prototype,g.compare=function(t,e){return hc(t.name,e.name)},g.xc=function(){throw sc("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return Xd},g.Fc=function(){return new K("[MAX_NAME]",G)},g.Ec=function(t){return H(p(t),"KeyIndex indexValue must always be a string."),new K(t,G)},g.toString=function(){return".key"};var Fd=new ae;la(be,Vd),g=be.prototype,g.compare=function(t,e){var n=t.R.sc(e.R);return 0===n?hc(t.name,e.name):n},g.xc=function(){return!0},g.nd=function(t,e){return!t.Z(e)},g.Hc=function(){return Xd},g.Fc=function(){return ce},g.Ec=function(t,e){var n=M(t);return new K(e,n)},g.toString=function(){return".value"};var de=new be,fe=new ee;g=ee.prototype,g.le=function(t){var e=ge(this);return e.xa=!0,e.oa=t,e.mb="l",e},g.me=function(t){var e=ge(this);return e.xa=!0,e.oa=t,e.mb="r",e},g.Nd=function(t,e){var r=ge(this);return r.ka=!0,n(t)||(t=null),r.dc=t,null!=e?(r.Kb=!0,r.zb=e):(r.Kb=!1,r.zb=""),r},g.gd=function(t,e){var r=ge(this);return r.na=!0,n(t)||(t=null),r.ac=t,n(e)?(r.Rb=!0,r.xb=e):(r.vg=!1,r.xb=""),r},g.toString=function(){return B(ie(this))},je.prototype.get=function(t){var e=w(this.od,t);if(!e)throw Error("No index defined for "+t);return e===Wd?null:e};var ne=new je({".priority":Wd},{".priority":N});g=oe.prototype,g.add=function(t,e){this.set[t]=null===e||e},g.contains=function(t){return cb(this.set,t)},g.get=function(t){return this.contains(t)?this.set[t]:void 0},g.remove=function(t){delete this.set[t]},g.clear=function(){this.set={}},g.e=function(){return ya(this.set)},g.count=function(){return ra(this.set)},g.keys=function(){var t=[];return r(this.set,function(e,n){t.push(n)}),t};var re,se;qe.prototype.open=function(t,e){this.Me=0,this.ia=e,this.bf=new rb(t),this.Ab=!1;var n=this;this.sb=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.sb=null},Math.floor(3e4)),Dc(function(){if(!n.Ab){n.Ta=new te(function(t,e,r,i,o){if(ue(n,arguments),n.Ta)if(n.sb&&(clearTimeout(n.sb),n.sb=null),n.wc=!0,"start"==t)n.id=e,n.ff=r;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Ta.Kd=!1,sb(n.bf,e,function(){n.bb()})):n.bb()}},function(t,e){ue(n,arguments),tb(n.bf,t,e)},function(){n.bb()},n.Yc);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Ta.Qd&&(t.cb=n.Ta.Qd),t.v="5",n.tf&&(t.s=n.tf),n.Cb&&(t.ls=n.Cb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.Yc(t),n.f("Connecting via long-poll to "+t),ve(n.Ta,t,function(){})}})},qe.prototype.start=function(){var t=this.Ta,e=this.ff;for(t.Vf=this.id,t.Wf=e,t.Ud=!0;we(t););t=this.id,e=this.ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.fc.src=this.Yc(n),this.fc.style.display="none",document.body.appendChild(this.fc)},qe.isAvailable=function(){return re||!se&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.rg)&&!0},g=qe.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(t){t=B(t),this.qb+=t.length,Lb(this.Va,"bytes_sent",t.length),t=mb(t),t=ab(t,!0),t=Hc(t,1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.Qc.push({jg:this.Me,pg:t.length,Oe:t[e]}),n.Ud&&we(n),this.Me++}},te.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ea&&(document.body.removeChild(t.Ea),t.Ea=null)},Math.floor(0))}var e=this.ib;e&&(this.ib=null,e())};var Ae=[qe,cd];Ce.prototype.ua=function(t){Ne(this,{t:"d",d:t})},Ce.prototype.wd=function(t){Ke(this),this.re(t)},Ce.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,Je(this),this.ia&&(this.ia(),this.ia=null))},g=L.prototype,g.toString=function(){for(var t="",e=this.Y;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},g.slice=function(t){return this.o.slice(this.Y+(t||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var t=[],e=this.Y;e<this.o.length-1;e++)t.push(this.o[e]);return new L(t,0)},g.n=function(t){for(var e=[],n=this.Y;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof L)for(n=t.Y;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new L(e,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(t){if(Ad(this)!==Ad(t))return!1;for(var e=this.Y,n=t.Y;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},g.contains=function(t){var e=this.Y,n=t.Y;if(Ad(this)>Ad(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var C=new L("");Pe.prototype.push=function(t){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(t),this.Ha+=nb(t),Qe(this)},Pe.prototype.pop=function(){var t=this.Qa.pop();this.Ha-=nb(t),0<this.Qa.length&&--this.Ha};var Ve={TIMESTAMP:{".sv":"timestamp"}};g=Se.prototype,g.app=null,g.jf=function(t){return We(this,"ref"),x("database.ref",0,1,arguments.length),n(t)?this.ba.n(t):this.ba},g.gg=function(t){We(this,"database.refFromURL"),x("database.refFromURL",1,1,arguments.length);var e=Bc(t);Xe("database.refFromURL",e);var n=e.jc;return n.host!==this.ta.L.host&&Ac("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.L.host+")"),this.jf(e.path.toString())},g.Pf=function(){x("database.goOffline",0,0,arguments.length),We(this,"goOffline"),this.ta.ab()},g.Qf=function(){x("database.goOnline",0,0,arguments.length),We(this,"goOnline"),this.ta.kc()},Object.defineProperty(Se.prototype,"app",{get:function(){return this.ta.app}}),Ue.prototype.delete=function(){We(this.Ya,"delete");var t=Ye.Vb(),e=this.Ya.ta;return w(t.lb,e.app.name)!==e&&Ac("Database "+e.app.name+" has already been deleted."),e.ab(),delete t.lb[e.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Se.prototype.ref=Se.prototype.jf,Se.prototype.refFromURL=Se.prototype.gg,Se.prototype.goOnline=Se.prototype.Qf,Se.prototype.goOffline=Se.prototype.Pf,Ue.prototype.delete=Ue.prototype.delete,mc.prototype.find=function(t){if(null!=this.B)return this.B.P(t);if(t.e()||null==this.k)return null;var e=J(t);return t=D(t),this.k.contains(e)?this.k.get(e).find(t):null},mc.prototype.O=function(t){null!==this.k&&pe(this.k,function(e,n){t(e,n)})};var $e=/[\[\].#$\/\u0000-\u001F\u007F]/,af=/[\[\].#$\u0000-\u001F\u007F]/;V.prototype.cancel=function(t){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,t,!0);var e=new hb;return this.ta.xd(this.qa,ib(e,t)),e.ra},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(t){x("Firebase.onDisconnect().remove",0,1,arguments.length),mf("Firebase.onDisconnect().remove",this.qa),A("Firebase.onDisconnect().remove",1,t,!0);var e=new hb;return nf(this.ta,this.qa,null,ib(e,t)),e.ra},V.prototype.remove=V.prototype.remove,V.prototype.set=function(t,e){x("Firebase.onDisconnect().set",1,2,arguments.length),mf("Firebase.onDisconnect().set",this.qa),df("Firebase.onDisconnect().set",t,this.qa,!1),A("Firebase.onDisconnect().set",2,e,!0);var n=new hb;return nf(this.ta,this.qa,t,ib(n,e)),n.ra},V.prototype.set=V.prototype.set,V.prototype.Jb=function(t,e,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),mf("Firebase.onDisconnect().setWithPriority",this.qa),df("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),hf("Firebase.onDisconnect().setWithPriority",2,e),A("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new hb;return of(this.ta,this.qa,t,e,ib(r,n)),r.ra},V.prototype.setWithPriority=V.prototype.Jb,V.prototype.update=function(t,e){if(x("Firebase.onDisconnect().update",1,2,arguments.length),mf("Firebase.onDisconnect().update",this.qa),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return gf("Firebase.onDisconnect().update",t,this.qa),A("Firebase.onDisconnect().update",2,e,!0),n=new hb,pf(this.ta,this.qa,t,ib(n,e)),n.ra},V.prototype.update=V.prototype.update,qf.prototype.Ee=function(t,e){var n;n=this.Dc[t]||[];var r=n.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].He.apply(n[r].Ma,Array.prototype.slice.call(arguments,1))},qf.prototype.gc=function(t,e,n){rf(this,t),this.Dc[t]=this.Dc[t]||[],this.Dc[t].push({He:e,Ma:n}),(t=this.Ue(t))&&e.apply(n,t)},qf.prototype.Ic=function(t,e,n){rf(this,t),t=this.Dc[t]||[];for(var r=0;r<t.length;r++)if(t[r].He===e&&(!n||n===t[r].Ma)){t.splice(r,1);break}},la(sf,qf),sf.prototype.Ue=function(t){return H("online"===t,"Unknown event type: "+t),[this.hc]},ca(sf),la(tf,qf),tf.prototype.Ue=function(t){return H("visible"===t,"Unknown event type: "+t),[this.Mb]},ca(tf);var uf=function(){var t=0,e=[];return function(n){var r=n===t;t=n;for(var i=Array(8),o=7;0<=o;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(H(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;0<=o&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return H(20===n.length,"nextPushId: Length should be 20."),n}}();g=vf.prototype,g.Oa=function(t,e){return new vf(this.La,this.ba.Oa(t,e,this.La).X(null,null,!1,null,null))},g.remove=function(t){return new vf(this.La,this.ba.remove(t,this.La).X(null,null,!1,null,null))},g.get=function(t){for(var e,n=this.ba;!n.e();){if(e=this.La(t,n.key),0===e)return n.value;0>e?n=n.left:0<e&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(t){return this.ba.ha(t)},g.Wb=function(t){return new yf(this.ba,null,this.La,!1,t)},g.Xb=function(t,e){return new yf(this.ba,t,this.La,!1,e)},g.Zb=function(t,e){return new yf(this.ba,t,this.La,!0,e)},g.We=function(t){return new yf(this.ba,null,this.La,!0,t)},g=Af.prototype,g.X=function(t,e,n,r,i){return new Af(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(t){return this.left.ha(t)||t(this.key,this.value)||this.right.ha(t)},g.Gc=function(){return Bf(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=0>r?i.X(null,null,null,i.left.Oa(t,e,n),null):0===r?i.X(null,e,null,null,null):i.X(null,null,null,null,i.right.Oa(t,e,n)),Cf(i)},g.remove=function(t,e){var n,r;if(n=this,0>e(t,n.key))n.left.e()||n.left.ea()||n.left.left.ea()||(n=Ef(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.ea()&&(n=Ff(n)),n.right.e()||n.right.ea()||n.right.left.ea()||(n=Gf(n),n.left.left.ea()&&(n=Ff(n),n=Gf(n))),0===e(t,n.key)){if(n.right.e())return wf;r=Bf(n.right),n=n.X(r.key,r.value,null,null,Df(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return Cf(n)},g.ea=function(){return this.color},g=If.prototype,g.X=function(){return this},g.Oa=function(t,e){return new Af(t,e,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var wf=new If;g=P.prototype,g.J=function(){return!1},g.C=function(){return this.aa||G},g.fa=function(t){return this.k.e()?this:new P(this.k,t,this.yb)},g.Q=function(t){return".priority"===t?this.C():(t=this.k.get(t),null===t?G:t)},g.P=function(t){var e=J(t);return null===e?this:this.Q(e).P(D(t))},g.Da=function(t){return null!==this.k.get(t)},g.T=function(t,e){if(H(e,"We should always be passing snapshot nodes"),".priority"===t)return this.fa(e);var n,r,i=new K(t,e);return e.e()?(n=this.k.remove(t),i=me(this.yb,i,this.k)):(n=this.k.Oa(t,e),i=ke(this.yb,i,this.k)),r=n.e()?G:this.aa,new P(n,r,i)},g.F=function(t,e){var n=J(t);if(null===n)return e;H(".priority"!==J(t)||1===Ad(t),".priority must be the last token in a path");var r=this.Q(n).F(D(t),e);return this.T(n,r)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var Jf=/^(0|[1-9]\d*)$/;g=P.prototype,g.H=function(t){if(this.e())return null;var e={},n=0,r=0,i=!0;if(this.O(N,function(o,s){e[o]=s.H(t),n++,i&&Jf.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&r<2*n){var o,s=[];for(o in e)s[o]=e[o];return s}return t&&!this.C().e()&&(e[".priority"]=this.C().H()),e},g.hash=function(){if(null===this.Db){var t="";this.C().e()||(t+="priority:"+Ud(this.C().H())+":"),this.O(N,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.Db=""===t?"":uc(t)}return this.Db},g.Ve=function(t,e,n){return(n=Kf(this,n))?(t=xf(n,new K(t,e)))?t.name:null:xf(this.k,t)},g.O=function(t,e){var n=Kf(this,t);return n?n.ha(function(t){return e(t.name,t.R)}):this.k.ha(e)},g.Wb=function(t){return this.Xb(t.Hc(),t)},g.Xb=function(t,e){var n=Kf(this,e);if(n)return n.Xb(t,function(t){return t});for(var n=this.k.Xb(t.name,jc),r=zf(n);null!=r&&0>e.compare(r,t);)R(n),r=zf(n);return n},g.We=function(t){return this.Zb(t.Fc(),t)},g.Zb=function(t,e){var n=Kf(this,e);if(n)return n.Zb(t,function(t){return t});for(var n=this.k.Zb(t.name,jc),r=zf(n);null!=r&&0<e.compare(r,t);)R(n),r=zf(n);return n},g.sc=function(t){return this.e()?t.e()?0:-1:t.J()||t.e()?1:t===Zd?-1:0},g.nb=function(t){if(t===Fd||va(this.yb.cc,t.toString()))return this;var e=this.yb,n=this.k;H(t!==Fd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.Wb(jc),o=R(n);o;)i=i||t.xc(o.R),r.push(o),o=R(n);return r=i?le(r,Pd(t)):Wd,i=t.toString(),n=za(e.cc),n[i]=t,t=za(e.od),t[i]=r,new P(this.k,this.aa,new je(t,n))},g.yc=function(t){return t===Fd||va(this.yb.cc,t.toString())},g.Z=function(t){if(t===this)return!0;if(t.J())return!1;if(this.C().Z(t.C())&&this.k.count()===t.k.count()){var e=this.Wb(N);t=t.Wb(N);for(var n=R(e),r=R(t);n&&r;){if(n.name!==r.name||!n.R.Z(r.R))return!1;n=R(e),r=R(t)}return null===n&&null===r}return!1},g.toString=function(){return B(this.H(!0))};var Lf=Math.log(2),G=new P(new vf(ic),null,ne);la(Of,P),g=Of.prototype,g.sc=function(t){return t===this?0:1},g.Z=function(t){return t===this},g.C=function(){return this},g.Q=function(){return G},g.e=function(){return!1};var Zd=new Of,Xd=new K("[MIN_NAME]",G),ce=new K("[MAX_NAME]",Zd);W.prototype.H=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},W.prototype.val=W.prototype.H,W.prototype.Qe=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},W.prototype.exportVal=W.prototype.Qe,W.prototype.Lf=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.Lf,W.prototype.n=function(t){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),lf("Firebase.DataSnapshot.child",t);var e=new L(t),n=this.V.n(e);return new W(this.A.P(e),n,N)},W.prototype.child=W.prototype.n,W.prototype.Da=function(t){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),lf("Firebase.DataSnapshot.hasChild",t);var e=new L(t);return!this.A.P(e).e()},W.prototype.hasChild=W.prototype.Da,W.prototype.C=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(t){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,t,!1),this.A.J())return!1;var e=this;return!!this.A.O(this.g,function(n,r){return t(new W(r,e.V.n(n),N))})},W.prototype.forEach=W.prototype.forEach,W.prototype.kd=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},W.prototype.hasChildren=W.prototype.kd,W.prototype.getKey=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},Lc(W.prototype,"key",W.prototype.getKey),W.prototype.Eb=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},W.prototype.numChildren=W.prototype.Eb,W.prototype.wb=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},Lc(W.prototype,"ref",W.prototype.wb),yd.prototype.w=function(){return this.Ld},g=Pf.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(t){var e=ac(this.Ka);return e&&(S(this.V.m)||!t.e()&&!e.Q(J(t)).e())?e.P(t):null},g.e=function(){return 0===this.Za.length},g.Nb=function(t){this.Za.push(t)},g.kb=function(t,e){var n=[];if(e){H(null==t,"A cancel should cancel all event registrations.");var r=this.V.path;Ja(this.Za,function(t){(t=t.Le(e,r))&&n.push(t)})}if(t){for(var i=[],o=0;o<this.Za.length;++o){var s=this.Za[o];if(s.matches(t)){if(t.Xe()){i=i.concat(this.Za.slice(o+1));break}}else i.push(s)}this.Za=i}else this.Za=[];return n},g.eb=function(t,e,n){t.type===Wc&&null!==t.source.Hb&&(H(ac(this.Ka),"We should always have a full cache before handling merges"),H(zd(this.Ka),"Missing event cache, even though we have a server cache"));var r=this.Ka;return t=this.hf.eb(r,t,e,n),e=this.hf,n=t.Sd,H(n.N.j().yc(e.U.g),"Event snap not indexed"),H(n.w().j().yc(e.U.g),"Server snap not indexed"),H(dc(t.Sd.w())||!dc(r.w()),"Once a server snap is complete, it should never go back"),this.Ka=t.Sd,Rf(this,t.Df,t.Sd.N.j(),null)},g=Tf.prototype,g.nf=function(t){return"value"===t},g.createEvent=function(t,e){var n=e.m.g;return new Ub("value",this,new W(t.Ja,e.wb(),n))},g.Tb=function(t){var e=this.tb;if("cancel"===t.ee()){H(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var r=this.Pb;return function(){r.call(e,t.Md)}},g.Le=function(t,e){return this.rb?new Vb(this,t,e):null},g.matches=function(t){return t instanceof Tf&&(!t.Pb||!this.Pb||t.Pb===this.Pb&&t.tb===this.tb)},g.Xe=function(){return null!==this.Pb},g=Uf.prototype,g.nf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ga},g.Le=function(t,e){return this.rb?new Vb(this,t,e):null},g.createEvent=function(t,e){H(null!=t.Xa,"Child events should have a childName.");var n=e.wb().n(t.Xa);return new Ub(t.type,this,new W(t.Ja,n,e.m.g),t.Dd)},g.Tb=function(t){var e=this.tb;if("cancel"===t.ee()){H(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(e,t.error)}}var r=this.ga[t.hd];return function(){r.call(e,t.Md,t.Dd)}},g.matches=function(t){if(t instanceof Uf){if(!this.ga||!t.ga)return!0;if(this.tb===t.tb){var e=ra(t.ga);if(e===ra(this.ga)){if(1===e){var e=sa(t.ga),n=sa(this.ga);return!(n!==e||t.ga[e]&&this.ga[n]&&t.ga[e]!==this.ga[n])}return qa(this.ga,function(e,n){return t.ga[n]===e})}}}return!1},g.Xe=function(){return null!==this.ga},g=X.prototype,g.wb=function(){return x("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(t,e,n,r){x("Query.on",2,4,arguments.length),jf("Query.on",t,!1),A("Query.on",2,e,!1);var i=Yf("Query.on",n,r);if("value"===t)Zf(this.u,this,new Tf(e,i.cancel||null,i.Ma||null));else{
var o={};o[t]=e,Zf(this.u,this,new Uf(o,i.cancel,i.Ma))}return e},g.Ic=function(t,e,n){x("Query.off",0,3,arguments.length),jf("Query.off",t,!0),A("Query.off",2,e,!0),eb("Query.off",3,n);var r=null,i=null;"value"===t?r=new Tf(e||null,null,n||null):t&&(e&&(i={},i[t]=e),r=new Uf(i,null,n||null)),i=this.u,r=".info"===J(this.path)?i.pd.kb(this,r):i.K.kb(this,r),Qb(i.ca,this.path,r)},g.$f=function(t,e){function n(a){o&&(o=!1,i.Ic(t,n),e&&e.call(r.Ma,a),s.resolve(a))}x("Query.once",1,4,arguments.length),jf("Query.once",t,!1),A("Query.once",2,e,!0);var r=Yf("Query.once",arguments[2],arguments[3]),i=this,o=!0,s=new hb;return jb(s.ra),this.gc(t,n,function(e){i.Ic(t,n),r.cancel&&r.cancel.call(r.Ma,e),s.reject(e)}),s.ra},g.le=function(t){if(x("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.le(t),this.Nc)},g.me=function(t){if(x("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.me(t),this.Nc)},g.ag=function(t){if(x("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');lf("Query.orderByChild",t),Xf(this,"Query.orderByChild");var e=new L(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new Yd(e),e=he(this.m,e),Vf(e),new X(this.u,this.path,e,!0)},g.bg=function(){x("Query.orderByKey",0,0,arguments.length),Xf(this,"Query.orderByKey");var t=he(this.m,Fd);return Vf(t),new X(this.u,this.path,t,!0)},g.cg=function(){x("Query.orderByPriority",0,0,arguments.length),Xf(this,"Query.orderByPriority");var t=he(this.m,N);return Vf(t),new X(this.u,this.path,t,!0)},g.dg=function(){x("Query.orderByValue",0,0,arguments.length),Xf(this,"Query.orderByValue");var t=he(this.m,de);return Vf(t),new X(this.u,this.path,t,!0)},g.Nd=function(t,e){x("Query.startAt",0,2,arguments.length),df("Query.startAt",t,this.path,!0),kf("Query.startAt",e);var r=this.m.Nd(t,e);if(Wf(r),Vf(r),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new X(this.u,this.path,r,this.Nc)},g.gd=function(t,e){x("Query.endAt",0,2,arguments.length),df("Query.endAt",t,this.path,!0),kf("Query.endAt",e);var n=this.m.gd(t,e);if(Wf(n),Vf(n),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,n,this.Nc)},g.If=function(t,e){if(x("Query.equalTo",1,2,arguments.length),df("Query.equalTo",t,this.path,!1),kf("Query.equalTo",e),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(t,e).gd(t,e)},g.toString=function(){x("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Y;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return this.u.toString()+(e||"/")},g.ja=function(){var t=Gc(ie(this.m));return"{}"===t?"default":t},g.isEqual=function(t){if(x("Query.isEqual",1,1,arguments.length),!(t instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.u===t.u,n=this.path.Z(t.path),r=this.ja()===t.ja();return e&&n&&r},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.le,X.prototype.limitToLast=X.prototype.me,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,Lc(X.prototype,"ref",X.prototype.wb);var ag=new vf(function(t,e){return t===e?0:t<e?-1:1});g=$f.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(t){if(t.e())return this;var e=this.children.get(J(t));return null!==e?e.subtree(D(t)):Q},g.set=function(t,e){if(t.e())return new $f(e,this.children);var n=J(t),r=(this.children.get(n)||Q).set(D(t),e),n=this.children.Oa(n,r);return new $f(this.value,n)},g.remove=function(t){if(t.e())return this.children.e()?Q:new $f(null,this.children);var e=J(t),n=this.children.get(e);return n?(t=n.remove(D(t)),e=t.e()?this.children.remove(e):this.children.Oa(e,t),null===this.value&&e.e()?Q:new $f(this.value,e)):this},g.get=function(t){if(t.e())return this.value;var e=this.children.get(J(t));return e?e.get(D(t)):null};var Q=new $f(null);$f.prototype.toString=function(){var t={};return Cd(this,function(e,n){t[e.toString()]=n.toString()}),B(t)},mg.prototype.Mc=function(t){return this.path.e()?null!=this.Ob.value?(H(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Ob.subtree(new L(t)),new mg(C,t,this.Id)):(H(J(this.path)===t,"operationForChild called for unrelated child."),new mg(D(this.path),this.Ob,this.Id))},mg.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"};var Bb=0,Wc=1,ud=2,Db=3,ng=new og(!0,!1,null,!1),pg=new og(!1,!0,null,!1);og.prototype.toString=function(){return this.ce?"user":this.Ce?"server(queryID="+this.Hb+")":"server"};var rg=new qg(new $f(null));qg.prototype.Ed=function(t){return t.e()?rg:(t=Ed(this.W,t,Q),new qg(t))},qg.prototype.e=function(){return this.W.e()},qg.prototype.apply=function(t){return xg(C,this.W,t)},g=yg.prototype,g.e=function(){return ya(this.za)},g.eb=function(t,e,n){var i=t.source.Hb;if(null!==i)return i=w(this.za,i),H(null!=i,"SyncTree gave us an op for an invalid query."),i.eb(t,e,n);var o=[];return r(this.za,function(r){o=o.concat(r.eb(t,e,n))}),o},g.Nb=function(t,e,n,r,i){var o=t.ja(),s=w(this.za,o);if(!s){var s=n.Aa(i?r:null),a=!1;s?a=!0:(s=r instanceof P?n.rc(r):G,a=!1),s=new Pf(t,new yd(new $b(s,a,!1),new $b(r,i,!1))),this.za[o]=s}return s.Nb(e),Sf(s,e)},g.kb=function(t,e,n){var i=t.ja(),o=[],s=[],a=null!=zg(this);if("default"===i){var u=this;r(this.za,function(t,r){s=s.concat(t.kb(e,n)),t.e()&&(delete u.za[r],S(t.V.m)||o.push(t.V))})}else{var c=w(this.za,i);c&&(s=s.concat(c.kb(e,n)),c.e()&&(delete this.za[i],S(c.V.m)||o.push(c.V)))}return a&&null==zg(this)&&o.push(new U(t.u,t.path)),{hg:o,Kf:s}},g.hb=function(t){var e=null;return r(this.za,function(n){e=e||n.hb(t)}),e},g=Cg.prototype,g.Ed=function(t){var e=Pa(this.la,function(e){return e.Zc===t});H(0<=e,"removeWrite called with nonexistent writeId.");var n=this.la[e];this.la.splice(e,1);for(var i=n.visible,o=!1,s=this.la.length-1;i&&0<=s;){var a=this.la[s];a.visible&&(s>=e&&Eg(a,n.path)?i=!1:n.path.contains(a.path)&&(o=!0)),s--}if(i){if(o)this.S=Fg(this.la,Gg,C),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(n.Ga)this.S=this.S.Ed(n.path);else{var u=this;r(n.children,function(t,e){u.S=u.S.Ed(n.path.n(e))})}return!0}return!1},g.Aa=function(t,e,n,r){if(n||r){var i=wg(this.S,t);return!r&&i.e()?e:r||null!=e||null!=ug(i,C)?(i=Fg(this.la,function(e){return(e.visible||r)&&(!n||!(0<=Ia(n,e.Zc)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||G,i.apply(e)):null}return i=ug(this.S,t),null!=i?i:(i=wg(this.S,t),i.e()?e:null!=e||null!=ug(i,C)?(e=e||G,i.apply(e)):null)},g.rc=function(t,e){var n=G,r=ug(this.S,t);if(r)r.J()||r.O(N,function(t,e){n=n.T(t,e)});else if(e){var i=wg(this.S,t);e.O(N,function(t,e){var r=wg(i,new L(t)).apply(e);n=n.T(t,r)}),Ja(vg(i),function(t){n=n.T(t.name,t.R)})}else i=wg(this.S,t),Ja(vg(i),function(t){n=n.T(t.name,t.R)});return n},g.ad=function(t,e,n,r){return H(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.n(e),null!=ug(this.S,t)?null:(t=wg(this.S,t),t.e()?r.P(e):t.apply(r.P(e)))},g.qc=function(t,e,n){t=t.n(e);var r=ug(this.S,t);return null!=r?r:Zb(n,e)?wg(this.S,t).apply(n.j().Q(e)):null},g.lc=function(t){return ug(this.S,t)},g.Wd=function(t,e,n,r,i,o){var s;if(t=wg(this.S,t),s=ug(t,C),null==s){if(null==e)return[];s=t.apply(e)}if(s=s.nb(o),s.e()||s.J())return[];for(e=[],t=Pd(o),i=i?s.Zb(n,o):s.Xb(n,o),o=R(i);o&&e.length<r;)0!==t(o,n)&&e.push(o),o=R(i);return e},g=Hg.prototype,g.Aa=function(t,e,n){return this.W.Aa(this.Lb,t,e,n)},g.rc=function(t){return this.W.rc(this.Lb,t)},g.ad=function(t,e,n){return this.W.ad(this.Lb,t,e,n)},g.lc=function(t){return this.W.lc(this.Lb.n(t))},g.Wd=function(t,e,n,r,i){return this.W.Wd(this.Lb,t,e,n,r,i)},g.qc=function(t,e){return this.W.qc(this.Lb,t,e)},g.n=function(t){return new Hg(this.Lb.n(t),this.W)},g=Jg.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Mg(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(t){var e=this;r(this.A.children,function(n,r){t(new Jg(r,e,n))})},g.path=function(){return new L(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc};var Qg=0,Sg=0;g=Pg.prototype,g.ua=function(t,e,n){var r=++this.ig;t={r:r,a:t,b:e},this.f(B(t)),H(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(t),n&&(this.Gd[r]=n)},g.$e=function(t,e,n,r){var i=t.ja(),o=t.path.toString();this.f("Listen called for "+o+" "+i),this.$[o]=this.$[o]||{},H(Sc(t.m)||!S(t.m),"listen() called for non-default but complete query"),H(!this.$[o][i],"listen() called twice for same path/queryId."),t={G:r,ld:e,eg:t,tag:n},this.$[o][i]=t,this.ma&&Tg(this,t)},g.kf=function(t){this.ob=t,this.f("Auth token refreshed"),this.ob?Vg(this):this.ma&&this.ua("unauth",{},function(){}),(t&&40===t.length||Pc(t))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.uf=function(t,e){var n=t.path.toString(),r=t.ja();if(this.f("Unlisten called for "+n+" "+r),H(Sc(t.m)||!S(t.m),"unlisten() called for non-default but complete query"),Ug(this,n,r)&&this.ma){var i=ie(t.m);this.f("Unlisten on "+n+" for "+r),n={p:n},e&&(n.q=i,n.t=e),this.ua("n",n)}},g.pe=function(t,e,n){this.ma?Xg(this,"o",t,e,n):this.Kc.push({ue:t,action:"o",data:e,G:n})},g.cf=function(t,e,n){this.ma?Xg(this,"om",t,e,n):this.Kc.push({ue:t,action:"om",data:e,G:n})},g.xd=function(t,e){this.ma?Xg(this,"oc",t,null,e):this.Kc.push({ue:t,action:"oc",data:null,G:e})},g.put=function(t,e,n,r){Yg(this,"p",t,e,n,r)},g.af=function(t,e,n,r){Yg(this,"m",t,e,n,r)},g.we=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.ua("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},g.wd=function(t){if("r"in t){this.f("from server: "+B(t));var e=t.r,n=this.Gd[e];n&&(delete this.Gd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,t=t.b,this.f("handleServerMessage",e,t),"d"===e?this.Gb(t.p,t.d,!1,t.t):"m"===e?this.Gb(t.p,t.d,!0,t.t):"c"===e?$g(this,t.p,t.q):"ac"===e?Wg(this,t.s,t.d):"sd"===e?this.xe?this.xe(t):"msg"in t&&"undefined"!=typeof console&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: ")):zc("Unrecognized action received from server: "+B(e)+"\nAre you using the latest client?"))}},g.Lc=function(t,e){if(this.f("connection ready"),this.ma=!0,this.Ac=(new Date).getTime(),this.se({serverTimeOffset:t-(new Date).getTime()}),this.Cb=e,this.Re){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,qb()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.we(n)}ah(this),this.Re=!1,this.Jc(!0)},g.Zf=function(t){t&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1e3,this.Fa||Rg(this,0)),this.Mb=t},g.Yf=function(t){t?(this.f("Browser went online."),this.Sa=1e3,this.Fa||Rg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.mf&&e.fg&&(e.G&&e.G("disconnect"),delete this.pa[t],this.Oc--)}0===this.Oc&&(this.pa=[]),this.Gd={},ch(this)&&(this.Mb?this.Ac&&(3e4<(new Date).getTime()-this.Ac&&(this.Sa=1e3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.ke=(new Date).getTime()),t=Math.max(0,this.Sa-((new Date).getTime()-this.ke)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Rg(this,t),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(t){E("Interrupting connection for reason: "+t),this.qd[t]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(t){E("Resuming connection for reason: "+t),delete this.qd[t],ya(this.qd)&&(this.Sa=1e3,this.Fa||Rg(this,0))};var Y={Mf:function(){re=dd=!0}};Y.forceLongPolling=Y.Mf,Y.Nf=function(){se=!0},Y.forceWebSockets=Y.Nf,Y.Tf=function(){return cd.isAvailable()},Y.isWebSocketsAvailable=Y.Tf,Y.lg=function(t,e){t.u.Ra.xe=e},Y.setSecurityDebugCallback=Y.lg,Y.ze=function(t,e){t.u.ze(e)},Y.stats=Y.ze,Y.Ae=function(t,e){t.u.Ae(e)},Y.statsIncrementCounter=Y.Ae,Y.fd=function(t){return t.u.fd},Y.dataUpdateCount=Y.fd,Y.Sf=function(t,e){t.u.he=e},Y.interceptServerData=Y.Sf,dh.prototype.Nb=function(t,e){var n=t.path,r=null,i=!1;ig(this.wa,n,function(t,e){var o=T(t,n);r=r||e.hb(o),i=i||null!=zg(e)});var o=this.wa.get(n);o?(i=i||null!=zg(o),r=r||o.hb(C)):(o=new yg,this.wa=this.wa.set(n,o));var s;null!=r?s=!0:(s=!1,r=G,lg(this.wa.subtree(n),function(t,e){var n=e.hb(C);n&&(r=r.T(t,n))}));var a=null!=Bg(o,t);if(!a&&!S(t.m)){var u=oh(t);H(!(u in this.ic),"View does not exist, but we have a tag");var c=ph++;this.ic[u]=c,this.Be["_"+c]=u}return s=o.Nb(t,e,new Hg(n,this.jb),r,s),a||i||(o=Bg(o,t),s=s.concat(qh(this,t,o))),s},dh.prototype.kb=function(t,e,n){var r=t.path,i=this.wa.get(r),o=[];if(i&&("default"===t.ja()||null!=Bg(i,t))){o=i.kb(t,e,n),i.e()&&(this.wa=this.wa.remove(r)),i=o.hg,o=o.Kf,e=-1!==Pa(i,function(t){return S(t.m)});var s=gg(this.wa,r,function(t,e){return null!=zg(e)});if(e&&!s&&(r=this.wa.subtree(r),!r.e()))for(var r=rh(r),a=0;a<r.length;++a){var u=r[a],c=u.V,u=sh(this,u);this.Cc.ye(th(c),uh(this,c),u.ld,u.G)}if(!s&&0<i.length&&!n)if(e)this.Cc.Od(th(t),null);else{var l=this;Ja(i,function(t){t.ja();var e=l.ic[oh(t)];l.Cc.Od(th(t),e)})}vh(this,i)}return o},dh.prototype.Aa=function(t,e){var n=this.jb,r=gg(this.wa,t,function(e,n){var r=T(e,t);if(r=n.hb(r))return r});return n.Aa(t,r,e,!0)};var ph=1;g=Te.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.ne},g.Gb=function(t,e,n,r){this.fd++;var i=new L(t);e=this.he?this.he(t,e):e,t=[],r?n?(e=pa(e,function(t){return M(t)}),t=nh(this.K,i,e,r)):(e=M(e),t=jh(this.K,i,e,r)):n?(r=pa(e,function(t){return M(t)}),t=ih(this.K,i,r)):(r=M(e),t=fh(this.K,new Ab(pg,i,r))),r=i,0<t.length&&(r=Bh(this,i)),Sb(this.ca,r,t)},g.Jc=function(t){yh(this,"connected",t),!1===t&&Ch(this)},g.se=function(t){var e=this;Ic(t,function(t,n){yh(e,n,t)})},g.Jb=function(t,e,n,r){this.f("set",{path:t.toString(),value:e,ug:n});var i=Ah(this);e=M(e,n);var i=pc(e,i),o=this.vd++,i=eh(this.K,t,i,o,!0);Ob(this.ca,i);var s=this;this.va.put(t.toString(),e.H(!0),function(e,n){var i="ok"===e;i||O("set at "+t+" failed: "+e),i=hh(s.K,o,!i),Sb(s.ca,t,i),Dh(r,e,n)}),i=Eh(this,t),Bh(this,i),Sb(this.ca,i,[])},g.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,o=Ah(this),s={};if(r(e,function(t,e){i=!1;var n=M(t);s[e]=pc(n,o)}),i)E("update() called with empty data.  Don't do anything."),Dh(n,"ok");else{var a=this.vd++,u=gh(this.K,t,s,a);Ob(this.ca,u);var c=this;this.va.af(t.toString(),e,function(e,r){var i="ok"===e;i||O("update at "+t+" failed: "+e);var i=hh(c.K,a,!i),o=t;0<i.length&&(o=Bh(c,t)),Sb(c.ca,o,i),Dh(n,e,r)}),r(e,function(e,n){var r=Eh(c,t.n(n));Bh(c,r)}),Sb(this.ca,t,[])}},g.xd=function(t,e){var n=this;this.va.xd(t.toString(),function(r,i){"ok"===r&&Ze(n.ia,t),Dh(e,r,i)})},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.ze=function(t){if("undefined"!=typeof console){t?(this.Vc||(this.Vc=new Mb(this.Va)),t=this.Vc.get()):t=this.Va.get();var e,n=Ma(ua(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var r=t[e],i=e.length;i<n+2;i++)e+=" ";console.log(e+r)}}},g.Ae=function(t){Lb(this.Va,t),this.og.rf[t]=!0},g.f=function(t){var e="";this.Ra&&(e=this.Ra.id+":"),E(e,arguments)},Ye.prototype.ab=function(){for(var t in this.lb)this.lb[t].ab()},Ye.prototype.kc=function(){for(var t in this.lb)this.lb[t].kc()},Ye.prototype.ae=function(t){this.wf=t},ca(Ye),Ye.prototype.interrupt=Ye.prototype.ab,Ye.prototype.resume=Ye.prototype.kc;var Z={};if(Z.nc=Pg,Z.DataConnection=Z.nc,Pg.prototype.ng=function(t,e){this.ua("q",{p:t},e)},Z.nc.prototype.simpleListen=Z.nc.prototype.ng,Pg.prototype.Hf=function(t,e){this.ua("echo",{d:t},e)},Z.nc.prototype.echo=Z.nc.prototype.Hf,Pg.prototype.interrupt=Pg.prototype.ab,Z.zf=Ce,Z.RealTimeConnection=Z.zf,Ce.prototype.sendRequest=Ce.prototype.ua,Ce.prototype.close=Ce.prototype.close,Z.Rf=function(t){var e=Pg.prototype.put;return Pg.prototype.put=function(r,i,o,s){n(s)&&(s=t()),e.call(this,r,i,o,s)},function(){Pg.prototype.put=e}},Z.hijackHash=Z.Rf,Z.yf=Hb,Z.ConnectionTarget=Z.yf,Z.ja=function(t){return t.ja()},Z.queryIdentifier=Z.ja,Z.Uf=function(t){return t.u.Ra.$},Z.listens=Z.Uf,Z.ae=function(t){Ye.Vb().ae(t)},Z.forceRestClient=Z.ae,Z.Context=Ye,la(U,X),g=U.prototype,g.getKey=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:Bd(this.path)},g.n=function(t){if(x("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof L))if(null===J(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),lf("Firebase.child",e)}else lf("Firebase.child",t);return new U(this.u,this.path.n(t))},g.getParent=function(){x("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.u,t)},g.Of=function(){x("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},g.Gf=function(){return this.u.Ya},g.set=function(t,e){x("Firebase.set",1,2,arguments.length),mf("Firebase.set",this.path),df("Firebase.set",t,this.path,!1),A("Firebase.set",2,e,!0);var n=new hb;return this.u.Jb(this.path,t,null,ib(n,e)),n.ra},g.update=function(t,e){if(x("Firebase.update",1,2,arguments.length),mf("Firebase.update",this.path),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return gf("Firebase.update",t,this.path),A("Firebase.update",2,e,!0),n=new hb,this.u.update(this.path,t,ib(n,e)),n.ra},g.Jb=function(t,e,n){if(x("Firebase.setWithPriority",2,3,arguments.length),mf("Firebase.setWithPriority",this.path),df("Firebase.setWithPriority",t,this.path,!1),hf("Firebase.setWithPriority",2,e),A("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new hb;return this.u.Jb(this.path,t,e,ib(r,n)),r.ra},g.remove=function(t){return x("Firebase.remove",0,1,arguments.length),mf("Firebase.remove",this.path),A("Firebase.remove",1,t,!0),this.set(null,t)},g.transaction=function(t,e,r){if(x("Firebase.transaction",1,3,arguments.length),mf("Firebase.transaction",this.path),A("Firebase.transaction",1,t,!1),A("Firebase.transaction",2,e,!0),n(r)&&"boolean"!=typeof r)throw Error(y("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"==typeof r&&(r=!0);var i=new hb;return ha(e)&&jb(i.ra),Fh(this.u,this.path,t,function(t,n,r){t?i.reject(t):i.resolve(new pb(n,r)),ha(e)&&e(t,n,r)},r),i.ra},g.kg=function(t,e){x("Firebase.setPriority",1,2,arguments.length),mf("Firebase.setPriority",this.path),hf("Firebase.setPriority",1,t),A("Firebase.setPriority",2,e,!0);var n=new hb;return this.u.Jb(this.path.n(".priority"),t,null,ib(n,e)),n.ra},g.push=function(t,e){x("Firebase.push",0,2,arguments.length),mf("Firebase.push",this.path),df("Firebase.push",t,this.path,!0),A("Firebase.push",2,e,!0);var n=zh(this.u),r=uf(n),n=this.n(r);if(null!=t){var i=this,o=n.set(t,e).then(function(){return i.n(r)});n.then=q(o.then,o),n.catch=q(o.then,o,void 0),ha(e)&&jb(o)}return n},g.ib=function(){return mf("Firebase.onDisconnect",this.path),new V(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,Lc(U.prototype,"database",U.prototype.Gf),Lc(U.prototype,"key",U.prototype.getKey),Lc(U.prototype,"parent",U.prototype.getParent),Lc(U.prototype,"root",U.prototype.Of),"undefined"==typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(t){var e=Ye.Vb(),r=t.options.databaseURL;n(r)||Ac("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var i=Bc(r),r=i.jc;return Xe("Invalid Firebase Database URL",i),i.path.e()||Ac("Database URL must point to the root of a Firebase Database (not including a child path)."),(i=w(e.lb,t.name))&&Ac("FIREBASE INTERNAL ERROR: Database initialized multiple times."),i=new Te(r,e.wf,t),e.lb[t.name]=i,i.Ya},{Reference:U,Query:X,Database:Se,enableLogging:xc,INTERNAL:Y,TEST_ACCESS:Z,ServerValue:Ve})}catch(t){Ac("Failed to register the Firebase Database Service ("+t+")")}}()}).call(void 0!==typeof global?global:void 0!==typeof self?self:void 0!==typeof window?window:{}),module.exports=firebase.database}).call(exports,__webpack_require__(11))},function(t,e,n){(function(e){var r=n(14);(function(){/*! @license Firebase v3.6.8
    Build: 3.6.8-rc.1
    Terms: https://firebase.google.com/terms/ */
(function(){var t=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n;for(var r in e)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,r);i&&Object.defineProperty(t,r,i)}else t[r]=e[r]},e=this,n=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},i=function(t,e){function n(){}n.prototype=e.prototype,t.B=e.prototype,t.prototype=new n,t.u=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}},o={},s=(o["only-available-in-window"]="This method is available in a Window context.",o["only-available-in-sw"]="This method is available in a service worker context.",o["should-be-overriden"]="This method should be overriden by extended classes.",o["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",o["permission-default"]="The required permissions were not granted and dismissed instead.",o["permission-blocked"]="The required permissions were not granted and blocked instead.",o["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",o["notifications-blocked"]="Notifications have been blocked.",o["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",o["sw-registration-expected"]="A service worker registration was the expected input.",o["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",o["invalid-saved-token"]="Unable to access details of the saved token.",o["sw-reg-redundant"]="The service worker being used for push was made redundant.",o["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",o["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",o["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",o["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",o["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",o["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",o["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",o["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",o["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",o["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",o["failed-to-delete-token"]="Unable to delete the currently saved token.",o["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",o["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",o),a={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])},u=function(t,e){var n={};return n["firebase-messaging-msg-type"]=t,n["firebase-messaging-msg-data"]=e,n},c=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,c);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};i(c,Error);var l=function(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},h=function(t,e){e.unshift(t),c.call(this,l.apply(null,e)),e.shift()};i(h,c);var f=function(t,e,n){if(!t){var r="Assertion failed";if(e)var r=r+(": "+e),i=Array.prototype.slice.call(arguments,2);throw new h(""+r,i||[])}},p=null,d=function(t){t=new Uint8Array(t);var e=n(t);if(f("array"==e||"object"==e&&"number"==typeof t.length,"encodeByteArray takes an array as a parameter"),!p)for(p={},e=0;65>e;e++)p[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e);for(var e=p,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,o=(3&o)<<4|a>>4,a=(15&a)<<2|c>>6,c=63&c;u||(c=64,s||(a=64)),r.push(e[l],e[o],e[a],e[c])}return r.join("").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},v=new r.INTERNAL.ErrorFactory("messaging","Messaging",s),g=function(){this.a=null},y=function(t){return t.a?t.a:(t.a=new Promise(function(t,n){var r=e.indexedDB.open("fcm_token_details_db",1);r.onerror=function(t){n(t.target.error)},r.onsuccess=function(e){t(e.target.result)},r.onupgradeneeded=function(t){t=t.target.result.createObjectStore("fcm_token_object_Store",{keyPath:"swScope"}),t.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),t.createIndex("fcmToken","fcmToken",{unique:!0})}}),t.a)},m=function(t){t.a?t.a.then(function(e){e.close(),t.a=null}):Promise.resolve()},b=function(t,e){return y(t).then(function(t){return new Promise(function(n,r){var i=t.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").index("fcmToken").get(e);i.onerror=function(t){r(t.target.error)},i.onsuccess=function(t){n(t.target.result)}})})},w=function(t,e){return y(t).then(function(t){return new Promise(function(n,r){var i=[],o=t.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").openCursor();o.onerror=function(t){r(t.target.error)},o.onsuccess=function(t){(t=t.target.result)?(t.value.fcmSenderId===e&&i.push(t.value),t.continue()):n(i)}})})},x=function(t,e,n){var r=d(e.getKey("p256dh")),i=d(e.getKey("auth"));return t="authorized_entity="+t+"&"+("endpoint="+e.endpoint+"&")+("encryption_key="+r+"&")+("encryption_auth="+i),n&&(t+="&pushSet="+n),n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),fetch("https://fcm.googleapis.com/fcm/connect/subscribe",{method:"POST",headers:n,body:t}).then(function(t){return t.json()}).then(function(t){if(t.error)throw v.create("token-subscribe-failed",{message:t.error.message});if(!t.token)throw v.create("token-subscribe-no-token");if(!t.pushSet)throw v.create("token-subscribe-no-push-set");return{token:t.token,pushSet:t.pushSet}})},k=function(t,e,n,r,i,o){var s={swScope:n.scope,endpoint:r.endpoint,auth:d(r.getKey("auth")),p256dh:d(r.getKey("p256dh")),fcmToken:i,fcmPushSet:o,fcmSenderId:e};return y(t).then(function(t){return new Promise(function(e,n){var r=t.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").put(s);r.onerror=function(t){n(t.target.error)},r.onsuccess=function(){e()}})})};g.prototype.i=function(t,e){return e instanceof ServiceWorkerRegistration?"string"!=typeof t||0===t.length?Promise.reject(v.create("bad-sender-id")):w(this,t).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return e.scope===n.swScope&&t===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(t){if(t)return e.pushManager.getSubscription().catch(function(){throw v.create("get-subscription-failed")}).then(function(e){var n;if((n=e)&&(n=e.endpoint===t.endpoint&&d(e.getKey("auth"))===t.auth&&d(e.getKey("p256dh"))===t.p256dh),n)return t.fcmToken})}):Promise.reject(v.create("sw-registration-expected"))},g.prototype.getSavedToken=g.prototype.i,g.prototype.h=function(t,e){var n=this;return"string"!=typeof t||0===t.length?Promise.reject(v.create("bad-sender-id")):e instanceof ServiceWorkerRegistration?e.pushManager.getSubscription().then(function(t){return t?t:e.pushManager.subscribe(a)}).then(function(r){return x(t,r).then(function(i){return k(n,t,e,r,i.token,i.pushSet).then(function(){return i.token})})}):Promise.reject(v.create("sw-registration-expected"))},g.prototype.createToken=g.prototype.h,g.prototype.deleteToken=function(t){var e=this;return"string"!=typeof t||0===t.length?Promise.reject(v.create("invalid-delete-token")):b(this,t).then(function(t){if(!t)throw v.create("delete-token-not-found");return y(e).then(function(e){return new Promise(function(n,r){var i=e.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").delete(t.swScope);i.onerror=function(t){r(t.target.error)},i.onsuccess=function(e){0===e.target.result?r(v.create("failed-to-delete-token")):n(t)}})})})};var S=function(t){var e=this;if(this.a=new r.INTERNAL.ErrorFactory("messaging","Messaging",s),!t.options.messagingSenderId||"string"!=typeof t.options.messagingSenderId)throw this.a.create("bad-sender-id");this.l=t.options.messagingSenderId,this.c=new g,this.app=t,this.INTERNAL={},this.INTERNAL.delete=function(){return e.delete}};S.prototype.getToken=function(){var t=this,e=Notification.permission;return"granted"!==e?"denied"===e?Promise.reject(this.a.create("notifications-blocked")):Promise.resolve(null):this.f().then(function(e){return t.c.i(t.l,e).then(function(n){return n?n:t.c.h(t.l,e)})})},S.prototype.getToken=S.prototype.getToken,S.prototype.deleteToken=function(t){var e=this;return this.c.deleteToken(t).then(function(){return e.f()}).then(function(t){return t?t.pushManager.getSubscription():null}).then(function(t){if(t)return t.unsubscribe()})},S.prototype.deleteToken=S.prototype.deleteToken,S.prototype.f=function(){throw this.a.create("should-be-overriden")},S.prototype.requestPermission=function(){throw this.a.create("only-available-in-window")},S.prototype.useServiceWorker=function(){throw this.a.create("only-available-in-window")},S.prototype.useServiceWorker=S.prototype.useServiceWorker,S.prototype.onMessage=function(){throw this.a.create("only-available-in-window")},S.prototype.onMessage=S.prototype.onMessage,S.prototype.onTokenRefresh=function(){throw this.a.create("only-available-in-window")},S.prototype.onTokenRefresh=S.prototype.onTokenRefresh,S.prototype.setBackgroundMessageHandler=function(){throw this.a.create("only-available-in-sw")},S.prototype.setBackgroundMessageHandler=S.prototype.setBackgroundMessageHandler,S.prototype.delete=function(){m(this.c)};var C=self,A=function(t){S.call(this,t);var e=this;this.a=new r.INTERNAL.ErrorFactory("messaging","Messaging",s),C.addEventListener("push",function(t){return E(e,t)},!1),C.addEventListener("pushsubscriptionchange",function(t){return T(e,t)},!1),C.addEventListener("notificationclick",function(t){return O(e,t)},!1),this.b=null};t(A,S);var E=function(t,e){var n;try{n=e.data.json()}catch(t){return}var r=P().then(function(e){if(e){if(n.notification||t.b)return M(t,n)}else{if((e=n)&&"object"==typeof e.notification){var r=Object.assign({},e.notification),i={};r.data=(i.FCM_MSG=e,i),e=r}else e=void 0;if(e)return C.registration.showNotification(e.title||"",e);if(t.b)return t.b(n)}});e.waitUntil(r)},T=function(t,e){var n=t.getToken().then(function(e){if(!e)throw t.a.create("no-fcm-token-for-resubscribe");var n=t.c;return b(n,e).then(function(e){if(!e)throw t.a.create("invalid-saved-token");return C.registration.pushManager.subscribe(a).then(function(t){return x(e.w,t,e.v)}).catch(function(r){return n.deleteToken(e.A).then(function(){throw t.a.create("unable-to-resubscribe",{message:r})})})})});e.waitUntil(n)},O=function(t,e){if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var i=_(r).then(function(t){return t?t:C.clients.openWindow(r)}).then(function(e){if(e)return delete n.notification,R(t,e,u("notification-clicked",n))});e.waitUntil(i)}}};A.prototype.setBackgroundMessageHandler=function(t){if(t&&"function"!=typeof t)throw this.a.create("bg-handler-function-expected");this.b=t},A.prototype.setBackgroundMessageHandler=A.prototype.setBackgroundMessageHandler;var _=function(t){var e=new URL(t).href;return C.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){for(var n=null,r=0;r<t.length;r++)if(new URL(t[r].url).href===e){n=t[r];break}if(n)return n.focus(),n})},R=function(t,e,n){return new Promise(function(r,i){return e?(e.postMessage(n),void r()):i(t.a.create("no-window-client-to-msg"))})},P=function(){return C.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(t){return t.some(function(t){return"visible"===t.visibilityState})})},M=function(t,e){return C.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=u("push-msg-received",e);return Promise.all(n.map(function(e){return R(t,e,r)}))})};A.prototype.f=function(){return Promise.resolve(C.registration)};var I=function(t){S.call(this,t);var e=this;this.j=null,this.m=r.INTERNAL.createSubscribe(function(t){e.j=t}),this.s=null,this.o=r.INTERNAL.createSubscribe(function(t){e.s=t}),L(this)};t(I,S),I.prototype.getToken=function(){var t=this;return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")?N(this).then(function(){return S.prototype.getToken.call(t)}):Promise.reject(this.a.create("unsupported-browser"))},I.prototype.getToken=I.prototype.getToken;var N=function(t){if(t.g)return t.g;var e=document.querySelector('link[rel="manifest"]');return e?t.g=fetch(e.href).then(function(t){return t.json()}).catch(function(){return Promise.resolve()}).then(function(e){if(e&&e.gcm_sender_id&&"103953800507"!==e.gcm_sender_id)throw t.a.create("incorrect-gcm-sender-id")}):t.g=Promise.resolve(),t.g};I.prototype.requestPermission=function(){var t=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(e,n){var r=function(r){return"granted"===r?e():n("denied"===r?t.a.create("permission-blocked"):t.a.create("permission-default"))},i=Notification.requestPermission(function(t){i||r(t)});i&&i.then(r)})},I.prototype.requestPermission=I.prototype.requestPermission,I.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw this.a.create("sw-registration-expected");if("undefined"!=typeof this.b)throw this.a.create("use-sw-before-get-token");this.b=t},I.prototype.useServiceWorker=I.prototype.useServiceWorker,I.prototype.onMessage=function(t,e,n){return this.m(t,e,n)},I.prototype.onMessage=I.prototype.onMessage,I.prototype.onTokenRefresh=function(t,e,n){return this.o(t,e,n)},I.prototype.onTokenRefresh=I.prototype.onTokenRefresh;var j=function(t,e){var n=e.installing||e.waiting||e.active;return new Promise(function(r,i){if(n)if("activated"===n.state)r(e);else if("redundant"===n.state)i(t.a.create("sw-reg-redundant"));else{var o=function(){if("activated"===n.state)r(e);else{if("redundant"!==n.state)return;i(t.a.create("sw-reg-redundant"))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else i(t.a.create("no-sw-in-reg"))})};I.prototype.f=function(){var t=this;return this.b?j(this,this.b):(this.b=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw t.a.create("failed-serviceworker-registration",{browserErrorMessage:e.message})}).then(function(e){return j(t,e).then(function(){return t.b=e,e.update(),e})}))};var L=function(t){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data["firebase-messaging-msg-type"])switch(e=e.data,e["firebase-messaging-msg-type"]){case"push-msg-received":case"notification-clicked":t.j.next(e["firebase-messaging-msg-data"])}},!1)};if(!(r&&r.INTERNAL&&r.INTERNAL.registerService))throw Error("Cannot install Firebase Messaging - be sure to load firebase-app.js first.");r.INTERNAL.registerService("messaging",function(t){return self&&"ServiceWorkerGlobalScope"in self?new A(t):new I(t)},{Messaging:I})}).call(this)}).call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{}),t.exports=r.messaging}).call(e,n(11))},function(t,e,n){(function(e){var r=n(14);(function(){/*! @license Firebase v3.6.8
    Build: 3.6.8-rc.1
    Terms: https://firebase.google.com/terms/ */
(function(){for(var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this,o=["Number","MIN_SAFE_INTEGER"],s=0;s<o.length-1;s++){var a=o[s];a in i||(i[a]={}),i=i[a]}var u=o[o.length-1];-9007199254740991!=i[u]&&n(i,u,{configurable:!0,writable:!0,value:-9007199254740991});var c=this,l=function(t){return void 0!==t},h=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},f=function(t,e){return-1!==t.indexOf(e)},p=function(t,e,n){function r(){h||(h=!0,e.apply(null,arguments))}function i(e){u=setTimeout(function(){u=null,t(o,2===l)},e)}function o(t,e){if(!h)if(t)r.apply(null,arguments);else if(2===l||c)r.apply(null,arguments);else{64>a&&(a*=2);var n;1===l?(l=2,n=0):n=1e3*(a+Math.random()),i(n)}}function s(t){f||(f=!0,h||(null!==u?(t||(l=2),clearTimeout(u),i(0)):t||(l=1)))}var a=1,u=null,c=!1,l=0,h=!1,f=!1;return i(0),setTimeout(function(){c=!0,s(!0)},n),s},d="https://firebasestorage.googleapis.com",v=function(t,e){this.code="storage/"+t,this.message="Firebase Storage: "+e,this.serverResponse=null,this.name="FirebaseError"};!function(){function t(){}var e=Error;t.prototype=e.prototype,v.b=e.prototype,v.prototype=new t,v.a=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}();var g=function(){return new v("unknown","An unknown error occurred, please check the error payload for server response.")},y=function(){return new v("canceled","User canceled the upload/download.")},m=function(){return new v("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},b=function(t,e,n){return new v("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)},w=function(){return new v("app-deleted","The Firebase app was deleted.")},x=function(t,e){return new v("invalid-format","String does not match format '"+t+"': "+e)},k=function(t){throw new v("internal-error","Internal error: "+t)},S=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},C=function(t){var e={};return S(t,function(t,n){e[t]=n}),e},A=function(t,e){return e=e.split("/").filter(function(t){return 0<t.length}).join("/"),0===t.length?e:t+"/"+e},E=function(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)},T=function(t){if("undefined"!=typeof r)return new r.Promise(t);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},O=function(t,e,n,r){this.h=t,this.b={},this.method=e,this.headers={},this.body=null,this.j=n,this.l=this.a=null,this.c=[200],this.g=[],this.timeout=r,this.f=!0},_={STATE_CHANGED:"state_changed"},R={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},P=function(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}},M=function(t){return l(t)&&null!==t},I=function(t){return"string"==typeof t||t instanceof String},N=function(){return"undefined"!=typeof Blob},j=function(t,e){var n=_t;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},L=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},V=function(t,e){return t<e?-1:t>e?1:0},F=function(t){return function(){var e=[];Array.prototype.push.apply(e,arguments),r.Promise.resolve(!0).then(function(){t.apply(null,e)})}},D=function(t,e){this.bucket=t,this.path=e},B=function(t){var e=encodeURIComponent;return"/b/"+e(t.bucket)+"/o/"+e(t.path)},q=function(t){for(var e=null,n=[{K:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,G:{bucket:1,path:3},J:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path=t.path.slice(0,-1))}},{K:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,G:{bucket:1,path:3},J:function(t){t.path=decodeURIComponent(t.path)}}],r=0;r<n.length;r++){var i=n[r],o=i.K.exec(t);if(o){e=o[i.G.bucket],(o=o[i.G.path])||(o=""),e=new D(e,o),i.J(e);break}}if(null==e)throw new v("invalid-url","Invalid URL '"+t+"'.");return e},U=function(t,e,n){"function"==h(t)||M(e)||M(n)?(this.c=t,this.a=e||null,this.b=n||null):(this.c=t.next||null,this.a=t.error||null,this.b=t.complete||null)},H={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},z=function(t){switch(t){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},W=function(t,e){this.b=t,this.a=e||null},K=function(t,e){switch(t){case"raw":return new W(G(e));case"base64":case"base64url":return new W(X(t,e));case"data_url":t=new Q(e);var n;if(t.a)n=X("base64",t.c);else{try{n=decodeURIComponent(t.c)}catch(t){throw x("data_url","Malformed data URL.")}n=G(n)}return new W(n,new Q(e).b)}throw g()},G=function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(r);else if(2047>=r)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=t.charCodeAt(++n),r=65536|(1023&r)<<10|1023&i;e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)},X=function(t,e){switch(t){case"base64":var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw x(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/"),n||r)throw x(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw x(t,"Invalid character found")}for(t=new Uint8Array(i.length),e=0;e<i.length;e++)t[e]=i.charCodeAt(e);return t},Q=function(t){var e=t.match(/^data:([^,]+)?,/);if(null===e)throw x("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(e=e[1]||null,this.a=!1,this.b=null,null!=e){var n=e.length-7;this.b=(this.a=0<=n&&e.indexOf(";base64",n)==n)?e.substring(0,e.length-7):e}this.c=t.substring(t.indexOf(",")+1)},$=function(t){var e=encodeURIComponent,n="?";return S(t,function(t,r){t=e(t)+"="+e(r),n=n+t+"&"}),n=n.slice(0,-1)},J=function(){var t=this;this.a=new XMLHttpRequest,this.c=0,this.f=T(function(e){t.a.addEventListener("abort",function(){t.c=2,e(t)}),t.a.addEventListener("error",function(){t.c=1,e(t)}),t.a.addEventListener("load",function(){e(t)})}),this.b=!1},Y=function(t,e,n,r,i){if(t.b)throw k("cannot .send() more than once");return t.b=!0,t.a.open(n,e,!0),M(i)&&S(i,function(e,n){t.a.setRequestHeader(e,n.toString())}),M(r)?t.a.send(r):t.a.send(),t.f},Z=function(t){if(!t.b)throw k("cannot .getErrorCode() before sending");return t.c},tt=function(t){if(!t.b)throw k("cannot .getStatus() before sending");try{return t.a.status}catch(t){return-1}},et=function(t){if(!t.b)throw k("cannot .getResponseText() before sending");return t.a.responseText};J.prototype.abort=function(){this.a.abort()};var nt=function(t,e,n,r,i,o){this.b=t,this.h=e,this.f=n,this.a=r,this.g=i,this.c=o};t=nt.prototype,t.V=function(){return this.b},t.qa=function(){return this.h},t.na=function(){return this.f},t.ia=function(){return this.a},t.W=function(){if(M(this.a)){var t=this.a.downloadURLs;return M(t)&&M(t[0])?t[0]:null}return null},t.pa=function(){return this.g},t.la=function(){return this.c};var rt;t:{var it=c.navigator;if(it){var ot=it.userAgent;if(ot){rt=ot;break t}}rt=""}var st=function(t,e,n,r,i,o,s,a,u,c,l){this.C=t,this.A=e,this.v=n,this.o=r,this.B=i.slice(),this.m=o.slice(),this.j=this.l=this.c=this.b=null,this.f=this.g=!1,this.s=s,this.h=a,this.D=l,this.w=u;var h=this;this.u=T(function(t,e){h.l=t,h.j=e,ut(h)})},at=function(t,e,n){this.b=t,this.c=e,this.a=!!n},ut=function(t){function e(t,e){e?t(!1,new at(!1,null,!0)):(e=new J,e.a.withCredentials=r.D,r.b=e,Y(e,r.C,r.A,r.o,r.v).then(function(e){r.b=null;var n=0===Z(e),i=tt(e);if(!(n=!n))var n=f([408,429],i),o=f(r.m,i),n=500<=i&&600>i||n||o;n?(e=2===Z(e),t(!1,new at(!1,null,e))):t(!0,new at(f(r.B,i),e))}))}function n(t,e){var n=r.l;t=r.j;var i=e.c;if(e.b)try{var o=r.s(i,et(i));l(o)?n(o):n()}catch(e){t(e)}else null!==i?(e=g(),o=et(i),e.serverResponse=o,t(r.h?r.h(i,e):e)):(e=e.a?r.f?w():y():new v("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),t(e))}var r=t;t.g?n(0,new at(!1,null,!0)):t.c=p(e,n,t.w)};st.prototype.a=function(){return this.u},st.prototype.cancel=function(t){this.g=!0,this.f=t||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var ct=function(t,e,n){var i=$(t.b),i=t.h+i,o=t.headers?C(t.headers):{};return null!==e&&0<e.length&&(o.Authorization="Firebase "+e),o["X-Firebase-Storage-Version"]="webjs/"+("undefined"!=typeof r?r.SDK_VERSION:"AppManager"),new st(i,t.method,o,t.body,t.c,t.g,t.j,t.a,t.timeout,0,n)},lt=function(){},ht=function(t){this.b=r.Promise.reject(t)};ht.prototype.a=function(){return this.b},ht.prototype.cancel=function(){};var ft=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},pt=function(t,e){function n(){delete i.a[r]}var r=t.b;t.b++,t.a[r]=e;var i=t;e.a().then(n,n)},dt=function(t){S(t.a,function(t,e){e&&e.cancel(!0)}),t.a={}},vt=function(t,e,n,r,i){if(this.a=t,this.g=null,null!==this.a&&(t=this.a.options,M(t))){if(t=t.storageBucket||null,null==t)t=null;else{var o=null;try{o=q(t)}catch(t){}if(null!==o){if(""!==o.path)throw new v("invalid-default-bucket","Invalid default bucket '"+t+"'.");t=o.bucket}}this.g=t}this.o=e,this.m=n,this.j=i,this.l=r,this.c=12e4,this.b=6e4,this.h=new ft,this.f=!1},gt=function(t){return null!==t.a&&M(t.a.INTERNAL)&&M(t.a.INTERNAL.getToken)?t.a.INTERNAL.getToken().then(function(t){return M(t)?t.accessToken:null},function(){return null}):r.Promise.resolve(null)};vt.prototype.bucket=function(){if(this.f)throw w();return this.g};var yt,mt=function(t,e,n){return t.f?new ht(w()):(e=t.m(e,n,null===t.a,t.j),pt(t.h,e),e)},bt=-1!=rt.indexOf("Opera"),wt=-1!=rt.indexOf("Trident")||-1!=rt.indexOf("MSIE"),xt=-1!=rt.indexOf("Edge"),kt=!(-1==rt.indexOf("Gecko")||-1!=rt.toLowerCase().indexOf("webkit")&&-1==rt.indexOf("Edge")||-1!=rt.indexOf("Trident")||-1!=rt.indexOf("MSIE")||-1!=rt.indexOf("Edge")),St=-1!=rt.toLowerCase().indexOf("webkit")&&-1==rt.indexOf("Edge");t:{var Ct="",At=function(){var t=rt;return kt?/rv\:([^\);]+)(\)|;)/.exec(t):xt?/Edge\/([\d\.]+)/.exec(t):wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):St?/WebKit\/(\S+)/.exec(t):bt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(At&&(Ct=At?At[1]:""),wt){var Et,Tt=c.document;if(Et=Tt?Tt.documentMode:void 0,null!=Et&&Et>parseFloat(Ct)){yt=String(Et);break t}}yt=Ct}var Ot=yt,_t={},Rt=function(t){return j(t,function(){for(var e=0,n=L(String(Ot)).split("."),r=L(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=V(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||V(0==s[2].length,0==a[2].length)||V(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})},Pt=function(t){var e=c.BlobBuilder||c.WebKitBlobBuilder;if(l(e)){for(var e=new e,n=0;n<arguments.length;n++)e.append(arguments[n]);return e.getBlob()}if(e=Array.prototype.slice.call(arguments),n=c.BlobBuilder||c.WebKitBlobBuilder,l(n)){for(var n=new n,r=0;r<e.length;r++)n.append(e[r],void 0);e=n.getBlob(void 0)}else{if(!l(c.Blob))throw Error("This browser doesn't seem to support creating Blobs");e=new Blob(e,{})}return e},Mt=function(t,e,n){return l(n)||(n=t.size),t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?kt&&!Rt("13.0")||St&&!Rt("537.1")?(0>e&&(e+=t.size),0>e&&(e=0),0>n&&(n+=t.size),n<e&&(n=e),t.slice(e,n-e)):t.slice(e,n):null},It=function(t,e){return e},Nt=function(t,e,n,r){this.c=t,this.b=e||t,this.writable=!!n,this.a=r||It},jt=null,Lt=function(){if(jt)return jt;var t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));var e=new Nt("name");return e.a=function(t,e){return!I(e)||2>e.length?e:E(e)},t.push(e),e=new Nt("size"),e.a=function(t,e){return M(e)?+e:e},t.push(e),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),t.push(new Nt("downloadTokens","downloadURLs",!1,function(t,e){if(!(I(e)&&0<e.length))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var r=t.fullPath,r="https://firebasestorage.googleapis.com/v0"+("/b/"+n(t.bucket)+"/o/"+n(r));return e=$({alt:"media",token:e}),r+e})})),jt=t},Vt=function(t,e){Object.defineProperty(t,"ref",{get:function(){return e.o(e,new D(t.bucket,t.fullPath))}})},Ft=function(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.c]=t[o.b])}return JSON.stringify(n)},Dt=function(t){if(!t||"object"!=typeof t)throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if("object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}else if(null!=n&&"object"==typeof n)throw"Mapping for '"+e+"' cannot be an object."}},Bt=function(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].b){r=o;break}if(!(r<=n.length&&n.length<=i))throw r===i?(e=r,r=1===r?"argument":"arguments"):(e="between "+r+" and "+i,r="arguments"),new v("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+e+" "+r+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].a(n[o])}catch(e){if(e instanceof Error)throw b(o,t,e.message);throw b(o,t,e)}},qt=function(t,e){var n=this;this.a=function(e){n.b&&!l(e)||t(e)},this.b=!!e},Ut=function(t,e){return function(n){t(n),e(n)}},Ht=function(t,e){function n(t){if(!("string"==typeof t||t instanceof String))throw"Expected string."}var r;return r=t?Ut(n,t):n,new qt(r,e)},zt=function(){return new qt(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||N()&&t instanceof Blob))throw"Expected Blob or File."})},Wt=function(){return new qt(function(t){if(!(("number"==typeof t||t instanceof Number)&&0<=t))throw"Expected a number 0 or greater."})},Kt=function(t,e){return new qt(function(e){if(!(null===e||M(e)&&e instanceof Object))throw"Expected an Object.";M(t)&&t(e)},e)},Gt=function(){return new qt(function(t){if(null!==t&&"function"!=h(t))throw"Expected a Function."},!0)},Xt=function(t,e){N()&&t instanceof Blob?(this.i=t,e=t.size,t=t.type):(t instanceof ArrayBuffer?(e?this.i=new Uint8Array(t):(this.i=new Uint8Array(t.byteLength),this.i.set(new Uint8Array(t))),e=this.i.length):(e?this.i=t:(this.i=new Uint8Array(t.length),this.i.set(t)),e=t.length),t=""),this.a=e,this.b=t};Xt.prototype.type=function(){return this.b},Xt.prototype.slice=function(t,e){return N()&&this.i instanceof Blob?(t=Mt(this.i,t,e),null===t?null:new Xt(t)):(t=new Uint8Array(this.i.buffer,t,e-t),new Xt(t,!0))};var Qt=function(t){var e=[];if(Array.prototype.push.apply(e,arguments),N())return e=e.map(function(t){return t instanceof Xt?t.i:t}),new Xt(Pt.apply(null,e));var e=e.map(function(t){return I(t)?K("raw",t).b.buffer:t.i.buffer}),n=0;e.forEach(function(t){n+=t.byteLength});var r=new Uint8Array(n),i=0;return e.forEach(function(t){t=new Uint8Array(t);for(var e=0;e<t.length;e++)r[i++]=t[e]}),new Xt(r,!0)},$t=function(t){if(!t)throw g()},Jt=function(t,e){return function(n,r){var i;t:{try{i=JSON.parse(r)}catch(t){i=null;break t}n=typeof i,i="object"==n&&null!=i||"function"==n?i:null}if(null===i)i=null;else{n={type:"file"},r=e.length;for(var o=0;o<r;o++){var s=e[o];n[s.b]=s.a(n,i[s.c])}Vt(n,t),i=n}return $t(null!==i),i}},Yt=function(t){return function(e,n){return e=401===tt(e)?new v("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===tt(e)?new v("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===tt(e)?new v("unauthorized","User does not have permission to access '"+t.path+"'."):n,e.serverResponse=n.serverResponse,e}},Zt=function(t){var e=Yt(t);return function(n,r){var i=e(n,r);return 404===tt(n)&&(i=new v("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}},te=function(t,e,n){var r=B(e);return t=new O(d+"/v0"+r,"GET",Jt(t,n),t.c),t.a=Zt(e),t},ee=function(t,e){var n=B(e);return t=new O(d+"/v0"+n,"DELETE",function(){},t.c),t.c=[200,204],t.a=Zt(e),t},ne=function(t,e,n){return n=n?C(n):{},n.fullPath=t.path,n.size=e.a,n.contentType||(t=e&&e.type()||"application/octet-stream",n.contentType=t),n},re=function(t,e,n,r,i){var o,s="/b/"+encodeURIComponent(e.bucket)+"/o",a={"X-Goog-Upload-Protocol":"multipart"};o="";for(var u=0;2>u;u++)o+=Math.random().toString().slice(2);if(a["Content-Type"]="multipart/related; boundary="+o,i=ne(e,r,i),u=Ft(i,n),r=Qt("--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+o+"\r\nContent-Type: "+i.contentType+"\r\n\r\n",r,"\r\n--"+o+"--"),null===r)throw m();return t=new O(d+"/v0"+s,"POST",Jt(t,n),t.b),t.b={name:i.fullPath},t.headers=a,t.body=r.i,t.a=Yt(e),t},ie=function(t,e,n,r){this.a=t,this.b=e,this.c=!!n,this.f=r||null},oe=function(t,e){var n;try{n=t.a.getResponseHeader("X-Goog-Upload-Status")}catch(t){$t(!1)}return $t(f(e||["active"],n)),n},se=function(t,e,n,r,i){var o="/b/"+encodeURIComponent(e.bucket)+"/o",s=ne(e,r,i);return i={name:s.fullPath},o=d+"/v0"+o,r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.a,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},n=Ft(s,n),t=new O(o,"POST",function(t){oe(t);var e;try{e=t.a.getResponseHeader("X-Goog-Upload-URL")}catch(t){$t(!1)}return $t(I(e)),e},t.b),t.b=i,t.headers=r,t.body=n,t.a=Yt(e),t},ae=function(t,e,n,r){return t=new O(n,"POST",function(t){var e,n=oe(t,["active","final"]);try{e=t.a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){$t(!1)}return t=e,isFinite(t)&&(t=String(t)),t="string"==typeof t?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN,$t(!isNaN(t)),new ie(t,r.a,"final"===n)},t.b),t.headers={"X-Goog-Upload-Command":"query"},t.a=Yt(e),t.f=!1,t},ue=function(t,e,n,r,i,o,s){var a=new ie(0,0);if(s?(a.a=s.a,a.b=s.b):(a.a=0,a.b=r.a),r.a!==a.b)throw new v("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=s=a.b-a.a;0<i&&(u=Math.min(u,i));var c=a.a;if(i={"X-Goog-Upload-Command":u===s?"upload, finalize":"upload","X-Goog-Upload-Offset":a.a},s=r.slice(c,c+u),null===s)throw m();return n=new O(n,"POST",function(t,n){var i,s=oe(t,["active","final"]),c=a.a+u,l=r.a;return i="final"===s?Jt(e,o)(t,n):null,new ie(c,l,"final"===s,i)},e.b),n.headers=i,n.body=s.i,n.l=null,n.a=Yt(t),n.f=!1,n},ce=function(t,e,n,r,i,o){this.L=t,this.c=e,this.l=n,this.f=i,this.h=o||null,this.s=r,this.m=0,this.D=this.u=!1,this.B=[],this.S=262144<this.f.a,this.b="running",this.a=this.v=this.g=null,this.j=1;var s=this;this.F=function(t){s.a=null,s.j=1,"storage/canceled"===t.code?(s.u=!0,be(s)):(s.g=t,me(s,"error"))},this.P=function(t){s.a=null,"storage/canceled"===t.code?be(s):(s.g=t,me(s,"error"))},this.A=this.o=null,this.C=T(function(t,e){s.o=t,s.A=e,le(s)}),this.C.then(null,function(){})},le=function(t){"running"===t.b&&null===t.a&&(t.S?null===t.v?fe(t):t.u?pe(t):t.D?ve(t):de(t):ge(t))},he=function(t,e){gt(t.c).then(function(n){switch(t.b){case"running":e(n);break;case"canceling":me(t,"canceled");break;case"pausing":me(t,"paused")}})},fe=function(t){he(t,function(e){var n=se(t.c,t.l,t.s,t.f,t.h);t.a=mt(t.c,n,e),t.a.a().then(function(e){t.a=null,t.v=e,t.u=!1,be(t)},this.F)})},pe=function(t){var e=t.v;he(t,function(n){var r=ae(t.c,t.l,e,t.f);t.a=mt(t.c,r,n),t.a.a().then(function(e){t.a=null,ye(t,e.a),t.u=!1,e.c&&(t.D=!0),be(t)},t.F)})},de=function(t){var e=262144*t.j,n=new ie(t.m,t.f.a),r=t.v;he(t,function(i){var o;try{o=ue(t.l,t.c,r,t.f,e,t.s,n)}catch(e){return t.g=e,void me(t,"error")}t.a=mt(t.c,o,i),t.a.a().then(function(e){33554432>262144*t.j&&(t.j*=2),t.a=null,ye(t,e.a),e.c?(t.h=e.f,me(t,"success")):be(t)},t.F)})},ve=function(t){he(t,function(e){var n=te(t.c,t.l,t.s);t.a=mt(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,me(t,"success")},t.P)})},ge=function(t){he(t,function(e){var n=re(t.c,t.l,t.s,t.f,t.h);t.a=mt(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,ye(t,t.f.a),me(t,"success")},t.F)})},ye=function(t,e){var n=t.m;t.m=e,t.m>n&&xe(t)},me=function(t,e){if(t.b!==e)switch(e){case"canceling":t.b=e,null!==t.a&&t.a.cancel();break;case"pausing":t.b=e,null!==t.a&&t.a.cancel();break;case"running":var n="paused"===t.b;t.b=e,n&&(xe(t),le(t));break;case"paused":t.b=e,xe(t);break;case"canceled":t.g=y(),t.b=e,xe(t);break;case"error":t.b=e,xe(t);break;case"success":t.b=e,xe(t)}},be=function(t){switch(t.b){case"pausing":me(t,"paused");break;case"canceling":me(t,"canceled");break;case"running":le(t)}};ce.prototype.w=function(){return new nt(this.m,this.f.a,P(this.b),this.h,this,this.L)},ce.prototype.M=function(t,e,n,r){function i(t){try{return void s(t)}catch(t){}try{if(a(t),!(l(t.next)||l(t.error)||l(t.complete)))throw""}catch(t){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function o(t){return function(e,n,r){null!==t&&Bt("on",t,arguments);var i=new U(e,n,r);return we(u,i),function(){var t=u.B,e=t.indexOf(i);-1!==e&&t.splice(e,1)}}}var s=Gt().a,a=Kt(null,!0).a;Bt("on",[Ht(function(){if("state_changed"!==t)throw"Expected one of the event types: [state_changed]."}),Kt(i,!0),Gt(),Gt()],arguments);var u=this,c=[Kt(function(t){if(null===t)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";i(t)}),Gt(),Gt()];return l(e)||l(n)||l(r)?o(null)(e,n,r):o(c)},ce.prototype.then=function(t,e){return this.C.then(t,e)};var we=function(t,e){t.B.push(e),Se(t,e)},xe=function(t){ke(t),Array.prototype.slice.call(t.B).forEach(function(e){Se(t,e)})},ke=function(t){if(null!==t.o){var e=!0;switch(P(t.b)){case"success":F(t.o.bind(null,t.w()))();break;case"canceled":case"error":F(t.A.bind(null,t.g))();break;default:e=!1}e&&(t.o=null,t.A=null)}},Se=function(t,e){switch(P(t.b)){case"running":case"paused":null!==e.c&&F(e.c.bind(e,t.w()))();break;case"success":null!==e.b&&F(e.b.bind(e))();break;case"canceled":case"error":null!==e.a&&F(e.a.bind(e,t.g))();break;default:null!==e.a&&F(e.a.bind(e,t.g))()}};ce.prototype.O=function(){Bt("resume",[],arguments);var t="paused"===this.b||"pausing"===this.b;return t&&me(this,"running"),t},ce.prototype.N=function(){Bt("pause",[],arguments);var t="running"===this.b;return t&&me(this,"pausing"),t},ce.prototype.cancel=function(){Bt("cancel",[],arguments);var t="running"===this.b||"pausing"===this.b;return t&&me(this,"canceling"),t};var Ce=function(t,e){if(this.b=t,e)this.a=e instanceof D?e:q(e);else{if(t=t.bucket(),null===t)throw new v("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");this.a=new D(t,"")}};Ce.prototype.toString=function(){return Bt("toString",[],arguments),"gs://"+this.a.bucket+"/"+this.a.path};var Ae=function(t,e){return new Ce(t,e)};t=Ce.prototype,t.H=function(t){Bt("child",[Ht()],arguments);var e=A(this.a.path,t);return Ae(this.b,new D(this.a.bucket,e))},t.ka=function(){var t;if(t=this.a.path,0==t.length)t=null;else{var e=t.lastIndexOf("/");t=-1===e?"":t.slice(0,e)}return null===t?null:Ae(this.b,new D(this.a.bucket,t))},t.ma=function(){return Ae(this.b,new D(this.a.bucket,""))},t.U=function(){return this.a.bucket},t.fa=function(){return this.a.path},t.ja=function(){return E(this.a.path)},t.oa=function(){return this.b.l},t.Z=function(t,e){return Bt("put",[zt(),new qt(Dt,!0)],arguments),Ee(this,"put"),new ce(this,this.b,this.a,Lt(),new Xt(t),e)},t.$=function(t,e,n){Bt("putString",[Ht(),Ht(z,!0),new qt(Dt,!0)],arguments),Ee(this,"putString");var r=K(M(e)?e:"raw",t),i=n?C(n):{};return!M(i.contentType)&&M(r.a)&&(i.contentType=r.a),new ce(this,this.b,this.a,Lt(),new Xt(r.b,!0),i)},t.X=function(){Bt("delete",[],arguments),Ee(this,"delete");var t=this;return gt(this.b).then(function(e){var n=ee(t.b,t.a);return mt(t.b,n,e).a()})},t.I=function(){Bt("getMetadata",[],arguments),Ee(this,"getMetadata");var t=this;return gt(this.b).then(function(e){var n=te(t.b,t.a,Lt());return mt(t.b,n,e).a()})},t.aa=function(t){Bt("updateMetadata",[new qt(Dt,void 0)],arguments),Ee(this,"updateMetadata");var e=this;return gt(this.b).then(function(n){var r=e.b,i=e.a,o=t,s=Lt(),a=B(i),a=d+"/v0"+a,o=Ft(o,s),r=new O(a,"PATCH",Jt(r,s),r.c);return r.headers={"Content-Type":"application/json; charset=utf-8"},r.body=o,r.a=Zt(i),mt(e.b,r,n).a()})},t.Y=function(){return Bt("getDownloadURL",[],arguments),Ee(this,"getDownloadURL"),this.I().then(function(t){if(t=t.downloadURLs[0],M(t))return t;throw new v("no-download-url","The given file does not have any download URLs.")})};var Ee=function(t,e){if(""===t.a.path)throw new v("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},Te=function(t,e){this.a=new vt(t,function(t,e){return new Ce(t,e)},ct,this,M(e)?e:new lt),this.b=t,this.c=new Oe(this)};t=Te.prototype,t.ba=function(t){Bt("ref",[Ht(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments);var e=new Ce(this.a);return l(t)?e.H(t):e},t.ca=function(t){return Bt("refFromURL",[Ht(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{q(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Ce(this.a,t)},t.ha=function(){return this.a.b},t.ea=function(t){Bt("setMaxUploadRetryTime",[Wt()],arguments),this.a.b=t},t.ga=function(){return this.a.c},t.da=function(t){Bt("setMaxOperationRetryTime",[Wt()],arguments),this.a.c=t},t.T=function(){return this.b},t.R=function(){return this.c};var Oe=function(t){this.a=t};Oe.prototype.b=function(){var t=this.a.a;t.f=!0,t.a=null,dt(t.h)};var _e=function(t,e,n){Object.defineProperty(t,e,{get:n})};Ce.prototype.toString=Ce.prototype.toString,Ce.prototype.child=Ce.prototype.H,Ce.prototype.put=Ce.prototype.Z,Ce.prototype.putString=Ce.prototype.$,Ce.prototype.delete=Ce.prototype.X,Ce.prototype.getMetadata=Ce.prototype.I,Ce.prototype.updateMetadata=Ce.prototype.aa,Ce.prototype.getDownloadURL=Ce.prototype.Y,_e(Ce.prototype,"parent",Ce.prototype.ka),_e(Ce.prototype,"root",Ce.prototype.ma),_e(Ce.prototype,"bucket",Ce.prototype.U),_e(Ce.prototype,"fullPath",Ce.prototype.fa),_e(Ce.prototype,"name",Ce.prototype.ja),_e(Ce.prototype,"storage",Ce.prototype.oa),Te.prototype.ref=Te.prototype.ba,Te.prototype.refFromURL=Te.prototype.ca,_e(Te.prototype,"maxOperationRetryTime",Te.prototype.ga),Te.prototype.setMaxOperationRetryTime=Te.prototype.da,_e(Te.prototype,"maxUploadRetryTime",Te.prototype.ha),Te.prototype.setMaxUploadRetryTime=Te.prototype.ea,_e(Te.prototype,"app",Te.prototype.T),_e(Te.prototype,"INTERNAL",Te.prototype.R),Oe.prototype.delete=Oe.prototype.b,Te.prototype.capi_=function(t){d=t},ce.prototype.on=ce.prototype.M,ce.prototype.resume=ce.prototype.O,ce.prototype.pause=ce.prototype.N,ce.prototype.cancel=ce.prototype.cancel,_e(ce.prototype,"snapshot",ce.prototype.w),_e(nt.prototype,"bytesTransferred",nt.prototype.V),_e(nt.prototype,"totalBytes",nt.prototype.qa),_e(nt.prototype,"state",nt.prototype.na),_e(nt.prototype,"metadata",nt.prototype.ia),_e(nt.prototype,"downloadURL",nt.prototype.W),_e(nt.prototype,"task",nt.prototype.pa),_e(nt.prototype,"ref",nt.prototype.la),_.STATE_CHANGED="state_changed",R.RUNNING="running",R.PAUSED="paused",R.SUCCESS="success",R.CANCELED="canceled",R.ERROR="error",H.RAW="raw",H.BASE64="base64",H.BASE64URL="base64url",H.DATA_URL="data_url",function(){function t(t){return new Te(t)}var e={TaskState:R,TaskEvent:_,StringFormat:H,Storage:Te,Reference:Ce};if("undefined"==typeof r)throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");r.INTERNAL.registerService("storage",t,e)}()}).call(this)}).call(void 0!==typeof e?e:void 0!==typeof self?self:void 0!==typeof window?window:{}),t.exports=r.storage}).call(e,n(11))},,,,,,,,,,,function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){v&&p&&(v=!1,p.length?d=p.concat(d):g=-1,d.length&&a())}function a(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(p=d,d=[];++g<e;)p&&p[g].run();g=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,d=[],v=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return v[d]=r,p(d),d++}function i(t){delete v[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function s(t){if(g)setTimeout(s,0,t);else{var e=v[t];if(e){g=!0;try{o(e)}finally{i(t),g=!1}}}}function a(){p=function(t){e.nextTick(function(){s(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function c(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),p=function(n){t.postMessage(e+n,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;s(e)},p=function(e){t.port2.postMessage(e)}}function h(){var t=y.documentElement;
p=function(e){var n=y.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function f(){p=function(t){setTimeout(s,0,t)}}if(!t.setImmediate){var p,d=1,v={},g=!1,y=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?a():u()?c():t.MessageChannel?l():y&&"onreadystatechange"in y.createElement("script")?h():f(),m.setImmediate=r,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,n(11),n(101))},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(102),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},,,function(t,e,n){n(38),n(15),n(0),n(39),n(40),n(41),n(42),n(44),n(43),n(18),n(16),t.exports=n(19)}]);